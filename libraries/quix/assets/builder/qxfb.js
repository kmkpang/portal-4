!function(e){function t(t){for(var l,i,o=t[0],r=t[1],d=t[2],c=0,p=[];c<o.length;c++)i=o[c],n[i]&&p.push(n[i][0]),n[i]=0;for(l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l]);for(u&&u(t);p.length;)p.shift()();return s.push.apply(s,d||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],l=!0,o=1;o<a.length;o++){var r=a[o];0!==n[r]&&(l=!1)}l&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var l={},n={0:0},s=[];function i(t){if(l[t])return l[t].exports;var a=l[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=l,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)i.d(a,l,function(t){return e[t]}.bind(null,l));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/Users/ahba/Work/quix/src/lib_quix/assets/builder/";var o=window.webpackJsonp=window.webpackJsonp||[],r=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var u=r;s.push([704,1]),a()}({104:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){let l=e.slice(0,t),n=e.slice(t);return e=l.set(l.size,a).concat(n)}},106:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){let a=(0,n.fromJS)({visibility:t.get("visibility"),form:(0,i.default)(t.get("form")),slug:t.get("slug")});t.has("children")&&(a=a.set("children",t.get("children").map(e)));t.has("size")&&(a=a.set("size",t.get("size")));t.has("width")&&(a=a.set("width",t.get("width")));return a};var l,n=a(22),s=a(414),i=(l=s)&&l.__esModule?l:{default:l}},1150:function(e,t,a){var l=a(1151);"string"==typeof l&&(l=[[e.i,l,""]]);a(34)(l,{});l.locals&&(e.exports=l.locals)},1151:function(e,t,a){(e.exports=a(31)(!1)).push([e.i,"h3.snippet-editor__heading.snippet-editor__heading-icon.snippet-editor__heading-icon-eye {\n    display: none;\n}\n\nbutton.snippet-editor__button.snippet-editor__edit-button {\n    display: none;\n}\n\n.snippet-editor__form {\n    display: none;\n}",""])},1152:function(e,t,a){"use strict";var l;Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),s=O(n),i=O(a(1153)),o=a(94),r=O(a(1258)),d=O(a(1395)),u=O(a(1405)),c=O(a(1482)),p=O(a(1492)),h=O(a(1493)),f=O(a(67)),m=O(a(1513)),g=O(a(1523)),v=O(a(1525)),b=a(33),_=a(350),E=O(a(1526)),y=O(a(1527)),x=O(a(1528)),C=O(a(27)),w=a(1530),S=O(a(1531)),N=O(a(76));function O(e){return e&&e.__esModule?e:{default:e}}let q=(0,o.DragDropContext)(m.default)(l=(0,f.default)({elements:[["elements"],e=>e],device:[["nodes"],e=>e.get("device")],responsive:[["nodes"],e=>e.get("responsive")],nodes:[["nodes"],e=>e.get("nodes")]})(l=class extends n.Component{constructor(...e){var t;return t=super(...e),this.shouldComponentUpdate=C.default,t}componentDidMount(){(0,w.setContainerWidth)(jQuery(".app-mount").width())}componentWillReceiveProps(e){const t={desktop:"lg",tablet:"md",mobile:"sm"};N.default.get("qx-device")!={lg:"desktop",md:"tablet",sm:"mobile"}[e.device]&&(0,b.setDevice)(t[N.default.get("qx-device")])}render(){var e=this.props;let t=e.nodes,a=e.elements,l=e.device,n=e.responsive;return s.default.createElement("div",{onClick:this.handleContextMenu},s.default.createElement(u.default,null),s.default.createElement(r.default,null),s.default.createElement(d.default,null),s.default.createElement(g.default,null),s.default.createElement(h.default,null),s.default.createElement(v.default,null),s.default.createElement(p.default,null),s.default.createElement(x.default,null),s.default.createElement(y.default,null),s.default.createElement(S.default,null),s.default.createElement(E.default,null),s.default.createElement(c.default,{path:a.get("path"),elements:a.get("list"),show:a.get("visible"),onHide:_.hideElements,onSelect:b.addElementNode}),s.default.createElement(i.default,{sections:t,device:l,responsive:n}))}})||l)||l;t.default=q},1153:function(e,t,a){"use strict";var l,n;Object.defineProperty(t,"__esModule",{value:!0});var s=m(a(14)),i=m(a(23)),o=m(a(0)),r=m(a(1154)),d=a(52),u=a(1),c=m(u),p=a(33),h=(a(45),m(a(27)));a(1255);var f=m(a(24));function m(e){return e&&e.__esModule?e:{default:e}}let g=(n=l=class extends u.Component{constructor(e){super(e),this.shouldComponentUpdate=h.default,this.addBodyClass=(()=>{0===this.props.sections.size?document.querySelector(".app-mount").classList.add("qx-fb-blank-page"):document.querySelector(".app-mount").classList.remove("qx-fb-blank-page")}),this.showBlocks=(e=>{s.default.emit("SHOW_TEMPLATE_MODAL",{path:e})}),this.renderSection=this.renderSection.bind(this),this.renderSections=this.renderSections.bind(this),this.renderEmptySectionAddButton=this.renderEmptySectionAddButton.bind(this),this.addFromCollection=this.addFromCollection.bind(this)}componentDidMount(){this.addBodyClass()}componentDidUpdate(e,t){e.sections.size!==this.props.sections.size&&this.addBodyClass(),(0,i.default)(e,this.props)&&(0,i.default)(t,this.state)}renderSection(e,t){var a=this.props;let l=a.device,n=a.responsive,s=e.get("id"),i=e.get("form"),o=e.get("name"),u=e.get("children"),h=e.get("thumb_file"),f=[t],m=d.section.get("form"),g=!l||e.getIn(["visibility",l]);return c.default.createElement(r.default,{size:this.props.sections.size,index:t,schema:m,key:s,path:f,form:i,name:o,thumb:h,device:l,responsive:n,visible:g,children:u,moveSection:p.moveNode,showBlocks:this.showBlocks})}renderSections(e){return e.map(this.renderSection)}addFromCollection(){let e=this.props.path;e=null==e?0:e,reactor.dispatch("OPEN_PRESETS_SCREEN",{path:e[0]+1,category:"section"})}renderEmptySectionAddButton(){return c.default.createElement("div",{className:"qx-fb-section__empty"},c.default.createElement(f.default,{type:"primary",size:"large",onClick:p.addSectionNode},c.default.createElement("i",{className:"qxuicon-plus"})," Add Section"),c.default.createElement(f.default,{size:"large",onClick:this.showBlocks},c.default.createElement("i",{className:"qxuicon-columns"})," Add Template"))}render(){let e=this.props.sections;return 0===e.size?c.default.createElement("div",{className:"qx-fb-blank-page__section"},this.renderEmptySectionAddButton()):c.default.createElement("div",null,this.renderSections(e))}},l.propTypes={sections:o.default.object.isRequired,device:o.default.string.isRequired},n);t.default=g},1154:function(e,t,a){"use strict";var l,n,s,i,o;Object.defineProperty(t,"__esModule",{value:!0});M(a(65));var r=M(a(14)),d=M(a(1155)),u=M(a(9)),c=M(a(0)),p=M(a(503)),h=M(a(2)),f=a(1),m=M(f),g=M(a(1251)),v=a(116),b=M(a(1253)),E=M(a(220)),y=a(94),x=M(a(221)),C=a(117),w=a(226),S=M(a(227)),N=M(a(27)),O=a(33),q=(a(45),M(a(59))),k=(a(88),a(228)),T=(M(a(26)),M(a(32))),P=M(a(24));M(a(46));function M(e){return e&&e.__esModule?e:{default:e}}const I=P.default.Group;T.default.Group;jQuery;let j=(l=(0,y.DropTarget)(v.SECTION_NODE,(0,C.dropTarget)(),C.dropCollect),n=(0,y.DragSource)(v.SECTION_NODE,(0,w.dragSource)(v.SECTION_NODE),w.dragCollect),(0,b.default)(s=(0,E.default)(s=l(s=n((o=i=class extends f.Component{constructor(e){super(e),this.shouldComponentUpdate=N.default,this.showBlocks=(()=>{r.default.emit("Need_Blocks_Side_Bar"),jQuery("body").addClass("sidebar-active"),this.addFromCollection()}),this.renderRows=this.renderRows.bind(this),this.getLocalState=this.getLocalState.bind(this),this.handleUpdateTitle=this.handleUpdateTitle.bind(this),this.addFromCollection=this.addFromCollection.bind(this),this.handleAddSectionClick=this.handleAddSectionClick.bind(this),this.renderSettings=this.renderSettings.bind(this),(0,x.default)(this);let t=this.getLocalState().get("collapsed",!1);window.contextMenu={needPasteOption:!1},this.state={id:_.uniqueId("qx-"),needPasteOption:window.contextMenu.needPasteOption,enableEdit:!1,collapsed:t,sectionRawStyle:"",sectionRawHtml:{class:""},field:{},style:{},placeholder:!1},this._mounted=!1,this._location=""}componentDidMount(){this._mounted=!0;var e=this.props;const t=e.connectDragPreview,a=(e.thumb,document.createElement("img"));a.src=QUIX_ROOT_URL+"libraries/quix/assets/images/drag_elm_icon.png",a.onload=(()=>{t(a)}),jQuery(window).on("beforeunload",e=>{this.getLocalState().set({collapsed:this.state.collapsed})}),r.default.on("TOGGLE_PLACEHOLDER",(e,t)=>{this._mounted&&(this.props.path==e?(this._location=t,this.state.placeholder||this.setState({placeholder:!0})):this.state.placeholder&&this.setState({placeholder:!1}))}),r.default.on("REMOVE_PLACEHOLDER",e=>{this._mounted&&this.setState({placeholder:!1})}),r.default.on("Section_Need_To_Copy",()=>{this._mounted&&(window.contextMenu.needPasteOption=!0,this.setState({needPasteOption:!0}))}),r.default.on("Section_Need_To_Paste",()=>{this._mounted&&(window.contextMenu.needPasteOption=!1,this.setState({needPasteOption:!1}))}),r.default.on("FETCH_SECTION",e=>{localStorage.getItem("qx-form-id")==this.field("id")&&this.loadSection(e.toJS())}),r.default.on("FORM_CLOSED",({id:e})=>{if(e==localStorage.getItem("qx-form-id")){const e=this.props.form.toJS();this.loadSection(e)}}),r.default.on("LAYOUT_NOT_SELECTED",({path:e})=>{let t=this.props.children.toJS();t.pop(),(0,O.withdrawRowLayous)(e,t)}),this.loadSection()}componentWillMount(){r.default.setMaxListeners(0),r.default.removeListener("Section_Need_To_Copy",()=>{}),r.default.removeListener("Section_Need_To_Paste",()=>{}),r.default.removeListener("FETCH_SECTION",()=>{}),r.default.removeListener("LAYOUT_NOT_SELECTED",({})=>{}),r.default.removeListener("FORM_CLOSED",({id:e})=>{})}componentWillUnmount(){this._mounted=!1,jQuery(this.state.modalId).remove()}componentWillReceiveProps(e){localStorage.getItem("qx-form-id")==this.field("id")&&this.loadSection(e.form.toJS())}loadSection(e){if(!this._mounted)return;let t={};t=e||this.props.form.toJS();let a=[];_.each(t,e=>{_.mapValues(e,(e,t)=>{a=_.isArray(e)?_.isArray(e[e.length-1])?_.merge(a,{[t]:e}):_.merge(a,_.mapKeys(e,"name")):_.merge(a,{[t]:e})})}),a=_.merge(a,{visibility:this.props.device}),a=_.merge(a,{field:e=>this.field(e,a)}),this.setState({field:a});let l=Object.assign({},Assets);localStorage.setItem("qx-form-id",a.id.value),l.render("#section-template",a,"#"+a.id.value+"-preview");let n={};if(a.section_stretch.value){let e=jQuery(window).width(),t=jQuery("html").attr("dir"),a=u.default.findDOMNode(this).getBoundingClientRect().left;n={position:"relative",width:e},"rtl"===t?n.marginRight=a:n.marginLeft=-a,this.setState({style:n})}else this.setState({style:{}})}getLocalState(){let e="qx_section_"+this.props.id+"_"+q.default.evaluate(["meta","qid"]);return(0,g.default)(e)()}deleteNode(e){this.props.deleteNode(e)}duplicateNode(e){this.props.duplicateNode(e)}copyNode(e){this.props.copyNode(),r.default.emit("Section_Need_To_Copy")}removeCopyNode(e){r.default.emit("Section_Need_To_Paste")}pasteNode(e){this.props.pasteNode(),r.default.emit("Section_Need_To_Paste")}goPro(e){window.open("https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=context-menu&utm_content=go-pro","_blank")}settingsNode(e){this.props.openSettingsModal(e)}handleAddSectionClick(){let e=parseInt(this.props.path.slice().pop())+1;(0,O.addSectionNode)(e)}handleUpdateTitle(e){(0,this.props.updateTitle)(e.target.value)}addFromCollection(){let e=this.props.path;q.default.dispatch("OPEN_PRESETS_SCREEN",{path:e[0]+1,category:"section"})}showModal(){r.default.emit("SHOW_SECTION_SAVE_MODAL",{path:this.props.path[0]})}renderRows(){var e=this.props;const t=e.moveSection,a=e.device,l=e.children,n=e.responsive,s=(0,S.default)(this.props.path);return m.default.createElement(p.default,{device:a,children:l,moveSection:t,responsive:n,path:s,rowSettings:!0})}sectionContextMenu(){if(!this.props.visible)return m.default.createElement(k.Menu,{id:this.state.id,theme:k.theme.light,style:{zIndex:99999}},m.default.createElement(k.Item,{onClick:this.props.toggleNodeVisibility},m.default.createElement("i",{className:"qxuicon-low-vision"})," Enable Section"));let e=m.default.createElement(k.Item,{onClick:this.copyNode.bind(this)},m.default.createElement("i",{className:"qxuicon-clipboard"})," Copy");(this.state.needPasteOption||window.needPasteOption.section)&&(e=m.default.createElement(k.Item,{onClick:this.pasteNode.bind(this)},m.default.createElement("i",{className:"qxuicon-paste"})," Paste"));return m.default.createElement(k.Menu,{id:this.state.id,theme:k.theme.light,style:{zIndex:99999}},m.default.createElement(k.Item,{key:"title",disabled:!0,title:"Section"},"Section"),m.default.createElement(k.Item,{onClick:this.settingsNode.bind(this)},m.default.createElement("i",{className:"qxuicon-cog"})," Settings"),m.default.createElement(k.Item,{onClick:this.duplicateNode.bind(this)},m.default.createElement("i",{className:"qxuicon-clone"})," Duplicate"),m.default.createElement(k.Separator,null),e,m.default.createElement(k.Separator,null),m.default.createElement(k.Item,{onClick:this.showModal.bind(this)},m.default.createElement("i",{className:"qxuicon-save"})," Save"),m.default.createElement(k.Item,{onClick:this.props.toggleNodeVisibility},m.default.createElement("i",{className:"qxuicon-low-vision"})," Disable"),m.default.createElement(k.Separator,null),m.default.createElement(k.Item,{onClick:this.deleteNode.bind(this)},m.default.createElement("i",{className:"qxuicon-trash-alt"})," Delete"),null,null)}renderSettings(e,t){const a=this.props.visible?m.default.createElement(P.default,{key:t+"-settings","qx-tooltip":"Section Settings",onClick:this.settingsNode.bind(this)},m.default.createElement("i",{className:"qxuicon-cog"})):"";return m.default.createElement("div",{className:"qx-fb-settings-wrap"},m.default.createElement(I,{prefixCls:"qxui-btn-group",className:"qx-fb-settings qx-fb-settings--section"},a,m.default.createElement(P.default,{className:"contextMenu-dropdown","qx-tooltip":"Options - Right Click",onClick:e=>{e.stopPropagation(),this.menu.handleEvent(e)}},m.default.createElement("i",{className:"qxuicon-bars"})),e(m.default.createElement("span",{className:"cursor-move"},m.default.createElement(P.default,{"qx-tooltip":"Move Section"},m.default.createElement("i",{className:"qxuicon-arrows"}))))))}render(){var e=this.props;const t=e.visible,a=e.children,l=e.isDragging,n=e.connectDragSource,s=e.connectDropTarget,i=this.state.collapsed,o=0===a.size,r=m.default.createElement("div",{className:"qx-fb-new-section-btns qx-p-5 qx-d-flex qx-justify-content-center"},m.default.createElement(P.default,{type:"primary",onClick:this.handleAddSectionClick.bind(this)},"Add Section"),m.default.createElement(P.default,{className:"qx-ml-2",onClick:this.props.showBlocks.bind(this,this.props.path)},"Add Templates"));let u=(0,h.default)("qx-fb-section",{collapsed:i,"qx-fb-empty-section":o,"qx-fb-dragging":l}),c=(0,h.default)("qx-section",{"qx-section--stretch":this.field("section_stretch"),"qx-section-height-full":"full"==this.field("height"),"qx-section-height-custom":"custom"==this.field("height"),"qx-section-has-divider":"none"!=this.field("top_divider_style")||"none"!=this.field("bottom_divider_style")},this.state.field.class?this.state.field.class.value:"");const p=(0,h.default)({"qx-fb-disabled":!t});let f="qx-container";"fluid"!=this.field("container_type")&&"custom"!=this.field("container_type")||(f="qx-container-fluid"),("full"==this.field("height")||"custom"==this.field("height")&&!_.isEmpty(this.field("v_align").value))&&(f+=" "+this.field("v_align").value);window.section[this.field("id")]&&window.section[this.field("id")];let g=(0,d.default)(this.field("top_divider_style")),v=(0,d.default)(this.field("bottom_divider_style")),b="none"!=this.field("top_divider_style")?m.default.createElement("div",{className:"qx-shape qx-shape-top",dangerouslySetInnerHTML:{__html:g}}):"",E="none"!=this.field("bottom_divider_style")?m.default.createElement("div",{className:"qx-shape qx-shape-bottom",dangerouslySetInnerHTML:{__html:v}}):"",y=null;_.isEmpty(this.field("background"))||(y="video"==this.field("background").state.normal.type?m.default.createElement("div",{className:"qx-background-video-container qx-d-xs-none"}):null);let x=null;if(!_.isEmpty(this.field("background_overlay"))){let e="qx-background-overlay "+this.field("id")+"-background-overlay";x=m.default.createElement("div",{className:e})}const C=this.field("id");if(!_.isEmpty(this.field("background"))&&!_.isEmpty(this.field("background").state.normal.properties.parallax_method)&&"js"==this.field("background").state.normal.properties.parallax_method){let e={};_.isEmpty(this.field("background").state.normal.properties.js_parallax_y)||(e.bgy=this.field("background").state.normal.properties.js_parallax_y),_.isEmpty(this.field("background").state.normal.properties.js_parallax_x)||(e.bgx=this.field("background").state.normal.properties.js_parallax_x),setTimeout(function(){qxUIkit.parallax("#"+C,e)},2e3)}return s(m.default.createElement("div",{className:u},m.default.createElement(k.MenuProvider,{id:this.state.id,ref:e=>this.menu=e},m.default.createElement("div",{className:p},m.default.createElement("div",{id:C,className:c,style:this.state.style},this.state.placeholder&&"BEFORE"==this._location?m.default.createElement("div",{className:"qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-top-small qx-animation-fast"}):null,this.renderSettings(n,C),y,x,b,E,m.default.createElement("div",{className:f},this.renderRows()),this.state.placeholder&&"AFTER"==this._location?m.default.createElement("div",{className:"qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-top-small qx-animation-fast"}):null),this.props.size-1==this.props.index?r:null)),this.sectionContextMenu()))}},i.propTypes={path:c.default.array.isRequired,form:c.default.object.isRequired,children:c.default.object.isRequired,moveSection:c.default.func.isRequired},s=o))||s)||s)||s)||s);t.default=j},1155:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t=null;try{t=window.atob(l[e])}catch(e){t=null}return t};const l=JSON.parse(window.QUIX_SHAPES)},1156:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l,n,s,i,o,r=L(a(83)),d=L(a(271)),u=L(a(348)),c=L(a(70)),p=L(a(21)),h=L(a(349)),f=L(a(219)),m=L(a(73)),g=L(a(14)),v=L(a(26)),b=L(a(0)),_=L(a(2)),E=a(1),y=L(E),x=L(a(1159)),C=a(116),w=a(94),S=L(a(220)),N=L(a(221)),O=a(117),q=a(226),k=L(a(227)),T=L(a(27)),P=a(355),M=(a(45),a(88),a(228)),I=a(33),j=L(a(24)),R=L(a(38)),D=L(a(520));function L(e){return e&&e.__esModule?e:{default:e}}const A=j.default.Group;jQuery;let z=(l=(0,w.DropTarget)(C.ROW_NODE,(0,O.dropTarget)(),O.dropCollect),n=(0,w.DragSource)(C.ROW_NODE,(0,q.dragSource)(C.ROW_NODE),q.dragCollect),(0,S.default)(s=l(s=n((o=i=class extends E.Component{constructor(e){super(e),this.shouldComponentUpdate=T.default,this.handleAddRowClick=this.handleAddRowClick.bind(this),this.handleAddColumnClick=this.handleAddColumnClick.bind(this),this.handleDuplicateClick=this.handleDuplicateClick.bind(this),this.handleShowLayoutClick=this.handleShowLayoutClick.bind(this),this.openSettingsModal=this.openSettingsModal.bind(this),(0,N.default)(this),window.contextMenu={needPasteOption:!1},this.state={needPasteOption:!1,enableEdit:!1,rowRawHtml:"",rowRawStyle:"",id:(0,m.default)("qx-row-id-"),btnId:(0,m.default)("btn-id-"),field:{},placeholder:!1},this._mounted=!1,this._location="",this.getDevice=this.getDevice.bind(this)}componentDidMount(){this._mounted=!0;let e=0;e=this.props.form.toJS().advanced.identifier[1]?this.props.form.toJS().advanced.identifier[1].value:this.props.form.toJS().advanced.identifier.value[1].value,localStorage.setItem(e+`-${this.getDevice()}-width`,jQuery("div#"+e).width()),g.default.emit("UPDATE_DEFAULT_COLUMN_WIDTH",e);var t=this.props;const a=t.connectDragPreview,l=(t.thumb,document.createElement("img"));l.src=QUIX_ROOT_URL+"libraries/quix/assets/images/drag_elm_icon.png",l.onload=(()=>{a(l)}),jQuery("#"+this.state.btnId).click(),g.default.on("TOGGLE_PLACEHOLDER",(e,t)=>{this._mounted&&(this.props.path==e?(this._location=t,this.state.placeholder||this.setState({placeholder:!0})):this.state.placeholder&&this.setState({placeholder:!1}))}),g.default.on("REMOVE_PLACEHOLDER",e=>{this._mounted&&this.setState({placeholder:!1})}),g.default.on("IFRAME_WIDTH_CHANGED",({device:t})=>{localStorage.setItem(e+`-${this.getDevice(t)}-width`,jQuery("div#"+e).width()),setTimeout(()=>g.default.emit("UPDATE_DEFAULT_COLUMN_WIDTH",e),200)}),g.default.on("ROW_WANT_TO_COPY",()=>{this.setState({needPasteOption:!1}),window.needPasteOption.row=!1}),g.default.on("ROW_WANT_TO_PASTE",()=>{this.setState({needPasteOption:!0}),window.needPasteOption.row=!0}),g.default.on("FORM_UPDATED",e=>{e.form.getIn(["advanced",0,"value",1,"value"])==this.field("id")&&this.loadRow()}),g.default.on("FETCH_ROW",e=>{localStorage.getItem("qx-form-id")==this.field("id")&&this.loadRow(e.toJS())}),g.default.on("FORM_CLOSED",({id:e})=>{if(e==localStorage.getItem("qx-form-id")){const e=this.props.form.toJS();this.loadRow(e)}}),this.loadRow()}componentWillMount(){g.default.setMaxListeners(0),g.default.removeListener("FORM_UPDATED",()=>{}),g.default.removeListener("FETCH_ROW",()=>{}),g.default.removeListener("FORM_CLOSED",({id:e})=>{})}componentWillUnmount(){this._mounted=!1}componentWillReceiveProps(e){let t=e.grid,a=e.col,l=e.size;if(l!==this.props.size){let e=a*l*t;this.setState({width:e})}localStorage.getItem("qx-form-id")==this.field("id")&&this.loadRow(e.form.toJS())}getDevice(e){switch(e||this.props.device){case"md":return"tablet";case"xs":return"phone";default:return"desktop"}}loadRow(e){if(!this._mounted)return;let t={};t=e||this.props.form.toJS();let a=[];(0,f.default)(t,e=>{(0,h.default)(e,(e,t)=>{a=(0,p.default)(e)?(0,p.default)(e[e.length-1])?(0,c.default)(a,{[t]:e}):(0,c.default)(a,(0,u.default)(e,"name")):(0,c.default)(a,{[t]:e})})}),a=(0,c.default)(a,{visibility:this.props.device}),a=(0,c.default)(a,{field:e=>this.field(e,a)}),this.setState({field:a});let l=Object.assign({},Assets);localStorage.setItem("qx-form-id",a.id.value),l.render("#row-template",a,"#"+a.id.value+"-preview")}openSettingsModal(e){this.props.openSettingsModal(e),g.default.emit("Context_Menu_Hide")}toggleNodeVisibility(e){this.props.toggleNodeVisibility(e),g.default.emit("Context_Menu_Hide")}deleteNode(e){this.props.elementPath&&(0,I.deleteNode)(this.props.elementPath),this.props.deleteNode(e)}duplicateNode(e){this.props.duplicateNode(e)}copyNode(e){this.props.copyNode(),g.default.emit("ROW_WANT_TO_PASTE")}pasteNode(e){this.props.pasteNode(),g.default.emit("ROW_WANT_TO_COPY")}handleAddRowClick(){let e=this.props.path,t=parseInt(e.slice(-1))+1,a=e.slice(0,-1);(0,I.addRowNode)(a,t);let l=a.concat([t,"children"]);(0,P.showLayouts)(l)}handleAddColumnClick(){let e=(0,k.default)(this.props.path);reactor.dispatch("ADD_COLUMN_NODE",{path:e,index:null})}handleDuplicateClick(){let e=this.props.path;(0,I.duplicateNode)(e)}handleShowLayoutClick(){let e=this.props.path;e=e.slice().concat(["children"]),(0,P.showLayouts)(e)}goPro(e){window.open("https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=context-menu&utm_content=go-pro","_blank")}forceColumnResize(){let e=parseFloat(Number(100/this.props.children.size).toFixed(5)),t=0;t=this.props.form.toJS().advanced.identifier[1]?this.props.form.toJS().advanced.identifier[1].value:this.props.form.toJS().advanced.identifier.value[1].value,g.default.emit("FORCE_COLUMN_RESIZE",{id:t,size:e}),setTimeout(()=>v.default.success("Column resized successfully"),300)}rowContextMenu(){if(!this.props.visible)return y.default.createElement(M.Menu,{id:this.state.id,theme:M.theme.light,style:{zIndex:99999}},y.default.createElement(M.Item,{onClick:this.props.toggleNodeVisibility},y.default.createElement("i",{className:"qxuicon-low-vision"})," Enable Row"));let e=y.default.createElement(M.Item,{onClick:this.copyNode.bind(this)},y.default.createElement("i",{className:"qxuicon-clipboard"})," Copy");(this.state.needPasteOption||window.needPasteOption.row)&&(e=y.default.createElement(M.Item,{onClick:this.pasteNode.bind(this)},y.default.createElement("i",{className:"qxuicon-paste"})," Paste")),e=this.props.elementPath?null:e;return y.default.createElement(M.Menu,{id:this.state.id,theme:M.theme.light,style:{zIndex:99999}},y.default.createElement(M.Item,{key:"title",disabled:!0,title:"Row"},"Row"),y.default.createElement(M.Item,{onClick:this.openSettingsModal.bind(this)},y.default.createElement("i",{className:"qxuicon-cog"})," Settings"),y.default.createElement(M.Item,{onClick:this.handleAddRowClick.bind(this)},y.default.createElement("i",{className:"qxuicon-plus"})," Add"),y.default.createElement(M.Item,{onClick:this.duplicateNode.bind(this)},y.default.createElement("i",{className:"qxuicon-clone"})," Duplicate"),y.default.createElement(M.Separator,null),e,y.default.createElement(M.Separator,null),y.default.createElement(M.Item,{onClick:this.forceColumnResize.bind(this)},y.default.createElement("i",{className:"qxuicon-columns"})," Magical Resizer"),y.default.createElement(M.Item,{onClick:this.toggleNodeVisibility.bind(this)},y.default.createElement("i",{className:"qxuicon-low-vision"})," Disable"),y.default.createElement(M.Separator,null),y.default.createElement(M.Item,{onClick:this.deleteNode.bind(this)},y.default.createElement("i",{className:"qxuicon-trash-alt"})," Delete"),null,null)}renderSettings(e,t){let a=this.props.visible,l=null;this.props.hidePlusIcon||(l=y.default.createElement("div",{className:"qx-fb-button--add"},y.default.createElement(j.default,{type:"primary",shape:"circle","qx-tooltip":"Add New Row",onClick:this.handleAddRowClick},y.default.createElement("i",{className:"qxuicon-plus"}))));const n=a?y.default.createElement(j.default,{key:t+"-settings","qx-tooltip":"Row Settings",onClick:this.openSettingsModal.bind(this)},y.default.createElement("i",{className:"qxuicon-cog"})):"";a&&!this.props.elementPath&&y.default.createElement(j.default,{key:t+"-add","qx-tooltip":"Add Row",onClick:this.handleAddRowClick},y.default.createElement("i",{className:"qxuicon-plus"})),a&&y.default.createElement(j.default,{key:t+"-delete","qx-tooltip":"Delete Row",onClick:this.deleteNode.bind(this)},y.default.createElement("i",{className:"qxuicon-trash-alt"}));return y.default.createElement("div",{className:"qx-fb-settings-wrap"},y.default.createElement(A,{prefixCls:"qxui-btn-group",className:"qx-fb-settings qx-fb-settings--row"},n,y.default.createElement(j.default,{className:"contextMenu-dropdown","qx-tooltip":"Options - Right Click",onClick:e=>{e.stopPropagation(),this.menu.handleEvent&&this.menu.handleEvent(e)}},y.default.createElement("i",{className:"qxuicon-bars"})),e(y.default.createElement("span",{className:"cursor-move"},y.default.createElement(j.default,{"qx-tooltip":"Move Row"},y.default.createElement("i",{className:"qxuicon-arrows"}))))),l)}render(){var e=this.props;const t=e.isDragging,a=e.connectDropTarget;e.connectDragPreview;var l=this.props;const n=l.children,s=l.moveSection,i=l.device,o=l.visible,u=l.responsive;var c=this.props;c.copyNode,c.pasteNode;const p=c.connectDragSource,h=0===n.size,f=(0,k.default)(this.props.path),m=(0,_.default)("qx-fb-row",{"qx-fb-dragging":t,"qx-fb-no-column":h}),g=(0,_.default)({"qx-fb-disabled":!o});let v=(0,_.default)("qx-row",{"qx-no-gutters":"no-gutters"==this.field("columns_gap")},this.state.field.class?this.state.field.class.value:"");(0,d.default)(this.field("v_align"))||(v+=" "+this.field("v_align").value);window.row[this.field("id")]&&window.row[this.field("id")];let b=[y.default.createElement(R.default,{key:this.state.btnId+"-tolltip","qx-tooltip":"Add Column",placement:"bottom"},y.default.createElement(j.default,{key:this.state.btnId+"-button",id:this.state.btnId,key:this.state.btnId,type:"primary",shape:"circle"},y.default.createElement("i",{className:"qxuicon-plus"})))];const E=y.default.createElement(D.default,{deleteNode:this.deleteNode.bind(this),trigger:"click",callback:this.props.callback,callbackParams:{rowPath:this.props.rowPath,index:this.props.index,ignoreRowNode:!0},button:b});let C=null;if(!(0,r.default)(this.field("background_overlay"))){let e="qx-background-overlay "+this.field("id")+"-background-overlay";C=y.default.createElement("div",{className:e})}let w=0;w=this.props.form.toJS().advanced.identifier[1]?this.props.form.toJS().advanced.identifier[1].value:this.props.form.toJS().advanced.identifier.value[1].value;if(!(0,r.default)(this.field("background"))&&!(0,r.default)(this.field("background").state.normal.properties.parallax_method)&&"js"==this.field("background").state.normal.properties.parallax_method){let e={};(0,r.default)(this.field("background").state.normal.properties.js_parallax_y)||(e.bgy=this.field("background").state.normal.properties.js_parallax_y),(0,r.default)(this.field("background").state.normal.properties.js_parallax_x)||(e.bgx=this.field("background").state.normal.properties.js_parallax_x),setTimeout(function(){qxUIkit.parallax("#"+w,e)},2e3)}return a(y.default.createElement("div",{className:m},y.default.createElement(M.MenuProvider,{id:this.state.id,ref:e=>this.menu=e},y.default.createElement("div",{className:g},this.renderSettings(p,w),y.default.createElement("div",{id:w,className:"qx-row-wrap"},y.default.createElement("div",{className:v},this.state.placeholder&&"BEFORE"==this._location?y.default.createElement("div",{className:"qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-top-small qx-animation-fast"}):null,C,y.default.createElement(x.default,{nested:!!this.props.elementPath,rowPath:this.props.path,layoutTooltip:E,path:f,device:i,responsive:u,children:n,moveSection:s,insertColumns:this.handleShowLayoutClick,rowId:w}),this.state.placeholder&&"AFTER"==this._location?y.default.createElement("div",{className:"qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-bottom-small qx-animation-fast"}):null)))),this.rowContextMenu()))}},i.propTypes={path:b.default.array.isRequired,moveSection:b.default.func.isRequired,children:b.default.object.isRequired,form:b.default.object.isRequired},i.defaultProps={hidePlusIcon:!1},s=o))||s)||s)||s);t.default=z},1159:function(e,t,a){"use strict";var l,n,s;Object.defineProperty(t,"__esModule",{value:!0}),a(1160);var i=g(a(14)),o=g(a(1162)),r=a(52),d=g(a(0)),u=a(94),c=a(1),p=g(c),h=a(116),f=a(117),m=g(a(23));function g(e){return e&&e.__esModule?e:{default:e}}let v=(0,u.DropTarget)(h.COLUMN_NODE,(0,f.dropTarget)(h.COLUMN_NODE),f.dropCollect)((s=n=class extends c.Component{constructor(e){super(e),this.renderColumn=this.renderColumn.bind(this),this._mounted=!0,this._ignoreShallowEqual=!1}shouldComponentUpdate(e){return!(!this._ignoreShallowEqual&&e.path==this.props.path)||(!(0,m.default)(e.children,this.props.children)&&!(0,m.default)(e,this.props)||!((0,m.default)(e.children,this.props.children)&&!(0,m.default)(e,this.props)))}componentDidMount(){i.default.on("TOGGLE_PLACEHOLDER",(e,t)=>{this._mounted&&(this._ignoreShallowEqual=!0)}),i.default.on("REMOVE_PLACEHOLDER",e=>{this._mounted&&(this._ignoreShallowEqual=!1)})}componentWillMount(){i.default.setMaxListeners(0),i.default.removeListener("TOGGLE_PLACEHOLDER",(e,t)=>{}),i.default.removeListener("REMOVE_PLACEHOLDER",e=>{})}componentWillUnmount(){this._mounted=!1}updateWidth(e,t,a,l,n,s=!1){let i=l;s||(i=(l/localStorage.getItem(this.props.rowId+`-${e}-width`)*100).toFixed(5)),reactor.dispatch("UPDATE_COLUMN_WIDTH",{device:e,id:t,path:a,totalIncreased:i,callback:n,skipTotalIncreased:s})}renderColumn(e,t){var a=this.props;let l=a.moveSection,n=a.device,s=a.responsive,i=this.props.path.slice(0).concat([t]),d=e.getIn(["size",n||"lg"]),u=!n||e.getIn(["visibility",n]),c=e.get("children"),h=e.get("id"),f=r.column.get("form"),m=r.column.get("thumb_file");return p.default.createElement(o.default,{thumb:m,device:n,key:h,schema:f,path:i,visible:u,moveSection:l,responsive:s,size:d,name:e.get("name"),title:e.get("title"),children:c,form:e.get("form"),rowId:this.props.rowId,rowPath:this.props.rowPath,width:e.get("width"),updateWidth:this.updateWidth.bind(this),index:t})}renderColumns(e){return e.map((e,t)=>this.renderColumn(e,t))}renderEmptyRow(){return p.default.createElement("div",{className:"qx-fb-area-blank"},this.props.layoutTooltip)}render(){const e=this.props.connectDropTarget,t=this.props.children;let a=0===t.size;return(t=>a?t:e(t))(p.default.createElement("div",{className:"qx-fb-columns"},a?this.renderEmptyRow():this.renderColumns(t)))}},n.propTypes={path:d.default.array.isRequired,children:d.default.object.isRequired,moveSection:d.default.func.isRequired,insertColumns:d.default.func.isRequired},l=s))||l;t.default=v},116:function(e,t,a){"use strict";e.exports={SECTION_NODE:"SECTION_NODE",ROW_NODE:"ROW_NODE",COLUMN_NODE:"COLUMN_NODE",ELEMENT_NODE:"ELEMENT_NODE",COPY_ROW_NODE:"COPY_ROW_NODE",PASTE_ROW_NODE:"PASTE_ROW_NODE"}},1160:function(e,t,a){var l=a(1161);"string"==typeof l&&(l=[[e.i,l,""]]);a(34)(l,{});l.locals&&(e.exports=l.locals)},1161:function(e,t,a){(e.exports=a(31)(!1)).push([e.i,".qx-fb-columns {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-flex-wrap: wrap;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n}\n.qx-fb-columns .qx-fb-column:last-child .react-resizable-handle {\n  display: none;\n}\n.qx-fb-row:hover > div > div > div > .qx-row > .qx-fb-columns > .qx-fb-column > .qx-col-wrap > .qx-fb-resizable-grid > .react-resizable-handle {\n  opacity: 1;\n}\n.qx-fb-resizable-grid {\n  width: 100%;\n}\n@media (min-width: 768px) {\n  .react-resizable-handle {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    right: -1px;\n    z-index: 9;\n    width: 2px;\n    height: 100%;\n    display: block;\n    cursor: col-resize;\n    background: #0c9;\n    opacity: 0;\n  }\n  .react-resizable-handle:before {\n    content: \"\\E9FB\";\n    font-family: 'qxuicon';\n    background: #0c9;\n    width: 12px;\n    text-align: center;\n    font-size: 30px;\n    color: #fff;\n    position: absolute;\n    top: 50%;\n    left: -5px;\n    border-radius: 20px;\n    -webkit-transform: translateY(-50%);\n    -moz-transform: translateY(-50%);\n    -ms-transform: translateY(-50%);\n    -o-transform: translateY(-50%);\n    transform: translateY(-50%);\n  }\n}\n.qx-fb-column__width {\n  position: absolute;\n  z-index: 9999;\n  background: #0c9;\n  color: #fff;\n  font-size: 11px;\n  padding: 0 3px 0 4px;\n  line-height: 18px;\n  top: 50%;\n  margin-top: -9px;\n}\n.qx-fb-column__width.left:after,\n.qx-fb-column__width.right:after {\n  position: absolute;\n  top: 0px;\n  content: '';\n  display: block;\n  border-width: 9px;\n  border-style: solid;\n}\n.qx-fb-column__width.left {\n  right: 14px;\n}\n.qx-fb-column__width.left:after {\n  border-color: transparent transparent transparent #0c9;\n  right: -18px;\n}\n.qx-fb-column__width.right {\n  left: 15px;\n}\n.qx-fb-column__width.right:after {\n  border-color: transparent #0c9 transparent transparent;\n  left: -18px;\n}\n",""])},1162:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l,n,s,i,o,r,d=L(a(83)),u=L(a(1163)),c=L(a(348)),p=L(a(70)),h=L(a(21)),f=L(a(349)),m=L(a(219)),g=L(a(73)),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},b=L(a(14)),_=L(a(76)),E=L(a(0)),y=L(a(2)),x=a(1),C=L(x),w=a(116),S=L(a(1179)),N=L(a(1189)),O=L(a(67)),q=L(a(220)),k=L(a(221)),T=a(94),P=a(226),M=a(117),I=L(a(227)),j=L(a(27)),R=a(33),D=L(a(24));function L(e){return e&&e.__esModule?e:{default:e}}const A=D.default.Group;jQuery;let z=(l=(0,T.DropTarget)(w.COLUMN_NODE,(0,M.dropTarget)(),M.dropCollect),n=(0,T.DragSource)(w.COLUMN_NODE,(0,P.dragSource)(w.COLUMN_NODE),P.dragCollect),s=(0,O.default)({grid:[["meta"],e=>e.get("grid")],col:[["meta"],e=>e.get("col")],nodes:[["nodes"],e=>e.get("nodes")]}),(0,q.default)(i=l(i=n(i=s((r=o=class extends x.Component{constructor(e){super(e),this.shouldComponentUpdate=j.default,this.getDevice=this.getDevice.bind(this),this.loadColumn=this.loadColumn.bind(this),this.handleResize=this.handleResize.bind(this),this.getFormIdPath=this.getFormIdPath.bind(this),this.getColumnWidth=this.getColumnWidth.bind(this),this.renderElements=this.renderElements.bind(this),this.getFormWidthPath=this.getFormWidthPath.bind(this),this.handleResizeStop=this.handleResizeStop.bind(this),this.handleResizeStart=this.handleResizeStart.bind(this),(0,k.default)(this),this.state={needPasteOption:!1,width:this.getColumnWidth(),showCols:!1,enableEdit:!1,columnRawHtml:"",columnRawStyle:"",id:(0,g.default)("qx-column-id-"),elementKey:(0,g.default)("qx-element-key-"),flex:null,maxWidth:null,showWidth:!1,align:null,field:{},resizeDone:!0,columns:{left:{id:"",path:[]},right:{id:"",path:[]}}},this._mounted=!1}componentDidMount(){this._mounted=!0;const e=this.props.connectDragPreview,t=document.createElement("img");if(t.src=QUIX_ROOT_URL+"libraries/quix/assets/images/drag_elm_icon.png",t.onload=(()=>{e(t)}),b.default.on("COLUMN_WANT_TO_COPY",()=>{this.setState({needPasteOption:!1}),window.needPasteOption.column=!1}),b.default.on("COLUMN_WANT_TO_PASTE",()=>{this.setState({needPasteOption:!0}),window.needPasteOption.column=!0}),b.default.on("FORCE_COLUMN_RESIZE",({id:e,size:t})=>{if(this.props.rowId==e){let e=parseInt(localStorage.getItem(this.props.rowId+`-${this.getDevice()}-width`)*(t/100));this.setState({width:e}),this.forceColumnResize(t)}}),b.default.on("FORM_UPDATED",e=>{e.form.getIn(["advanced",0,"value",1,"value"])==this.props.form.getIn(this.getFormIdPath())&&this.loadColumn()}),b.default.on("FETCH_COLUMN",e=>{let t=this.props.form.getIn(this.getFormIdPath());if(localStorage.getItem("qx-form-id")==t){let t=e.getIn(this.getFormWidthPath({withoutValue:!0}).concat(["value",this.getDevice()]));if(t&&!this.state.resizeDone){if(this.props.width.toJS)var a=this.props.width.get(this.getDevice());else a=this.props.width[this.getDevice()];if(t!=a){let e=parseInt(localStorage.getItem(this.props.rowId+`-${this.getDevice()}-width`)*(t/100));this.resize(null,null,t,!0,!0),this.setState({width:e})}}this.loadColumn(e.toJS())}}),b.default.on("COLUMN_WIDTH_RESIZED",({leftColId:e,leftColPath:t,rightColId:a,rightColPath:l,executeResizerStop:n})=>{if(!this._mounted)return;let s=this.props.form.getIn(this.getFormIdPath());if(t=t.concat(["form"].concat(this.getFormWidthPath({withoutValue:!0}))),l=l.concat(["form"].concat(this.getFormWidthPath({withoutValue:!0}))),s==e){let e=this.props.nodes.getIn(t.concat(["value",this.getDevice()]));this.setState({align:"left",showWidth:!0,resizeDone:!1,width:parseInt(localStorage.getItem(this.props.rowId+`-${this.getDevice()}-width`)/(100/e))})}if(s==a){let e=this.props.nodes.getIn(l.concat(["value",this.getDevice()]));this.setState({align:"right",showWidth:!0,resizeDone:!1,width:parseInt(localStorage.getItem(this.props.rowId+`-${this.getDevice()}-width`)/(100/e))})}s!=e&&s!=a||this.setState({columns:{left:{id:e,path:t},right:{id:a,path:l}}}),!n||s!=e&&s!=a||this.setState({showWidth:!1})}),b.default.on("COLUMN_RESIZE_STOPPED",()=>{if(!this._mounted||this.state.resizeDone)return;const e=this.props.nodes;(0,m.default)(this.state.columns,t=>{const a="#"+t.id,l=e.getIn(t.path.concat("value")),n=Object.assign({},Assets);l&&(n.desktop(a,`flex: ${l.get("desktop")}%; max-width: ${l.get("desktop")}%`),n.tablet(a,`flex: ${l.get("tablet")}%; max-width: ${l.get("tablet")}%`),n.phone(a,`flex: ${l.get("phone")}%; max-width: ${l.get("phone")}%`),n.load(a+"-flex"))}),this.setState({resizeDone:!0,showWidth:!1}),this.loadColumn()}),b.default.on("FORM_CLOSED",({id:e})=>{e==localStorage.getItem("qx-form-id")&&this.loadColumn(this.props.form.toJS())}),b.default.on("UPDATE_DEFAULT_COLUMN_WIDTH",e=>{if(e==this.props.rowId){if(!this._mounted)return;let e=this.props.path,t=this.props.nodes.getIn(e.concat(["form","general","layout_fields_group",1]));if(!t)return;let a=t.getIn(["value",this.getDevice()]);a=parseInt(localStorage.getItem(this.props.rowId+`-${this.getDevice()}-width`)/(100/a)),this.setState({width:a})}}),b.default.on("RESET_COLUMN_WIDTH",()=>{this._mounted&&this.setState({width:this.getColumnWidth()})}),this._mounted){let e=this.props.nodes.getIn(this.props.path.concat(["form","general","layout_fields_group",1]).concat(["value",this.getDevice()]));this.setState({flex:`0 0 ${e}%`,maxWidth:`${e}%`}),this.loadColumn()}}componentWillMount(){b.default.setMaxListeners(0),b.default.removeListener("FORM_UPDATED",()=>{}),b.default.removeListener("COLUMN_RESIZE_STOPPED",()=>{})}componentWillUnmount(){this._mounted=!1}componentWillReceiveProps(e){let t=this.props.form.getIn(this.getFormIdPath());localStorage.getItem("qx-form-id")==t&&this.state.resizeDone&&this.loadColumn(e.form.toJS())}getFormIdPath(){return["advanced","identifier","1","value"]}getFormWidthPath({withForm:e,withoutDevice:t,withoutValue:a}={withForm:!1,withoutDevice:!1,withoutValue:!1}){let l=["general","layout_fields_group",1,"value"];return e&&(l=["form"].concat(l)),t?l:a?["general","layout_fields_group",1]:l.concat(this.getDevice())}getDevice(){let e=_.default.get("qx-device");return void 0===e&&(e="desktop"),"mobile"==e?"phone":e}getColumnWidth(){let e=this.props.path,t=this.props.nodes.getIn(e.concat(["form","general","layout_fields_group",1]).concat(["value",this.getDevice()]));return t=parseInt(localStorage.getItem(this.props.rowId+`-${this.getDevice()}-width`)/(100/t)),parseInt(t)}loadColumn(e){if(!this._mounted)return;let t={};t=e||this.props.form.toJS();[].push(this.props.size);let a=[];(0,m.default)(t,e=>{(0,f.default)(e,(e,t)=>{a=(0,h.default)(e)?(0,h.default)(e[e.length-1])?(0,p.default)(a,{[t]:e}):(0,p.default)(a,(0,c.default)(e,"name")):(0,p.default)(a,{[t]:e})})}),a=(0,p.default)(a,{visibility:this.props.device}),a=(0,p.default)(a,{field:e=>this.field(e,a)}),this.setState({field:a});let l=Object.assign({},Assets);localStorage.setItem("qx-form-id",a.id.value),setTimeout(()=>{l.render("#column-template",a,"#"+a.id.value+"-preview")},10)}copyNode(e){this.props.copyNode(),b.default.emit("COLUMN_WANT_TO_PASTE")}pasteNode(e){this.props.pasteNode(),b.default.emit("COLUMN_WANT_TO_COPY")}duplicateNode(e){this.props.form.getIn(this.getFormIdPath());(0,R.duplicateColumnNode)(this.props.path)}handleResize(e){this.setState({width:e}),this.resize(null,null,e)}handleResizeStop(e,t){this.resize.bind(this,t),this.setState({resizeDone:!0,width:t.size.width}),b.default.emit("COLUMN_RESIZE_STOPPED")}resize(e,t,a,l,n){this.props.updateWidth(this.getDevice(),this.field("id"),this.props.path,a||t.size.width,(e,t,a,l)=>{b.default.emit("COLUMN_WIDTH_RESIZED",{leftColId:e,leftColPath:t,rightColId:a,rightColPath:l,executeResizerStop:n})},l)}handleResizeStart(e,t){this.setState({showCols:!0,resizeDone:!1})}addColumn(){let e=(0,u.default)(this.props.path);e.pop(),(0,R.addColumnNode)(e,this.props.index)}forceColumnResize(e){jQuery("style#"+this.field("id")+"-flex").remove();let t=Object.assign({},Assets);t.desktop("#"+this.field("id"),`\n        flex: 0 0 ${e}%;\n        max-width: ${e}%;\n      `),t.tablet("#"+this.field("id"),`\n        flex: 0 0 ${e}%;\n        max-width: ${e}%;\n      `),t.phone("#"+this.field("id"),"\n        flex: 0 0 100%;\n        max-width: 100%;\n      "),t.load(this.field("id")+"-flex");let a=parseInt(localStorage.getItem(this.props.rowId+`-${this.getDevice()}-width`)*(e/100));this.setState({width:a}),(0,R.forceColumnResize)(this.props.path,e)}renderElements(){var e=this.props;let t=e.path,a=e.device,l=e.children,n=e.deleteNode,s=e.moveSection,i=e.responsive;return this.props.rowPath.length>9?null:C.default.createElement(N.default,{key:this.state.elementKey,path:(0,I.default)(t),responsive:i,device:a,children:l,deleteColumn:n,moveSection:s,columnId:this.field("id"),rowId:this.props.rowId,rowPath:this.props.rowPath,openColumnSettingsModal:this.props.openSettingsModal.bind(this)})}renderSettings(){var e=this.props;let t=e.visible,a=e.rowPath,l=null,n=this.props.nodes.getIn(a.concat(["children"]));(n=n?n.size:1)<12&&(l=C.default.createElement(D.default,{"qx-tooltip":"Add Column",onClick:this.addColumn.bind(this)},C.default.createElement("i",{className:"qxuicon-plus"}))),l=t?l:"";let s=C.default.createElement(D.default,{"qx-tooltip":"Copy Column",onClick:this.copyNode.bind(this)},C.default.createElement("i",{className:"qxuicon-clipboard"}));(this.state.needPasteOption||window.needPasteOption.column)&&(s=C.default.createElement(D.default,{"qx-tooltip":"Paste Column",onClick:this.pasteNode.bind(this)},C.default.createElement("i",{className:"qxuicon-paste"}))),s=t?s:"";const i=t?C.default.createElement(D.default,{"qx-tooltip":"Column Settings",onClick:this.props.openSettingsModal.bind(this)},C.default.createElement("i",{className:"qxuicon-cog"})):"",o=t?C.default.createElement(D.default,{"qx-tooltip":"Duplicate Column",onClick:this.duplicateNode.bind(this)},C.default.createElement("i",{className:"qxuicon-clone"})):"",r=t?C.default.createElement(D.default,{"qx-tooltip":"Delete Column",onClick:this.props.deleteNode.bind(this)},C.default.createElement("i",{className:"qxuicon-trash-alt"})):"";return C.default.createElement("div",{className:"qx-fb-settings-wrap"},C.default.createElement(A,{prefixCls:"qxui-btn-group",className:"qx-fb-settings qx-fb-settings--column"},i,o,l,C.default.createElement(D.default,{"qx-tooltip":t?"Disable Column":"Enable Column",onClick:this.props.toggleNodeVisibility.bind(this)},C.default.createElement("i",{className:t?"qxuicon-low-vision":"qxuicon-eye"})),r))}render(){var e=this.props;const t=e.isDragging,a=e.connectDropTarget,l=e.children,n=e.form;var s=this.props;const i=s.grid,o=s.col,r=(s.size,s.visible),u=this.state.width,c=n.getIn(this.getFormWidthPath({withoutValue:!0}).concat(["value","value"]))?n.getIn(this.getFormWidthPath({withoutValue:!0}).concat(["value","value",this.getDevice()])):n.getIn(this.getFormWidthPath({withoutValue:!0}).concat(["value",this.getDevice()])),p=n.getIn(this.getFormWidthPath({withoutValue:!0}).concat(["value","unit"]))||"%";let h=this.props.device;"sm"==h&&(h="xs");const f=window.column[this.field("id")]?window.column[this.field("id")]:{classes:"lg"};let m={flex:`0 0 ${c}%`,maxWidth:`${c}%`},g="";0==l.size&&(g="qx-fb-column--empty");let b=[this.renderElements(),this.state.showWidth?C.default.createElement("div",{key:this.field("id"),className:"qx-fb-column__width "+this.state.align},Number(c).toFixed(1)+" "+p):null],_=C.default.createElement(S.default,{onResize:this.handleResize,onResizeStart:this.handleResizeStart,onResizeStop:this.handleResizeStop,min:o,max:o*i,width:u},b),E=(0,y.default)("qx-fb-column","qx-column",g,"",f.classes,{"qx-fb-disabled":!r,"qx-fb-dragging":t}),x=null;if(!(0,d.default)(this.field("background_overlay"))){let e="qx-background-overlay "+this.field("id")+"-background-overlay";x=C.default.createElement("div",{className:e})}let w=this.field("animation");const N=this.field("animation_repeat"),O=this.field("animation_delay").value;let q={};return"none"!=w&&((0,d.default)(w)||(w="cls:"+w+";"),N&&(w+="repeat:ture;"),O&&(w=w+"delay:"+O),q["qx-scrollspy"]=w),a(C.default.createElement("div",v({key:this.props.form.getIn(["advanced","identifier","1","value"])+"-"+w,id:this.props.form.getIn(["advanced","identifier","1","value"]),className:E,"data-width":c+"%",style:m},q),this.renderSettings(),C.default.createElement("div",{className:"qx-col-wrap"},x,"xs"==h?b:_)))}},o.propTypes={size:E.default.number.isRequired,path:E.default.array.isRequired,children:E.default.object.isRequired,moveSection:E.default.func.isRequired},i=r))||i)||i)||i)||i);t.default=z},117:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dropCollect=function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),isOverCurrent:t.isOver({shallow:!0})}},t.dropTarget=function(e){return{drop(t,a,l){if(!a.isOver({shallow:!0}))return;let n=a.getItem(),r=n.path,d=t.path;if(e&&(d=d.slice().concat([t.children.size])),!(0,o.shouldMove)(r,d))return;const u=(0,i.findDOMNode)(l).getBoundingClientRect(),c=a.getClientOffset(),p=(a.getItem(),(u.bottom-u.top)/2),h=c.y-u.top,f=h<p?"BEFORE":"AFTER",m=d.pop();"BEFORE"==f?(d=d.concat([m]),t.moveSection(r,d),n.path=d):(d=d.concat([m+1]),t.moveSection(r,d),n.path=d),s.default.emit("REMOVE_PLACEHOLDER",a.getItem().path)},hover(e,t,a){const l=(0,i.findDOMNode)(a).getBoundingClientRect(),n=t.getClientOffset(),o=(t.getItem(),(l.bottom-l.top)/2),r=n.y-l.top,d=r<o?"BEFORE":"AFTER";s.default.emit("TOGGLE_PLACEHOLDER",e.path,d)}}};var l,n=a(14),s=(l=n)&&l.__esModule?l:{default:l},i=a(9),o=a(1241)},1179:function(e,t,a){"use strict";var l,n;Object.defineProperty(t,"__esModule",{value:!0}),a(1180);var s,i=a(1),o=(s=i)&&s.__esModule?s:{default:s},r=a(1182),d=a(1186);let u=(n=l=class extends i.Component{constructor(e){super(e),this.shouldComponentUpdate=d.shouldPureComponentUpdate,this.onResize=this.onResize.bind(this)}onResize(e,t){let a=t.size.width;var l=this.props;let n=l.min,s=l.max,i=l.onResize;a<n||a>s||i(a)}render(){var e=this.props;let t=e.width,a=e.onResizeStart,l=e.onResizeStop;return o.default.createElement(r.Resizable,{width:t,height:0,onResizeStart:a,onResizeStop:l,onResize:this.onResize},o.default.createElement("div",{className:"qx-fb-resizable-grid"},this.props.children))}},l.propTypes={},l.defaultProps={},n);t.default=u},118:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l,n,s=S(a(232)),i=S(a(233)),o=S(a(44)),r=S(a(95)),d=S(a(70)),u=S(a(1270)),c=S(a(83)),p=S(a(157)),h=S(a(14)),f=S(a(0)),m=S(a(2)),g=a(1),v=S(g),b=S(a(234)),_=S(a(48)),E=S(a(173)),y=S(a(46)),x=S(a(38)),C=S(a(1287)),w=S(a(527));function S(e){return e&&e.__esModule?e:{default:e}}const N=_.default.TabPane,O=E.default.Group,q=E.default.Button;let k=(n=l=class extends g.Component{constructor(e){super(e),(0,b.default)(this),this.state={responsive:"desktop"!=this.getTabName(),valueFor:this.getTabName(),tab:this.getTabName(),reset:!1},this.onReset=this.onReset.bind(this),this.getValue=this.getValue.bind(this),this.tabOnClick=this.tabOnClick.bind(this),this.getUnitMarkup=this.getUnitMarkup.bind(this),this.onUnitChange=this.onUnitChange.bind(this),this.handleChange=this.handleChange.bind(this),this.onResponsive=this.onResponsive.bind(this),this.renderTabContent=this.renderTabContent.bind(this),this.renderDeviceContent=this.renderDeviceContent.bind(this)}componentDidMount(){if(this._mounted=!0,(0,p.default)(this.props.value.unit)&&0!=this.props.units){let e=this.props.units;e?this.props.onChange({value:this.props.value,unit:1==e.length?e[0]:"px"}):this.props.onChange({value:this.props.value,unit:"px"})}h.default.on("RESPONSIVE_TAB_OPENED",e=>{this._mounted&&this.setState({tab:e})})}componentWillMount(){h.default.setMaxListeners(0),h.default.removeListener("RESPONSIVE_TAB_OPENED",()=>{})}componentWillUnmount(){this._mounted=!1}onResponsive(){this.setState({responsive:!this.state.responsive,valueFor:this.state.tab,tab:this.state.tab})}handleChange(e){let t=this.props.value;0!=this.props.responsive?(t.value?"desktop"==this.state.valueFor?t=(0,r.default)(t,(0,r.default)(t.value,{responsive:!0,responsive_preview:!0,desktop:e[0]})):"tablet"==this.state.valueFor?t=(0,r.default)(t,(0,r.default)(t.value,{responsive:!0,responsive_preview:!0,tablet:e[0]})):"phone"==this.state.valueFor&&(t=(0,r.default)(t,(0,r.default)(t.value,{responsive:!0,responsive_preview:!0,phone:e[0]}))):"desktop"==this.state.valueFor?t=(0,r.default)(t,{responsive:!0,responsive_preview:!0,desktop:e[0]}):"tablet"==this.state.valueFor?t=(0,r.default)(t,{responsive:!0,responsive_preview:!0,tablet:e[0]}):"phone"==this.state.valueFor&&(t=(0,r.default)(t,{responsive:!0,responsive_preview:!0,phone:e[0]})),this.props.onChange(t)):!this.props.units||(0,c.default)((0,u.default)(this.props.units))?this.props.onChange(e[0]):this.props.onChange((0,d.default)(this.props.value,{value:e[0]}))}onReset(e){if(0==this.props.responsive)return void this.props.onReset();var t={};let a;t[e]=this.props.default[e],a=this.props.value.value?(0,r.default)(this.props.value,(0,r.default)(this.props.value.value,t)):(0,r.default)(this.props.value,t),this.props.onChange(a),this.setState({reset:!0,desktop:this.props.default})}tabOnClick(e){this.setState({tab:e,valueFor:e}),h.default.emit("RESPONSIVE_TAB_OPENED",e)}onUnitChange(e){this.props.onChange((0,d.default)(this.props.value,{unit:e}))}getValue(e){return 0==this.props.responsive?(0,o.default)(this.props.value)?null==this.props.value.desktop?this.props.value.value:this.props.value.desktop:this.props.value:this.props.value.value?this.props.value.value[e]:this.props.value[e]}getLabelMarkup(){let e=this.props.label;return v.default.createElement("div",{className:"qx-fb-field-label-group"},v.default.createElement("div",{className:"qx-fb-field__label"},e," ",this.getHelpMarkup()," ",this.getUnitMarkup()))}getUnitMarkup(){var e=this.props;let t=e.units,a=e.value;return 0==t?null:(t=t||["px","%"],v.default.createElement(O,{prefixCls:"qxui-radio-group",value:1==t.length?t[0]:a.unit,onChange:e=>this.onUnitChange(e.target.value)},t.map((e,t)=>v.default.createElement(q,{key:t,prefixCls:"qxui-radio-button",value:e},e))))}getHelpMarkup(){let e=this.props.help;if(e)return v.default.createElement(y.default,{content:e,prefixCls:"qxui-popover",overlayClassName:"qxui-zi-l",placement:"right",popupStyle:{width:"300px"},getPopupContainer:()=>window.parent.document.body},v.default.createElement("i",{className:"qxuicon-question-circle qx-fb-field__help"}))}getResetMarkup(e){let t=!1;return(t=this.props.responsive?!(0,i.default)(this.props.value[e],this.props.default[e])||!(0,i.default)(this.props.value.unit,this.props.default.unit):!(0,i.default)(this.props.value,this.props.default))?v.default.createElement(x.default,{title:"Reset to default",overlayClassName:"qxui-zi-l",placement:"left",onClick:this["on"+(0,s.default)(e)+"Reset"]},v.default.createElement("i",{className:"qxuicon-undo qx-fb-field__reset",onClick:this.onReset.bind(this,e)})):null}getResponsiveTogglePreview(){let e=null;return this.props.responsive&&(e=v.default.createElement("span",{onClick:this.onResponsive,className:(0,m.default)("qx-fb-field__responsive",{"qxuicon-times":this.state.responsive,"qxuicon-desktop":!this.state.responsive})})),e}renderDeviceContent(e){var t=this.props;let a=t.min,l=t.max,n=t.step,s=(t.unit,this.getValue(e)<a?a:this.getValue(e));({close:this.state.responsive})[e]=!this.state.responsive;let i=this.getValue(e)<a?a:this.getValue(e);return"desktop"!=e&&(s=this.getValue(e),i=this.getValue(e)),v.default.createElement("div",null,v.default.createElement(C.default,{tooltipPrefixCls:"hidden-tooltip",min:a,max:l,prefixCls:"qxui-slider",range:!0,defaultValue:s?[parseFloat(s)]:[0],value:s?[parseFloat(s)]:[0],step:n,onChange:this.handleChange}),v.default.createElement(w.default,{min:a,max:l,step:n,value:(0,o.default)(i)?i.value:i||0,onChange:e=>{if(e<=l&&e>=a){let t=[];t.push(e),this.handleChange(t)}},prefixCls:"qxui-input-number"}),this.props.reset?this.getResetMarkup(e):null)}renderTabContent(e){let t="qxuicon-"+("phone"==e?"mobile":e);return v.default.createElement(N,{tab:v.default.createElement("i",{className:t}),key:e},this.renderDeviceContent(e))}render(){return this.state.responsive&&this.props.responsive?v.default.createElement("div",{className:"qx-fb-field-slider qx-fb-field--responsive clearfix"},this.getLabelMarkup(),this.getResponsiveTogglePreview(),v.default.createElement(_.default,{prefixCls:"qxui-tabs",activeKey:this.state.tab,defaultActiveKey:"desktop",onChange:this.tabOnClick},["desktop","tablet","phone"].map(this.renderTabContent))):v.default.createElement("div",{className:"qx-fb-field-slider clearfix"},this.getLabelMarkup(),this.renderDeviceContent("desktop"),this.getResponsiveTogglePreview())}},l.propTypes={step:f.default.number,min:f.default.number,max:f.default.number,suffix:f.default.string},l.defaultProps={min:0,max:100,step:1,reset:!0},n);t.default=k},1180:function(e,t,a){var l=a(1181);"string"==typeof l&&(l=[[e.i,l,""]]);a(34)(l,{});l.locals&&(e.exports=l.locals)},1181:function(e,t,a){(e.exports=a(31)(!1)).push([e.i,"",""])},1189:function(e,t,a){"use strict";var l,n,s;Object.defineProperty(t,"__esModule",{value:!0}),a(1190);var i=y(a(14)),o=y(a(1192)),r=y(a(0)),d=a(94),u=a(1),c=y(u),p=a(116),h=a(52),f=a(117),m=a(350),g=y(a(27)),v=a(33),b=a(228),E=y(a(24));function y(e){return e&&e.__esModule?e:{default:e}}let x=(0,d.DropTarget)(p.ELEMENT_NODE,(0,f.dropTarget)(!0),f.dropCollect)((s=n=class extends u.Component{constructor(){super(),this.shouldComponentUpdate=g.default,this.renderFooter=this.renderFooter.bind(this),this.renderElement=this.renderElement.bind(this),this.renderElements=this.renderElements.bind(this),this.handleInsertElementClick=this.handleInsertElementClick.bind(this),this.state={placeholder:!1,id:_.uniqueId("qx-element-root-id-"),needPasteOption:!1},this._mounted=!1}componentDidMount(){this._mounted=!0,i.default.on("TOGGLE_PLACEHOLDER",e=>{this._mounted&&(this.props.path==e?this.state.placeholder||this.setState({placeholder:!0}):this.state.placeholder&&this.setState({placeholder:!1}))}),i.default.on("REMOVE_PLACEHOLDER",e=>{this._mounted&&this.setState({placeholder:!1})}),i.default.on("Element_WANT_TO_PASTE",()=>{this._mounted&&(this.setState({needPasteOption:!0}),window.needPasteOption.element=!0)}),i.default.on("Element_WANT_TO_COPY",()=>{this._mounted&&(this.setState({needPasteOption:!1}),window.needPasteOption.element=!1)})}componentWillUnmount(){this._mounted=!1,i.default.removeListener("TOGGLE_PLACEHOLDER",e=>{}),i.default.removeListener("REMOVE_PLACEHOLDER",e=>{})}goPro(e){window.open("https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=context-menu&utm_content=go-pro","_blank")}handleInsertElementClick(){var e=this.props;let t=e.path,a=e.children;(0,m.showElements)(t.slice().concat([a.size]))}setPlaceholder(){}renderElement(e,t){var a=this.props;let l=a.moveSection,n=a.path,s=a.device,i=a.responsive,r=n.slice().concat([t]),d=!s||e.getIn(["visibility",s]),u=e.get("id"),p=e.get("thumb_file"),f=e.get("form"),m=e.get("slug"),g=e.get("name"),v=e.get("children"),b=(0,h.getElementSchema)(m);return c.default.createElement(o.default,{key:u,path:r,columnPath:this.props.columnPath,form:f,schema:b,name:g,device:s,visible:d,thumb:p,responsive:i,slug:m,moveSection:l,index:t,element:e,columnId:this.props.columnId,rowId:this.props.rowId,rowPath:this.props.rowPath,openColumnSettingsModal:this.props.openColumnSettingsModal,children:v,setPlaceholder:this.setPlaceholder.bind(this)})}renderFooter(e){this.props.deleteColumn;return c.default.createElement("div",{className:e?"qx-fb-area-blank":"qx-fb-button--add"},c.default.createElement(E.default,{type:"primary",shape:"circle",className:"qxui-btn--small","qx-tooltip":"Add New Element",onClick:this.handleInsertElementClick},c.default.createElement("i",{className:"qxuicon-plus"})))}renderElements(e){return e.map(this.renderElement)}render(){const e=this.props.connectDropTarget,t=this.props.children,a=0===t.size;return(t=>a?e(t):t)(c.default.createElement("div",{className:"qx-fb-elements"},c.default.createElement(b.MenuProvider,{id:this.state.id},this.state.placeholder?c.default.createElement("div",{className:"qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-top-small qx-animation-fast"}):null,this.renderElements(t),this.renderFooter(a)),this.state.needPasteOption?c.default.createElement(b.Menu,{id:this.state.id,theme:b.theme.dark,style:{zIndex:99999}},c.default.createElement(b.Item,{key:"title",disabled:!0,title:"Element"},"Element"),c.default.createElement(b.Item,{onClick:()=>{(0,v.pasteNode)(this.props.path.concat(0)),i.default.emit("Element_WANT_TO_COPY")}},c.default.createElement("i",{className:"qxuicon-paste"})," Paste"),null,null):null))}},n.propTypes={path:r.default.array.isRequired,children:r.default.object.isRequired,moveSection:r.default.func.isRequired,deleteColumn:r.default.func.isRequired},l=s))||l;t.default=x},119:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=p(a(1356)),n=p(a(14)),s=p(a(76)),i=p(a(1357)),o=a(1),r=p(o),d=p(a(1358)),u=p(a(27)),c=p(a(46));function p(e){return e&&e.__esModule?e:{default:e}}const h=["rgba(0, 123, 255, 1)","rgba(111, 66, 193, 1)","rgba(232, 62, 140, 1)","rgba(220, 53, 69, 1)","rgba(255, 193, 7, 1)","rgba(40, 167, 69, 1)"];let f=class extends o.Component{constructor(e){super(e),this.shouldComponentUpdate=u.default,this.state={defaultPresetColors:h},this.resetColor=this.resetColor.bind(this),this.removeColor=this.removeColor.bind(this),this.handleChangeComplete=this.handleChangeComplete.bind(this),window.cookies=s.default}componentDidMount(){if(s.default.get("quix-preset-colors")){let e=JSON.parse(s.default.get("quix-preset-colors"));this.setState({defaultPresetColors:e})}n.default.on("FORM_UPDATED",()=>{if(null!=window.quix_preset_color){let e=[];s.default.get("quix-preset-colors")&&(e=JSON.parse(s.default.get("quix-preset-colors"))),e=(e=[window.quix_preset_color].concat(e)).concat(this.state.defaultPresetColors),e=(e=_.uniq(e)).slice(0,6),s.default.set("quix-preset-colors",JSON.stringify(e)),window.quix_preset_color=void 0}})}componentWillMount(){n.default.setMaxListeners(0),n.default.removeListener("FORM_UPDATED",()=>{})}handleChangeComplete(e){let t=e.color,a=e.alpha,l=(0,i.default)(t).split(",");t=`${l[0]} , ${l[1]}, ${l[2]}, ${a/100})`,this.props.onChange(t),window.quix_preset_color=t}resetColor(){this.props.onChange("rgba(255, 255, 255, 0)")}removeColor(){this.props.onChange("")}usePresetColor(e){this.props.onChange(e),window.quix_preset_color=e}getLabelMarkup(){let e=this.props.label;return this.props.onlyBaseText?null:r.default.createElement("p",{className:"qx-fb-field__label"},e," ",this.getHelpMarkup()," ")}getHelpMarkup(){let e=this.props.help;return this.props.onlyBaseText?null:e?r.default.createElement(c.default,{content:e,prefixCls:"qxui-popover",overlayClassName:"qxui-zi-l",placement:"right",popupStyle:{width:"300px"},getPopupContainer:()=>window.parent.document.body},r.default.createElement("i",{className:"qxuicon-question-circle qx-fb-field__help"})):void 0}render(){let e,t,a=this.props.value;if(_.startsWith(a,"rgba")&&!_.isEmpty(a)){let n=a.split(",");e=Number(n[3].trim("").replace(")","")),t="#"+(0,l.default)(n[0]+n[1]+n[2]+")")}return r.default.createElement("div",{className:"qx-fb-field-color"},this.getLabelMarkup(),r.default.createElement("div",{className:"qx-d-flex"},r.default.createElement(d.default,{animation:"slide-up",alpha:e?100*e:100,color:t||"#000000",defaultColor:t||"#000000",onChange:this.handleChangeComplete,getCalendarContainer:()=>window.parent.document.body}),r.default.createElement("div",{className:"qx-fb-field-color__presets qx-d-flex qx-align-items-center"},this.state.defaultPresetColors.map((e,t)=>r.default.createElement("span",{onClick:this.usePresetColor.bind(this,e),key:t,style:{backgroundColor:e}})),r.default.createElement("span",{className:"qx-fb-field-color__presets-reset-color",onClick:this.resetColor})),r.default.createElement("div",{className:"qx-fb-field-color__presets-none",onClick:this.removeColor},r.default.createElement("span",{className:"qxuicon-undo"}))))}};f.propTypes={},f.defaultProps={},t.default=f},1190:function(e,t,a){var l=a(1191);"string"==typeof l&&(l=[[e.i,l,""]]);a(34)(l,{});l.locals&&(e.exports=l.locals)},1191:function(e,t,a){(e.exports=a(31)(!1)).push([e.i,".qx-fb-elements > .qx-fb-area-blank button,\n.qx-fb-elements > .qx-fb-button--add button {\n  background-color: #ff3059 !important;\n  border-color: #ff3059 !important;\n}\n.qx-fb-drop-placeholder {\n  border: 1px dashed #f2f4f7;\n  width: 100%;\n  height: 40px;\n  position: relative;\n  background: #384e76;\n}\n.qx-fb-drop-placeholder:after {\n  content: 'Drop Here';\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  color: #fff;\n  font-size: 14px;\n  font-weight: 300;\n  font-family: fantasy;\n}\n.react-contexify i {\n  margin-top: 3px;\n  margin-right: 5px;\n}\n",""])},1192:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l,n,s,i,o,r=D(a(83)),d=D(a(348)),u=D(a(70)),c=D(a(21)),p=D(a(349)),h=D(a(219)),f=D(a(1193)),m=D(a(73)),g=D(a(503)),v=D(a(76)),b=D(a(14)),_=D(a(0)),E=a(22),y=D(a(2)),x=a(1),C=D(x),w=a(116),S=D(a(220)),N=D(a(221)),O=a(94),q=D(a(106)),k=a(117),T=a(226),P=D(a(227)),M=D(a(27)),I=(a(45),a(33)),j=(a(88),D(a(23)),a(228)),R=(a(229),a(230),D(a(24)));function D(e){return e&&e.__esModule?e:{default:e}}const L=R.default.Group,A=["accordion","blurb","button","column","call-to-action","divider","flip-box","google-map","icon-list","image","joomla-article","media-carousel","person","spacer","slider-pro","social-icon","tab","testimonial-carousel","testimonial","video","form"];let z=jQuery,B=(l=(0,O.DropTarget)(w.ELEMENT_NODE,(0,k.dropTarget)(),k.dropCollect),n=(0,O.DragSource)(w.ELEMENT_NODE,(0,T.dragSource)(w.ELEMENT_NODE),T.dragCollect),(0,S.default)(s=l(s=n((o=i=class extends x.Component{constructor(e){super(e),this.shouldComponentUpdate=M.default,this.loadElement=this.loadElement.bind(this),(0,N.default)(this),this.state={needPasteOption:!1,enableEdit:!1,elementRawHTML:"",elementRawStyle:"",elementRawScript:"",elementRawScripts:[],id:(0,m.default)("qx-element-id-"),field:{},draggingEnabled:!0,placeholder:!1,forceRender:null},this._mounted=!1,this._location="",this.getDevice=this.getDevice.bind(this),this.elementContextMenu=this.elementContextMenu.bind(this),this.getFormWidthPath=this.getFormWidthPath.bind(this)}componentDidMount(){this._mounted=!0;var e=this.props;const t=e.connectDragPreview,a=(e.thumb,document.createElement("img"));a.src=QUIX_ROOT_URL+"libraries/quix/assets/images/drag_elm_icon.png",a.onload=(()=>{t(a)}),b.default.on("STYLE_CONTEXT_MENU_UPDATE",({path:e,slug:t,reset:a})=>{this.props.slug==t&&1==this._mounted&&this.props.path!=e&&this.forceUpdate(),this.props.slug==t&&1==this._mounted&&1==a&&this.forceUpdate()}),b.default.on("TOGGLE_PLACEHOLDER",(e,t)=>{this._mounted&&(this.props.path==e?(this._location=t,this.setState({placeholder:!0,forceRender:(0,f.default)(1,1e3)})):this.state.placeholder&&this.setState({placeholder:!1}))}),b.default.on("REMOVE_PLACEHOLDER",e=>{this._mounted&&this.setState({placeholder:!1})}),b.default.on("Element_WANT_TO_COPY",()=>{this._mounted&&(this.setState({needPasteOption:!1}),window.needPasteOption.element=!1)}),b.default.on("Element_WANT_TO_PASTE",()=>{this._mounted&&(this.setState({needPasteOption:!0}),window.needPasteOption.element=!0)}),b.default.on("FETCH_ELEMENT",e=>{if(!this._mounted)return;let t=null,a=e.getIn(["advanced","identifier","1","value"]);if(a&&(t=a),this.props.element.getIn(["form","advanced","identifier","1","value"])==t){let t=this.props.element.toJS();t.form=e.toJS(),this.loadElement(t)}}),b.default.on("FORM_CLOSED",({id:e})=>{if(this._mounted&&e==this.props.form.getIn(["advanced","identifier","1","value"])){const e=this.props.form.toJS();this.loadElement({slug:localStorage.getItem("elementSlug"),form:e})}}),this.loadElement(this.props.element.toJS())}componentWillUnmount(){this._mounted=!1,b.default.removeListener("FETCH_ELEMENT",({id:e})=>{}),b.default.removeListener("STYLE_CONTEXT_MENU_UPDATE",({path:e,slug:t})=>{}),b.default.removeListener("Element_WANT_TO_PASTE",()=>{}),b.default.removeListener("Element_WANT_TO_COPY",()=>{}),b.default.removeListener("TOGGLE_PLACEHOLDER",(e,t)=>{}),b.default.removeListener("REMOVE_PLACEHOLDER",e=>{}),b.default.removeListener("FORM_CLOSED",({id:e})=>{})}loadElement(e){if(!this._mounted)return;let t=[],a=[];(0,h.default)(e.form,(e,l)=>{this.props.form.get(l).removeIn(["identifier",0,"value"]).equals((0,E.fromJS)(e))||a.push(l.toLowerCase()),(0,p.default)(e,(e,a)=>{t=(0,c.default)(e)?(0,c.default)(e[e.length-1])?(0,u.default)(t,{[a]:e}):(0,u.default)(t,(0,d.default)(e,"name")):(0,u.default)(t,{[a]:e})})}),t=(0,u.default)(t,{visibility:this.props.device}),t=(0,u.default)(t,{field:e=>this.field(e,t)}),this.setState({field:t});var l=Object.assign({},Assets);let n=t.id.value?t.id.value:t.id;if(localStorage.setItem("qx-form-id",n),"column"==e.slug)return;const s="#"+e.slug+"-template",i="#"+n+"-preview";(0,r.default)(a)||a.includes("advanced")||A.includes(e.slug)||!a.includes("advanced")&&!a.includes("general")&&!a.includes("styles")?setTimeout(()=>l.render(s,t,i),100):(a.includes("general")&&l.html(s,t).then(e=>{z("div"+i).html(e),l.script(s,t)}),a.includes("styles")&&l.style(s,t,i))}goPro(e){window.open("https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=context-menu&utm_content=go-pro","_blank")}deleteNode(e){this.props.deleteNode(e),z("script#"+this.field("id")+"-preview").remove(),z("style#"+this.field("id")+"-preview").remove()}duplicateNode(e){this.props.duplicateNode(e)}copyNode(e){this.props.copyNode(),b.default.emit("Element_WANT_TO_PASTE")}pasteNode(e){this.props.pasteNode(),b.default.emit("Element_WANT_TO_COPY")}openSettingsModal(e){this.props.openSettingsModal(e)}saveElement(){let e=(0,q.default)(this.props.element.set("groups",["My Elements"]));b.default.emit("SHOW_Element_SAVE_MODAL",e)}elementContextMenu(){if(!this.props.visible)return C.default.createElement(j.Menu,{id:this.state.id,theme:j.theme.light,style:{zIndex:99999}},C.default.createElement(j.Item,{onClick:this.props.toggleNodeVisibility},C.default.createElement("i",{className:"qxuicon-low-vision"})," Enable Element"));let e=C.default.createElement(j.Item,{onClick:this.copyNode.bind(this)},C.default.createElement("i",{className:"qxuicon-clipboard"})," Copy"),t=null;(this.state.needPasteOption||window.needPasteOption.element)&&(t=C.default.createElement(j.Item,{onClick:this.pasteNode.bind(this)},C.default.createElement("i",{className:"qxuicon-paste"})," Paste"));let a=C.default.createElement(j.Item,{onClick:()=>{(0,I.copyNodeStyle)(this.props.slug,this.props.path,this.props.form.toJS()),b.default.emit("STYLE_CONTEXT_MENU_UPDATE",{path:this.props.path,slug:this.props.slug})}},C.default.createElement("i",{className:"qxuicon-eye-dropper"})," Copy Style"),l=null,n=null;window.qx_element_style_copy&&window.qx_element_style_copy.slug==this.props.slug&&window.qx_element_style_copy.path!=this.props.path&&(n=C.default.createElement(j.Item,{onClick:()=>{(0,I.pasteNodeStyle)(this.props.path),b.default.emit("STYLE_CONTEXT_MENU_UPDATE",{path:this.props.path,slug:this.props.slug})}},C.default.createElement("i",{className:"qxuicon-paint-brush"})," Paste Style"),l=C.default.createElement(j.Item,{onClick:()=>{delete window.qx_element_style_copy,b.default.emit("STYLE_CONTEXT_MENU_UPDATE",{path:this.props.path,slug:this.props.slug,reset:!0})}},C.default.createElement("i",{className:"qxuicon-redo"})," Reset Style"));return C.default.createElement(j.Menu,{id:this.state.id,theme:j.theme.light,style:{zIndex:99999}},C.default.createElement(j.Item,{key:"title",disabled:!0,title:"Element"},"Element"),C.default.createElement(j.Item,{onClick:this.openSettingsModal.bind(this)},C.default.createElement("i",{className:"qxuicon-pencil"})," Edit"),C.default.createElement(j.Item,{onClick:this.duplicateNode.bind(this)},C.default.createElement("i",{className:"qxuicon-clone"})," Duplicate"),C.default.createElement(j.Separator,null),e,t,a,n,C.default.createElement(j.Separator,null),C.default.createElement(j.Item,{onClick:this.saveElement.bind(this)},C.default.createElement("i",{className:"qxuicon-save"})," Save to Library"),C.default.createElement(j.Item,{onClick:this.props.toggleNodeVisibility},C.default.createElement("i",{className:"qxuicon-low-vision"})," Disable"),C.default.createElement(j.Separator,null),C.default.createElement(j.Item,{onClick:this.deleteNode.bind(this)},C.default.createElement("i",{className:"qxuicon-trash-alt"})," Delete"),null,null)}renderSettings(e){let t=this.props.visible;const a=this.props.connectDragSource,l=C.default.createElement(R.default,{key:e+"-setting","qx-tooltip":"Edit",onClick:this.openSettingsModal.bind(this)}," ",C.default.createElement("i",{className:"qxuicon-pencil"})," "),n=t?C.default.createElement(R.default,{key:e+"-delete","qx-tooltip":"Delete",onClick:this.deleteNode.bind(this)}," ",C.default.createElement("i",{className:"qxuicon-trash-alt"})):"",s="column"==this.props.slug?null:C.default.createElement(R.default,{className:"contextMenu-dropdown","qx-tooltip":"Options - Right Click",onClick:e=>{e.stopPropagation(),this.menu.handleEvent(e)}},C.default.createElement("i",{className:"qxuicon-bars"}));return C.default.createElement("div",{className:"qx-fb-settings-wrap"},C.default.createElement(L,{prefixCls:"qxui-btn-group",className:"qx-fb-settings qx-fb-settings--element"},"column"==this.props.slug?n:null,"column"==this.props.slug?null:l,s,a(C.default.createElement("span",{className:"cursor-move"},C.default.createElement(R.default,{"qx-tooltip":`Move ${this.props.name}`},C.default.createElement("i",{className:"qxuicon-arrows"}))))))}getDevice(){let e=v.default.get("qx-device");return void 0===e&&(e="desktop"),"mobile"==e?"phone":e}getFormWidthPath({withForm:e,withoutDevice:t,withoutValue:a}={withForm:!1,withoutDevice:!1,withoutValue:!1}){let l=["general","layout_fields_group",1,"value"];return e&&(l=["form"].concat(l)),t?l:a?["general","layout_fields_group",1]:l.concat(this.getDevice())}render(){var e=this.props;const t=e.visible,a=(e.form,this.field("id"));var l=this.props;l.connectDragPreview;const n=l.isDragging,s=l.connectDropTarget,i=(0,y.default)("qx-fb-element clearfix",{"qx-fb-dragging":n,"qx-fb-column--nested":"column"==this.props.slug}),o=(0,y.default)({"qx-fb-disabled":!t});if("column"==this.props.slug){let e={flex:"0 0 100%",maxWidth:"100%"},t=C.default.createElement(g.default,{elementPath:this.props.path,moveSection:this.props.moveSection,children:this.props.children,path:(0,P.default)(this.props.path),device:this.props.device,responsive:this.props.responsive,hidePlusIcon:!0});return s(C.default.createElement("div",{className:i,style:e},C.default.createElement("div",null,C.default.createElement("div",{className:o},this.state.placeholder?C.default.createElement("div",{className:"qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-top-small qx-animation-fast"}):null,this.renderSettings(a),t))))}return s(C.default.createElement("div",{className:i},C.default.createElement(j.MenuProvider,{id:this.state.id,ref:e=>this.menu=e},C.default.createElement("div",{className:o},this.state.placeholder&&"BEFORE"==this._location?C.default.createElement("div",{className:"qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-top-small qx-animation-fast"}):null,this.renderSettings(a),C.default.createElement("div",{id:a+"-preview"}),this.state.placeholder&&"AFTER"==this._location?C.default.createElement("div",{className:"qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-bottom-small qx-animation-fast"}):null)),this.elementContextMenu()))}},i.propTypes={thumb:_.default.string.isRequired,path:_.default.array.isRequired,form:_.default.object.isRequired,moveSection:_.default.func.isRequired},s=o))||s)||s)||s);t.default=B},1195:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=s(a(162));t.default=function(){var e=this.props;let t=e.path,a=e.name;(0,l.default)(["row","section"],a.toLowerCase()),0;(0,n.copyNode)(t)};s(a(26));var n=a(33);function s(e){return e&&e.__esModule?e:{default:e}}},1196:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=s(a(162));t.default=function(){var e=this.props;let t=e.path,a=e.name;(0,l.default)(["row","section"],a.toLowerCase()),0;(0,n.pasteNode)(t)};s(a(26));var n=a(33);function s(e){return e&&e.__esModule?e:{default:e}}},1197:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this.props;let t=e.path;e.responsive?s.default.info("can not delete in responsive mode"):((0,i.deleteNode)(t),(0,o.hideElements)())};var l,n=a(26),s=(l=n)&&l.__esModule?l:{default:l},i=a(33),o=a(350)},1198:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t=this.props.path;reactor.dispatch("UPDATE_TITLE",{path:t,title:e})};a(33)},1199:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this.props;let t=e.path;e.name;(0,s.duplicateNode)(t)};var l,n=a(26),s=((l=n)&&l.__esModule,a(33))},120:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=_(a(232)),n=_(a(233)),s=_(a(95)),i=_(a(21)),o=_(a(1398)),r=_(a(14)),d=_(a(2)),u=a(1),c=_(u),p=_(a(1400)),h=_(a(234)),f=_(a(27)),m=_(a(48)),g=_(a(49)),v=_(a(46)),b=_(a(38));function _(e){return e&&e.__esModule?e:{default:e}}const E=g.default.Option,y=m.default.TabPane;let x=class extends u.Component{constructor(e){super(e),this.shouldComponentUpdate=f.default,this.handleChange=(e=>{e=this.props.multiple?(0,i.default)(e)?e.map(this.preserveType):e.split(",").map(this.preserveType):this.preserveType(e),this.props.responsive?("desktop"==this.state.valueFor?e=(0,s.default)(this.getValue(),{responsive_preview:!0,desktop:e}):"tablet"==this.state.valueFor?e=(0,s.default)(this.getValue(),{responsive_preview:!0,tablet:e}):"phone"==this.state.valueFor&&(e=(0,s.default)(this.getValue(),{responsive_preview:!0,phone:e})),this.props.onChange(e)):this.props.onChange(e)}),(0,h.default)(this),this.state={responsive:"desktop"!=this.getTabName(),valueFor:this.getTabName(),tab:this.getTabName(),reset:!1},this.getValue=this.getValue.bind(this),this.tabOnClick=this.tabOnClick.bind(this),this.handleChange=this.handleChange.bind(this),this.onResponsive=this.onResponsive.bind(this),this.renderTabContent=this.renderTabContent.bind(this),this.renderDeviceContent=this.renderDeviceContent.bind(this)}componentDidMount(){this._mounted=!0,r.default.on("RESPONSIVE_TAB_OPENED",e=>{this._mounted&&this.setState({tab:e})})}componentWillMount(){r.default.setMaxListeners(0),r.default.removeListener("RESPONSIVE_TAB_OPENED",()=>{})}componentWillUnmount(){this._mounted=!1}preserveType(e){return Number(e)==e?Number(e):e}getValue(e){return e?(0,o.default)(this.props.value,e)?this.props.value[e]:{desktop:this.props.value,tablet:"",phone:""}:(0,o.default)(this.props.value,"desktop")?this.props.value:{desktop:this.props.value,tablet:"",phone:""}}onResponsive(){this.setState({responsive:!this.state.responsive})}tabOnClick(e){this.setState({tab:e,valueFor:e}),r.default.emit("RESPONSIVE_TAB_OPENED",e)}onReset(e){if(!this.props.responsive)return void this.props.onChange(this.props.default);var t={};t[e]=void 0===this.props.default[e]?"":this.props.default[e];let a=(0,s.default)(this.props.value,t);this.props.onChange(a),this.setState({reset:!0})}getResponsiveTogglePreview(){let e=null;return this.props.responsive&&(e=c.default.createElement("span",{onClick:this.onResponsive,className:(0,d.default)("qx-fb-field__responsive",{"qxuicon-times":this.state.responsive,"qxuicon-desktop":!this.state.responsive})})),e}getSelectView(e,t,a,l){let n=!1;var s=this.props;let i=s.tags;s.label;e.image&&(n=e.image);let o=c.default.createElement(g.default,{mode:l?"multiple":i?"tags":"",showSearch:!0,optionFilterProp:"children",filterOption:(e,t)=>t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0,value:t?l||i?t:t.toString():l||i?[]:"",onChange:this.handleChange,prefixCls:"qxui-select",getPopupContainer:()=>window.parent.document.body,isRequired:!1},a.map((e,t)=>c.default.createElement(E,{key:t,value:e.value.toString()},e.label)));return n&&(o=c.default.createElement(p.default,{onChange:this.handleChange,path:this.props.path,value:t,options:a,responsive:this.props.responsive,multiple:l,name:this.props.name})),o}getLabelMarkup(){let e=this.props.label;return c.default.createElement("p",{className:"qx-fb-field__label"},e," ",this.getHelpMarkup()," ")}getHelpMarkup(){let e=this.props.help;if(e)return c.default.createElement(v.default,{content:e,prefixCls:"qxui-popover",overlayClassName:"qxui-zi-l",placement:"right",popupStyle:{width:"300px"},getPopupContainer:()=>window.parent.document.body},c.default.createElement("i",{className:"qxuicon-question-circle qx-fb-field__help"}))}getResetMarkup(e){let t=!1;return(t=this.props.responsive?!(0,n.default)(this.props.value[e],this.props.default[e]):!(0,n.default)(this.props.value,this.props.default))?c.default.createElement(b.default,{title:"Reset to default",overlayClassName:"qxui-zi-l",placement:"left",onClick:this["on"+(0,l.default)(e)+"Reset"]},c.default.createElement("i",{className:"qxuicon-undo qx-fb-field__reset",onClick:this.onReset.bind(this,e)})):null}renderDeviceContent(e){var t=this.props;let a=t.value,l=t.options,n=t.select,s=(t.help,t.multiple),i=null;return i=t.responsive?void 0===a[e]?a:a[e]:a,c.default.createElement("div",null,this.getSelectView(n,i,l,s),this.getResetMarkup(e))}renderTabContent(e){let t="qxuicon-"+("phone"==e?"mobile":e);return c.default.createElement(y,{tab:c.default.createElement("span",{className:t}),key:e},this.renderDeviceContent(e))}render(){var e=this.props;e.label,e.help,e.select;return e.responsive?c.default.createElement("div",{className:"qx-fb-field-select qx-fb-field--responsive"},this.getLabelMarkup(),this.getResponsiveTogglePreview(),c.default.createElement(m.default,{activeKey:this.state.tab,defaultActiveKey:"desktop",onChange:this.tabOnClick,prefixCls:"qxui-tabs"},["desktop","tablet","phone"].map(this.renderTabContent))):c.default.createElement("div",{className:"qx-fb-field-select clearfix"},this.getLabelMarkup(),this.renderDeviceContent("desktop"),this.getResponsiveTogglePreview())}};x.propTypes={},x.defaultProps={responsive:!0,select:{}},t.default=x},1200:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){localStorage.setItem("elementSlug",this.props.slug);var t=this.props;let a=t.path,n=t.form,s=t.name,i=t.schema,o=t.thumb;return(0,l.setOptions)(s,n,i,a,o),(0,l.showOptions)(),!1};var l=a(88)},1201:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this.props;let t=e.path,a=e.device,l=e.visible;(0,s.setNodeVisibility)(t,a,!l)};var l,n=a(26),s=((l=n)&&l.__esModule,a(33))},1241:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldMove=function(e,t){if(JSON.stringify(e)===JSON.stringify(t))return!1;return!0};a(9)},1250:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t=e.onSelect,a=e.sizes,s=e.layout,o=s.toJS();return l.default.createElement(n.default,{title:`${o[0].join("-")}`},l.default.createElement("li",{onClick:e=>t(a)},s.map((e,t)=>l.default.createElement(i,{key:t,name:e.join("-")}))))};var l=s(a(1)),n=s(a(38));function s(e){return e&&e.__esModule?e:{default:e}}function i(e){let t=e.name;return t="1-1"===t?"1":t,l.default.createElement("div",{className:`qx-fb-col qx-fb-col-layout-${t}`})}},1251:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t=(0,s.default)().get(e);return function(){return{get:function(e,a){if(!e)return t;return!t||null===t[e]&&void 0===t[e]?a:t[e]},set:function(t){return(0,s.default)().set(e,t)}}}};var l,n=a(1252),s=(l=n)&&l.__esModule?l:{default:l}},1252:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{get:function(e){let t=window.localStorage.getItem(e);try{return JSON.parse(t)}catch(e){return t}},set:function(e,t){window.localStorage.setItem(e,JSON.stringify(t))}}}},1253:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e};t.default=function(e){return(0,i.default)(["path"])(class extends n.Component{constructor(...e){var t;return t=super(...e),this.shouldComponentUpdate=o.default,t}render(){let t=this.props.path;return t=t.split(","),s.default.createElement(e,l({},this.props,{path:t}))}})};var n=a(1),s=r(n),i=r(a(1254)),o=r(a(27));function r(e){return e&&e.__esModule?e:{default:e}}},1254:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=o(a(21)),n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e};t.default=function(e=[]){return function(t){return(0,i.default)({render(){(0,l.default)(e)||(e=[]);let a=e.reduce((e,t)=>(e[t]=this.props[t].join(","),e),{});return s.default.createElement(t,n({},this.props,this.state,a))}})}};var s=o(a(1)),i=o(a(307));function o(e){return e&&e.__esModule?e:{default:e}}},1255:function(e,t,a){var l=a(1256);"string"==typeof l&&(l=[[e.i,l,""]]);a(34)(l,{});l.locals&&(e.exports=l.locals)},1256:function(e,t,a){(t=e.exports=a(31)(!1)).i(a(1257),""),t.push([e.i,".qx-fb-dragging .div#placeholder {\n  padding: 50px;\n  border-bottom: 30px solid red;\n}\n",""])},1258:function(e,t,a){"use strict";var l,n,s;Object.defineProperty(t,"__esModule",{value:!0});var i=v(a(14)),o=a(1),r=v(o),d=v(a(67)),u=v(a(56)),c=v(a(61)),p=v(a(356)),h=v(a(231)),f=v(a(48)),m=v(a(147)),g=v(a(239));function v(e){return e&&e.__esModule?e:{default:e}}const b=f.default.TabPane,_=g.default.Panel;function E(){reactor.dispatch("CLOSE_SEO")}let y=(0,d.default)({visible:[["meta"],e=>e.getIn(["seoScreen","visible"])]})((s=n=class extends o.Component{constructor(e){super(e),this.state={title:"",desc:"",image:"",tuser:"",appid:"",addog:"",addtw:"",imageIntroWarning:""},this.updateIntroImage=this.updateIntroImage.bind(this)}componentDidMount(){setTimeout(()=>{this.setState({title:document.getElementById("jform_metadata_title").value}),this.setState({desc:document.getElementById("jform_metadata_desc").value}),this.setState({focusKeywords:document.getElementById("jform_metadata_focus_keywords").value});let e={url:null,media:{type:"image",image:document.getElementById("jform_metadata_image_intro").value}};this.setState({image:e}),this.setState({tuser:document.getElementById("jform_metadata_twitter_username").value}),this.setState({appid:document.getElementById("jform_metadata_fb_appid").value}),this.setState({addog:Boolean(document.getElementById("jform_metadata_addog").value)}),this.setState({addtw:Boolean(document.getElementById("jform_metadata_addtw").value)})},100),i.default.on("SEO_KEYWORD_UPDATED",e=>this.setState({focusKeywords:document.getElementById("jform_metadata_focus_keywords").value}))}onChange(e){window.PageChanged=!0}updateIntroImage(e){this.setState({imageIntroWarning:" "});let t="";if(e.url)t=e.url;else if(e.media&&"image"==e.media.type)t=e.media.image;else if(e.media&&"svg"==e.media.type)return t="",this.setState({imageIntroWarning:"Please select image only!"}),!1;return document.getElementById("jform_metadata_image_intro").value=t,!0}render(){let e=this.props.visible,t=document.getElementById("jform_type").value;return r.default.createElement(u.default,{className:"qxui-modal--with-tab modal--small",title:"SEO settings",show:e,close:E,dismisible:!0,footer:[r.default.createElement("button",{key:"save",className:"qxui-btn qxui-btn-primary qxui-btn-lg",onClick:()=>{window.PageChanged=!0,i.default.emit("RELOAD_SEO_SCORE"),reactor.dispatch("CLOSE_SEO")}}," ",r.default.createElement("i",{className:"qxuicon-check"})," Apply ")]},"collection"===t?r.default.createElement(f.default,{defaultActiveKey:"general",prefixCls:"qxui-tabs"},r.default.createElement(b,{tab:"General",key:"general"},r.default.createElement(g.default,{defaultActiveKey:["1"],accordion:!0,prefixCls:"qxui-collapse",className:"qxui-collapse--fields-group"},r.default.createElement(_,{header:"General Options",key:"1"},r.default.createElement("p",{className:"qx-alert qx-alert-info qx-small qx-p-1"},"SEO Settings are mainly for Pages. This view will help you to understand better content quality.",r.default.createElement("strong",null,"These settings will not be implemented in preview page.")),r.default.createElement("div",{className:"qx-fb-field"},r.default.createElement(c.default,{label:"SEO Title",name:"jform[metadata][title]",placeholder:"SEO title",value:this.state.title,id:"jform_metadata_title",onChange:e=>{this.setState({title:e}),document.getElementById("jform_metadata_title").value=e,window.PageChanged=!0},onReset:e=>{this.setState({title:""}),document.getElementById("jform_metadata_title").value="",window.PageChanged=!0}})),r.default.createElement("div",{className:"qx-fb-field"},r.default.createElement(p.default,{label:"SEO Desc",name:"jform[metadata][desc]",rows:4,value:this.state.desc,id:"jform_metadata_desc",onChange:e=>{this.setState({desc:e}),document.getElementById("jform_metadata_desc").value=e,window.PageChanged=!0},onReset:e=>{this.setState({desc:""}),document.getElementById("jform_metadata_desc").value="",window.PageChanged=!0}})),r.default.createElement("div",{className:"qx-fb-field"},r.default.createElement(c.default,{label:"SEO Focus Keywords",name:"jform[metadata][focus_keywords]",placeholder:"SEO Focus Keywords",value:this.state.focusKeywords,id:"jform_metadata_focus_keywords",onChange:e=>{this.setState({focusKeywords:e}),i.default.emit("SEO_KEYWORD_UPDATED",e),document.getElementById("jform_metadata_focus_keywords").value=e,window.PageChanged=!0},onReset:e=>{this.setState({focusKeywords:""}),i.default.emit("SEO_KEYWORD_UPDATED",""),document.getElementById("jform_metadata_focus_keywords").value="",window.PageChanged=!0}})))))):r.default.createElement(f.default,{defaultActiveKey:"general",prefixCls:"qxui-tabs"},r.default.createElement(b,{tab:"General",key:"general"},r.default.createElement(g.default,{defaultActiveKey:["1"],accordion:!0,prefixCls:"qxui-collapse",className:"qxui-collapse--fields-group"},r.default.createElement(_,{header:"General Options",key:"1"},r.default.createElement("div",{className:"qx-fb-field"},r.default.createElement(c.default,{label:"SEO Title",name:"jform[metadata][title]",placeholder:"SEO title",value:this.state.title,id:"jform_metadata_title",onChange:e=>{this.setState({title:e}),document.getElementById("jform_metadata_title").value=e,window.PageChanged=!0},onReset:e=>{this.setState({title:""}),document.getElementById("jform_metadata_title").value="",window.PageChanged=!0}})),r.default.createElement("div",{className:"qx-fb-field"},r.default.createElement(p.default,{label:"SEO Desc",name:"jform[metadata][desc]",rows:4,value:this.state.desc,id:"jform_metadata_desc",onChange:e=>{this.setState({desc:e}),document.getElementById("jform_metadata_desc").value=e,window.PageChanged=!0},onReset:e=>{this.setState({desc:""}),document.getElementById("jform_metadata_desc").value="",window.PageChanged=!0}})),r.default.createElement("div",{className:"qx-fb-field"},r.default.createElement(c.default,{label:"SEO Focus Keywords",name:"jform[metadata][focus_keywords]",placeholder:"SEO Focus Keywords",value:this.state.focusKeywords,id:"jform_metadata_focus_keywords",onChange:e=>{this.setState({focusKeywords:e}),i.default.emit("SEO_KEYWORD_UPDATED",e),document.getElementById("jform_metadata_focus_keywords").value=e,window.PageChanged=!0},onReset:e=>{this.setState({focusKeywords:""}),i.default.emit("SEO_KEYWORD_UPDATED",""),document.getElementById("jform_metadata_focus_keywords").value="",window.PageChanged=!0}})),r.default.createElement("div",{className:"qx-fb-field"},r.default.createElement(c.default,{label:"Twitter Username",name:"jform[metadata][twitter_username]",placeholder:"twitter_username",value:this.state.tuser,id:"jform_metadata_twitter_username",onChange:e=>{this.setState({tuser:e}),document.getElementById("jform_metadata_twitter_username").value=e,window.PageChanged=!0},onReset:e=>{this.setState({tuser:""}),document.getElementById("jform_metadata_twitter_username").value="",window.PageChanged=!0}})),r.default.createElement("div",{className:"qx-fb-field"},r.default.createElement(c.default,{label:"Facebook AppID",name:"jform[metadata][fb_appid]",placeholder:"fb_appid",value:this.state.appid,id:"jform_metadata_fb_appid",onChange:e=>{this.setState({appid:e}),document.getElementById("jform_metadata_fb_appid").value=e,window.PageChanged=!0},onReset:e=>{this.setState({appid:""}),document.getElementById("jform_metadata_fb_appid").value="",window.PageChanged=!0}}))))),r.default.createElement(b,{tab:"Image",key:"image"},r.default.createElement(g.default,{defaultActiveKey:["1"],accordion:!0,prefixCls:"qxui-collapse",className:"qxui-collapse--fields-group"},r.default.createElement(_,{header:"SEO Image",key:"1"},r.default.createElement("div",{className:"qx-fb-field"},r.default.createElement(h.default,{label:"Image Intro",name:"jform[metadata][image_intro]",value:this.state.image,id:"jform_metadata_image_intro",filters:"image",onChange:e=>{if(!this.updateIntroImage(e))return!1;this.setState({image:e}),window.PageChanged=!0}}),r.default.createElement("div",{id:"imageIntroWarning",style:{color:"red",fontWeight:"bold"}},this.state.imageIntroWarning))))),r.default.createElement(b,{tab:"Settings",key:"settings"},r.default.createElement(g.default,{defaultActiveKey:["1"],accordion:!0,prefixCls:"qxui-collapse",className:"qxui-collapse--fields-group"},r.default.createElement(_,{header:"Other Options",key:"1"},r.default.createElement("div",{className:"qx-fb-field"},r.default.createElement(m.default,{label:"Add OpenGraph data",name:"jform[metadata][addog]",checked:this.state.addog,onChange:e=>{this.setState({addog:e}),document.getElementById("jform_metadata_addog").value=e,window.PageChanged=!0}})),r.default.createElement("div",{className:"qx-fb-field"},r.default.createElement(m.default,{label:"Add Twitter card",name:"jform[metadata][addtw]",checked:this.state.addtw,onChange:e=>{this.setState({addtw:e}),document.getElementById("jform_metadata_addtw").value=e,window.PageChanged=!0}})))))))}},n.propTypes={},n.defaultProps={},l=s))||l;t.default=y},1358:function(e,t,a){"use strict";e.exports=a(1359),e.exports.Panel=a(539)},1359:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],l=!0,n=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(l=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);l=!0);}catch(e){n=!0,s=e}finally{try{!l&&o.return&&o.return()}finally{if(n)throw s}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},s=p(a(1)),i=a(9),o=p(a(0)),r=p(a(64)),d=p(a(539)),u=p(a(1367)),c=p(a(176));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var a=Object.getOwnPropertyNames(t),l=0;l<a.length;l++){var n=a[l],s=Object.getOwnPropertyDescriptor(t,n);s&&s.configurable&&void 0===e[n]&&Object.defineProperty(e,n,s)}}(e,t))}function f(e){e.preventDefault()}var m=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a)),n=void 0===a.alpha?a.defaultAlpha:Math.min(a.alpha,a.defaultAlpha);l.state={color:a.color||a.defaultColor,alpha:n,open:!1};return["onTriggerClick","onChange","onBlur","getPickerElement","getRootDOMNode","getTriggerDOMNode","onVisibleChange","onPanelMount","setOpen","open","close","focus"].forEach(function(e){l[e]=l[e].bind(l)}),l.saveTriggerRef=function(e,t){this[e]=t}.bind(l,"triggerInstance"),l}return h(t,e),t.prototype.componentWillReceiveProps=function(e){e.color&&this.setState({color:e.color}),null!==e.alpha&&void 0!==e.alpha&&this.setState({alpha:e.alpha})},t.prototype.onTriggerClick=function(){this.setState({open:!this.state.open})},t.prototype.onChange=function(e){var t=this;this.setState(n({},e),function(){t.props.onChange(t.state)})},t.prototype.onBlur=function(){this.setOpen(!1)},t.prototype.onVisibleChange=function(e){this.setOpen(e)},t.prototype.onPanelMount=function(e){this.state.open&&setTimeout(function(){e.focus()},1)},t.prototype.setOpen=function(e,t){var a=this;this.state.open!==e&&this.setState({open:e},function(){"function"==typeof t&&t();var e=a.props,l=e.onOpen,n=e.onClose;a.state.open?l(a.state):n(a.state)})},t.prototype.getRootDOMNode=function(){return(0,i.findDOMNode)(this)},t.prototype.getTriggerDOMNode=function(){return(0,i.findDOMNode)(this.triggerInstance)},t.prototype.getPickerElement=function(){return s.default.createElement(d.default,{onMount:this.onPanelMount,defaultColor:this.state.color,alpha:this.state.alpha,enableAlpha:this.props.enableAlpha,prefixCls:this.props.prefixCls+"-panel",onChange:this.onChange,onBlur:this.onBlur,mode:this.props.mode,className:this.props.className})},t.prototype.open=function(e){this.setOpen(!0,e)},t.prototype.close=function(e){this.setOpen(!1,e)},t.prototype.focus=function(){this.state.open||(0,i.findDOMNode)(this).focus()},t.prototype.render=function(){var e=this.props,t=this.state,a=[e.prefixCls+"-wrap",e.className];t.open&&a.push(e.prefixCls+"-open");var n=e.children,i=l(new c.default(this.state.color).RGB,3),o=[i[0],i[1],i[2]];o.push(this.state.alpha/100),n&&(n=s.default.cloneElement(n,{ref:this.saveTriggerRef,unselectable:"unselectable",style:{backgroundColor:"rgba("+o.join(",")+")"},onClick:this.onTriggerClick,onMouseDown:f}));var d=e.prefixCls,p=e.placement,h=e.style,m=e.getCalendarContainer,g=e.align,v=e.animation,b=e.disabled,_=e.transitionName;return s.default.createElement("div",{className:a.join(" ")},s.default.createElement(r.default,{popup:this.getPickerElement(),popupAlign:g,builtinPlacements:u.default,popupPlacement:p,action:b?[]:["click"],destroyPopupOnHide:!0,getPopupContainer:m,popupStyle:h,popupAnimation:v,popupTransitionName:_,popupVisible:t.open,onPopupVisibleChange:this.onVisibleChange,prefixCls:d},n))},t}(s.default.Component);t.default=m,m.propTypes={defaultColor:o.default.string,defaultAlpha:o.default.number,alpha:o.default.number,children:o.default.node.isRequired,className:o.default.string,color:o.default.string,enableAlpha:o.default.bool,mode:o.default.oneOf(["RGB","HSL","HSB"]),onChange:o.default.func,onClose:o.default.func,onOpen:o.default.func,placement:o.default.oneOf(["topLeft","topRight","bottomLeft","bottomRight"]),prefixCls:o.default.string.isRequired,style:o.default.object},m.defaultProps={defaultColor:"#F00",defaultAlpha:100,onChange:function(){},onOpen:function(){},onClose:function(){},children:s.default.createElement("span",{className:"rc-color-picker-trigger"}),className:"",enableAlpha:!0,placement:"topLeft",prefixCls:"rc-color-picker",style:{}},e.exports=t.default},1360:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=r(a(1)),n=r(a(9)),s=r(a(0)),i=r(a(89)),o=r(a(176));function r(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var a=Object.getOwnPropertyNames(t),l=0;l<a.length;l++){var n=a[l],s=Object.getOwnPropertyDescriptor(t,n);s&&s.configurable&&void 0===e[n]&&Object.defineProperty(e,n,s)}}(e,t))}var u=200,c=150,p=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a));return l.onBoardMouseDown=function(e){if(1===e.buttons){var t=e.clientX,a=e.clientY;l.pointMoveTo({x:t,y:a}),l.removeListeners(),l.dragListener=(0,i.default)(window.parent.window,"mousemove",l.onBoardDrag),l.dragUpListener=(0,i.default)(window.parent.window,"mouseup",l.onBoardDragEnd)}},l.onBoardTouchStart=function(e){if(1===e.touches.length){l.removeTouchListeners();var t=e.targetTouches[0].clientX,a=e.targetTouches[0].clientY;l.pointMoveTo({x:t,y:a}),l.touchMoveListener=(0,i.default)(window.parent.window,"touchmove",l.onBoardTouchMove),l.touchEndListener=(0,i.default)(window.parent.window,"touchend",l.onBoardTouchEnd)}},l.onBoardTouchMove=function(e){e.preventDefault&&e.preventDefault();var t=e.targetTouches[0].clientX,a=e.targetTouches[0].clientY;l.pointMoveTo({x:t,y:a})},l.onBoardTouchEnd=function(){l.removeTouchListeners()},l.onBoardDrag=function(e){var t=e.clientX,a=e.clientY;l.pointMoveTo({x:t,y:a})},l.onBoardDragEnd=function(e){var t=e.clientX,a=e.clientY;l.pointMoveTo({x:t,y:a}),l.removeListeners()},l.getPrefixCls=function(){return l.props.rootPrefixCls+"-board"},l.removeTouchListeners=function(){l.touchMoveListener&&(l.touchMoveListener.remove(),l.touchMoveListener=null),l.touchEndListener&&(l.touchEndListener.remove(),l.touchEndListener=null)},l.removeListeners=function(){l.dragListener&&(l.dragListener.remove(),l.dragListener=null),l.dragUpListener&&(l.dragUpListener.remove(),l.dragUpListener=null)},l.pointMoveTo=function(e){var t=n.default.findDOMNode(l).getBoundingClientRect(),a=e.x-t.left,s=e.y-t.top,i=t.width||u,o=t.height||c;a=Math.max(0,a),a=Math.min(a,i),s=Math.max(0,s),s=Math.min(s,o);var r=l.props.color;r.saturation=a/i,r.brightness=1-s/o,l.props.onChange(r)},l}return d(t,e),t.prototype.componentWillUnmount=function(){this.removeListeners(),this.removeTouchListeners()},t.prototype.render=function(){var e=this.getPrefixCls(),t=this.props.color,a={h:t.hue,s:1,v:1},n=new o.default(a).toHexString(),s=100*t.saturation,i=100*(1-t.brightness);return l.default.createElement("div",{className:e},l.default.createElement("div",{className:e+"-hsv",style:{backgroundColor:n}},l.default.createElement("div",{className:e+"-value"}),l.default.createElement("div",{className:e+"-saturation"})),l.default.createElement("span",{style:{left:s+"%",top:i+"%"}}),l.default.createElement("div",{className:e+"-handler",onMouseDown:this.onBoardMouseDown,onTouchStart:this.onBoardTouchStart}))},t}(l.default.Component);t.default=p,p.propTypes={color:s.default.object,onChange:s.default.func,rootPrefixCls:s.default.string},e.exports=t.default},1361:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=i(a(1)),n=i(a(0)),s=i(a(176));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var a=Object.getOwnPropertyNames(t),l=0;l<a.length;l++){var n=a[l],s=Object.getOwnPropertyDescriptor(t,n);s&&s.configurable&&void 0===e[n]&&Object.defineProperty(e,n,s)}}(e,t))}var d=function(e){function t(){var a,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return a=l=o(this,e.call.apply(e,[this].concat(i))),l.onChange=function(e){var t=e.target.value,a=new s.default(t);l.props.onChange(a),e.stopPropagation()},l.getPrefixCls=function(){return l.props.rootPrefixCls+"-preview"},o(l,a)}return r(t,e),t.prototype.render=function(){var e=this.getPrefixCls(),t=this.props.color.toHexString();return l.default.createElement("div",{className:e},l.default.createElement("span",{style:{backgroundColor:t,opacity:this.props.alpha/100}}),l.default.createElement("input",{type:"color",value:t,onChange:this.onChange,onClick:this.props.onInputClick}))},t}(l.default.Component);t.default=d,d.propTypes={rootPrefixCls:n.default.string,color:n.default.object,alpha:n.default.number,onChange:n.default.func,onInputClick:n.default.func},e.exports=t.default},1362:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=o(a(1)),n=o(a(9)),s=o(a(0)),i=o(a(89));function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var a=Object.getOwnPropertyNames(t),l=0;l<a.length;l++){var n=a[l],s=Object.getOwnPropertyDescriptor(t,n);s&&s.configurable&&void 0===e[n]&&Object.defineProperty(e,n,s)}}(e,t))}var d=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a));return l.onMouseDown=function(e){var t=e.clientX,a=e.clientY;l.pointMoveTo({x:t,y:a}),l.dragListener=(0,i.default)(window.parent.window,"mousemove",l.onDrag),l.dragUpListener=(0,i.default)(window.parent.window,"mouseup",l.onDragEnd)},l.onDrag=function(e){var t=e.clientX,a=e.clientY;l.pointMoveTo({x:t,y:a})},l.onDragEnd=function(e){var t=e.clientX,a=e.clientY;l.pointMoveTo({x:t,y:a}),l.removeListeners()},l.getPrefixCls=function(){return l.props.rootPrefixCls+"-ribbon"},l.pointMoveTo=function(e){var t=n.default.findDOMNode(l).getBoundingClientRect(),a=t.width,s=e.x-t.left;s=Math.max(0,s);var i=360*((s=Math.min(s,a))/a),o=l.props.color;o.hue=i,l.props.onChange(o)},l.removeListeners=function(){l.dragListener&&(l.dragListener.remove(),l.dragListener=null),l.dragUpListener&&(l.dragUpListener.remove(),l.dragUpListener=null)},l}return r(t,e),t.prototype.componentWillUnmount=function(){this.removeListeners()},t.prototype.render=function(){var e=this.getPrefixCls(),t=this.props.color.hue/360*100;return l.default.createElement("div",{className:e},l.default.createElement("span",{ref:"point",style:{left:t+"%"}}),l.default.createElement("div",{className:e+"-handler",onMouseDown:this.onMouseDown}))},t}(l.default.Component);t.default=d,d.propTypes={rootPrefixCls:s.default.string,color:s.default.object,onChange:s.default.func},e.exports=t.default},1363:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=o(a(1)),n=a(9),s=o(a(0)),i=o(a(89));function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var a=Object.getOwnPropertyNames(t),l=0;l<a.length;l++){var n=a[l],s=Object.getOwnPropertyDescriptor(t,n);s&&s.configurable&&void 0===e[n]&&Object.defineProperty(e,n,s)}}(e,t))}function d(e,t,a,l){return"rgba("+[e,t,a,l/100].join(",")+")"}var u=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a));return l.onMouseDown=function(e){var t=e.clientX,a=e.clientY;l.pointMoveTo({x:t,y:a}),l.dragListener=(0,i.default)(window.parent.window,"mousemove",l.onDrag),l.dragUpListener=(0,i.default)(window.parent.window,"mouseup",l.onDragEnd)},l.onDrag=function(e){var t=e.clientX,a=e.clientY;l.pointMoveTo({x:t,y:a})},l.onDragEnd=function(e){var t=e.clientX,a=e.clientY;l.pointMoveTo({x:t,y:a}),l.removeListeners()},l.getBackground=function(){var e=l.props.color,t=e.red,a=e.green,n=e.blue;return"linear-gradient(to right, "+d(t,a,n,0)+" , "+d(t,a,n,100)+")"},l.getPrefixCls=function(){return l.props.rootPrefixCls+"-alpha"},l.pointMoveTo=function(e){var t=(0,n.findDOMNode)(l).getBoundingClientRect(),a=t.width,s=e.x-t.left;s=Math.max(0,s),s=Math.min(s,a);var i=Math.round(s/a*100);l.props.onChange(i)},l.removeListeners=function(){l.dragListener&&(l.dragListener.remove(),l.dragListener=null),l.dragUpListener&&(l.dragUpListener.remove(),l.dragUpListener=null)},l}return r(t,e),t.prototype.componentWillUnmount=function(){this.removeListeners()},t.prototype.render=function(){var e=this.getPrefixCls();return l.default.createElement("div",{className:e},l.default.createElement("div",{ref:"bg",className:e+"-bg",style:{background:this.getBackground()}}),l.default.createElement("span",{style:{left:this.props.alpha+"%"}}),l.default.createElement("div",{className:e+"-handler",onMouseDown:this.onMouseDown}))},t}(l.default.Component);t.default=u,u.propTypes={color:s.default.object,onChange:s.default.func,rootPrefixCls:s.default.string,alpha:s.default.number},e.exports=t.default},1364:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=r(a(1)),n=r(a(0)),s=r(a(2)),i=r(a(176)),o=r(a(1365));function r(e){return e&&e.__esModule?e:{default:e}}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var a=Object.getOwnPropertyNames(t),l=0;l<a.length;l++){var n=a[l],s=Object.getOwnPropertyDescriptor(t,n);s&&s.configurable&&void 0===e[n]&&Object.defineProperty(e,n,s)}}(e,t))}var c=["RGB","HSB"],p=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a));return l.getChannelInRange=function(e,t){var a={RGB:[[0,255],[0,255],[0,255]],HSB:[[0,359],[0,100],[0,100]]}[l.state.mode][t],n=parseInt(e,10);return isNaN(n)&&(n=0),n=Math.max(a[0],n),n=Math.min(n,a[1])},l.getPrefixCls=function(){return l.props.rootPrefixCls+"-params"},l.handleHexBlur=function(){var e=l.state.hex,t=null;i.default.isValidHex(e)&&(t=new i.default(e)),null!==t&&(l.setState({color:t,hex:e}),l.props.onChange(t,!1))},l.handleHexPress=function(e){var t=l.state.hex;if(13===e.nativeEvent.which){var a=null;i.default.isValidHex(t)&&(a=new i.default(t)),null!==a&&(l.setState({color:a,hex:t}),l.props.onChange(a,!1))}},l.handleHexChange=function(e){var t=e.target.value;l.setState({hex:t})},l.handleModeChange=function(){var e=l.state.mode,t=(c.indexOf(e)+1)%c.length;e=c[t],l.setState({mode:e})},l.handleAlphaHandler=function(e){var t=parseInt(e.target.value,10);isNaN(t)&&(t=0),t=Math.max(0,t),t=Math.min(t,100),l.props.onAlphaChange(t)},l.updateColorByChanel=function(e,t){var a=l.props.color;return"HSB"===l.state.mode?"H"===e?a.hue=parseInt(t,10):"S"===e?a.saturation=parseInt(t,10)/100:"B"===e&&(a.brightness=parseInt(t,10)/100):"R"===e?a.red=parseInt(t,10):"G"===e?a.green=parseInt(t,10):"B"===e&&(a.blue=parseInt(t,10)),a},l.handleColorChannelChange=function(e,t){var a=l.getChannelInRange(t.target.value,e),n=l.state.mode[e],s=l.updateColorByChanel(n,a);l.setState({hex:s.hex,color:s},function(){l.props.onChange(s,!1)})},l.state={mode:a.mode,hex:a.color.hex,color:a.color},l}return u(t,e),t.prototype.componentWillReceiveProps=function(e){var t=e.color;this.setState({color:t,hex:t.hex})},t.prototype.render=function(){var e,t=this.getPrefixCls(),a=this.props.enableAlpha,n=this.state,i=n.mode,r=n.color[i];"HSB"===i&&(r[0]=parseInt(r[0],10),r[1]=(0,o.default)(r[1]),r[2]=(0,o.default)(r[2]));var u=(0,s.default)((d(e={},t,!0),d(e,t+"-has-alpha",a),e));return l.default.createElement("div",{className:u},l.default.createElement("div",{className:t+"-input"},l.default.createElement("input",{className:t+"-hex",type:"text",maxLength:"6",onKeyPress:this.handleHexPress,onBlur:this.handleHexBlur,onChange:this.handleHexChange,value:this.state.hex.toLowerCase()}),l.default.createElement("input",{type:"number",ref:"channel_0",value:r[0],onChange:this.handleColorChannelChange.bind(null,0)}),l.default.createElement("input",{type:"number",ref:"channel_1",value:r[1],onChange:this.handleColorChannelChange.bind(null,1)}),l.default.createElement("input",{type:"number",ref:"channel_2",value:r[2],onChange:this.handleColorChannelChange.bind(null,2)}),a&&l.default.createElement("input",{type:"number",value:Math.round(this.props.alpha),onChange:this.handleAlphaHandler})),l.default.createElement("div",{className:t+"-lable"},l.default.createElement("label",{className:t+"-lable-hex"},"Hex"),l.default.createElement("label",{className:t+"-lable-number",onClick:this.handleModeChange},i[0]),l.default.createElement("label",{className:t+"-lable-number",onClick:this.handleModeChange},i[1]),l.default.createElement("label",{className:t+"-lable-number",onClick:this.handleModeChange},i[2]),a&&l.default.createElement("label",{className:t+"-lable-alpha"},"A")))},t}(l.default.Component);t.default=p,p.propTypes={alpha:n.default.number,enableAlpha:n.default.bool,color:n.default.object.isRequired,mode:n.default.oneOf(c),onAlphaChange:n.default.func,onChange:n.default.func,rootPrefixCls:n.default.string},p.defaultProps={mode:c[0],enableAlpha:!0},e.exports=t.default},1365:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Math.round(100*e)},e.exports=t.default},1366:function(e,t,a){"use strict";e.exports=function(e,t,a){if(e[t]&&!/^#[0-9a-fA-F]{3,6}$/.test(e[t]))return new Error(a+".props."+t+" Validation failed!")}},1367:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l={adjustX:1,adjustY:1},n=[0,0],s={topLeft:{points:["bl","tl"],overflow:l,offset:[0,-5],targetOffset:n},topRight:{points:["br","tr"],overflow:l,offset:[0,-5],targetOffset:n},bottomLeft:{points:["tl","bl"],overflow:l,offset:[0,5],targetOffset:n},bottomRight:{points:["tr","br"],overflow:l,offset:[0,5],targetOffset:n}};t.default=s,e.exports=t.default},137:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nodeUnserializer=c,t.nodesUnserializer=p;var l,n=a(52),s=a(289),i=(l=s)&&l.__esModule?l:{default:l},o=a(22);let r=!1,d=null;function u(e,t,a,l){return t.map(t=>{let n=Object.assign({},_.find(e,e=>!_.isUndefined(e[t.name]))),s=Object.assign({},t),i=a[t.name];return i?(s.value=i,r=!0,d=l):s.value=_.isUndefined(n[t.name])?t.value:n[t.name],s})}function c(e){r=!1;let t=n.nodes.find(t=>t.get("slug")===e.get("slug"));if(!t)return!1;let a=t.get("form").toJS(),l=e.get("form").toJS(),s={};_.each(a,(e,t)=>{let a={};_.each(e,(e,n)=>{let s={};l[t]&&("group-repeater"==e.type?s="object"!=typeof l[t][e.name]?"":l[t][e.name].map(a=>u(a,e.schema,l[t],t)):"fields-group"==e.type&&(s=u(l[t][e.name],e.schema,l[t],t))),a[e.name]=s}),s[t]=a}),_.isEmpty(e.getIn(["form","advanced","identifier",1,"value"]))?e=(e=t.merge(e)).set("form",(0,o.fromJS)(s)):(t=t.set("form",(0,o.fromJS)(s)),e=t.merge(e),r&&(e=e.setIn(["form",d],t.getIn(["form",d]).toJS())));const c=e.get("slug"),h=i.default.randomId(`qx-${c}-`,100);return e.get("id")||(e=e.set("id",h)),e.getIn(["form","advanced","identifier",1,"value"])||(e=e.setIn(["form","advanced","identifier",1,"value"],h)),e.has("children")&&(e=e.update("children",e=>p(e))),e=e.delete("path").delete("dynamic_style_file").delete("url").delete("file").delete("css_file").delete("view_file")}function p(e){return e.map(c).filter(Boolean)}},1395:function(e,t,a){"use strict";var l,n,s;Object.defineProperty(t,"__esModule",{value:!0});var i=a(1),o=g(i),r=g(a(67)),d=g(a(56)),u=(g(a(119)),g(a(239))),c=g(a(541)),p=g(a(48)),h=g(a(49)),f=g(a(147)),m=g(a(1396));function g(e){return e&&e.__esModule?e:{default:e}}const v=u.default.Panel,b=p.default.TabPane,E=h.default.Option;function y(){reactor.dispatch("CLOSE_PAGEMODAL")}let x=(0,r.default)({visible:[["meta"],e=>e.getIn(["pageModal","visible"])]})((s=n=class extends i.Component{constructor(e){super(e),this.state={csscode:"",jscode:"",color:"",accessListArray:[],LanguageListArray:[],globalStyles:"",enabledImageOptimization:!0,enabledWebpSupport:!0},this.saveGlobalStyles=this.saveGlobalStyles.bind(this)}componentDidMount(){this.setState({csscode:{code:document.getElementById("jform_params_codecss").value,mode:"css"}}),this.setState({jscode:{code:document.getElementById("jform_params_codejs").value,mode:"javascript"}});let e=document.getElementById("jform_access").options,t=[],a=e.length,l=0;for(;l<a;l++)""!=e[l].value&&t.push({text:e[l].text,value:e[l].value});this.setState({accessListArray:t});let n=document.getElementById("jform_language").options,s=[],i=n.length,o=0;for(;o<i;o++)s.push({text:n[o].text,value:n[o].value});this.setState({LanguageListArray:s}),document.getElementById("jform_access").value=document.getElementById("jform_access").value?document.getElementById("jform_access").value:document.getElementById("jform_access").options[0].value,document.getElementById("jform_language").value=document.getElementById("jform_language").value?document.getElementById("jform_language").value:document.getElementById("jform_language").options[0].value,setTimeout(()=>{this.setState({enabledImageOptimization:!!_.isEmpty(document.getElementById("jform_params_enabled_image_optimization").value)||JSON.parse(document.getElementById("jform_params_enabled_image_optimization").value),enabledWebpSupport:!!_.isEmpty(document.getElementById("jform_params_enabled_webp_support").value)||JSON.parse(document.getElementById("jform_params_enabled_webp_support").value)})},100)}onGlobalStylesChange(e){this.setState({globalStyles:e})}saveGlobalStyles(){"function"==typeof this.state.globalStyles.toJS&&jQuery("#jform_params_style").val(JSON.stringify(this.state.globalStyles.toJS()))}onChange(e){window.PageChanged=!0}render(){let e=this.props.visible,t=document.getElementById("jform_type").value;return o.default.createElement(d.default,{className:"qxui-modal--with-tab",title:"Page Options",title:"collection"===t?"Options":"Page Options",show:e,close:y,dismisible:!0,footer:[o.default.createElement("button",{key:"save",className:"qxui-btn qxui-btn-primary qxui-btn-lg",onClick:()=>{window.PageChanged=!0,reactor.dispatch("CLOSE_PAGEMODAL"),this.saveGlobalStyles()}}," ",o.default.createElement("i",{className:"qxuicon-check"})," Apply ")]},o.default.createElement(p.default,{defaultActiveKey:"general",prefixCls:"qxui-tabs"},o.default.createElement(b,{tab:"General",key:"general"},o.default.createElement(u.default,{defaultActiveKey:["1"],accordion:!0,prefixCls:"qxui-collapse",className:"qxui-collapse--fields-group"},o.default.createElement(v,{header:"General Options",key:"1"},o.default.createElement("div",{className:"qx-fb-field"},o.default.createElement("p",{className:"qx-fb-field__label"},"Status"),o.default.createElement(h.default,{label:"Page status",defaultValue:document.getElementById("jform_state").value,style:{width:"100%"},onChange:e=>{document.getElementById("jform_state").value=e,window.PageChanged=!0},prefixCls:"qxui-select",getPopupContainer:()=>window.parent.document.body},o.default.createElement(E,{value:"1"},"Published"),o.default.createElement(E,{value:"0"},"Unpublished"),o.default.createElement(E,{value:"2"},"Archived"),o.default.createElement(E,{value:"-2"},"Trashed"))),o.default.createElement("div",{className:"qx-fb-field"},o.default.createElement("p",{className:"qx-fb-field__label"},"Access"),o.default.createElement(h.default,{label:"Page Access",defaultValue:document.getElementById("jform_access").value,style:{width:"100%"},onChange:e=>{document.getElementById("jform_access").value=e,window.PageChanged=!0},prefixCls:"qxui-select",getPopupContainer:()=>window.parent.document.body},this.state.accessListArray.map(e=>o.default.createElement(E,{key:e.value},e.text)))),o.default.createElement("div",{className:"qx-fb-field"},o.default.createElement("p",{className:"qx-fb-field__label"},"Language"),o.default.createElement(h.default,{label:"Language",defaultValue:document.getElementById("jform_language").value,style:{width:"100%"},onChange:e=>{document.getElementById("jform_language").value=e,window.PageChanged=!0},prefixCls:"qxui-select",getPopupContainer:()=>window.parent.document.body},this.state.LanguageListArray.map(e=>o.default.createElement(E,{key:e.value},e.text))))))),o.default.createElement(b,{tab:"Styles",key:"global-styles"},o.default.createElement(m.default,{onGlobalStylesChange:this.onGlobalStylesChange.bind(this)})),o.default.createElement(b,{tab:"Image Optimization",key:"image_optimization"},o.default.createElement(u.default,{defaultActiveKey:["1"],accordion:!0,prefixCls:"qxui-collapse",className:"qxui-collapse--fields-group"},o.default.createElement(v,{header:"General Options",key:"1"},o.default.createElement("div",{className:"qx-fb-field"},o.default.createElement(f.default,{label:"Enabled Image Optimization",name:"jform[params][enabled_image_optimization]",checked:this.state.enabledImageOptimization,onChange:e=>{this.setState({enabledImageOptimization:e}),document.getElementById("jform_params_enabled_image_optimization").value=e,window.PageChanged=!0}})),o.default.createElement("div",{className:"qx-fb-field"},o.default.createElement(f.default,{label:"Enabled Webp Support",name:"jform[params][enabled_webp_support]",checked:this.state.enabledWebpSupport,onChange:e=>{this.setState({enabledWebpSupport:e}),document.getElementById("jform_params_enabled_webp_support").value=e,window.PageChanged=!0}}))))),o.default.createElement(b,{tab:"Advanced",key:"advanced"},o.default.createElement(u.default,{defaultActiveKey:["1"],accordion:!0,prefixCls:"qxui-collapse",className:"qxui-collapse--fields-group"},o.default.createElement(v,{header:"CSS",key:"1"},o.default.createElement("div",{className:"qx-fb-field"},o.default.createElement(c.default,{label:"Custom CSS",name:"jform[params][codecss]",value:this.state.csscode,onChange:e=>{this.setState({csscode:{code:e.code}}),document.getElementById("jform_params_codecss").value=e.code,window.PageChanged=!0}}))),o.default.createElement(v,{header:"JS",key:"2"},o.default.createElement("div",{className:"qx-fb-field"},o.default.createElement(c.default,{label:"Custom JS",mode:"javascript",name:"jform[params][codejs]",value:this.state.jscode,onChange:e=>{this.setState({jscode:{code:e.code}}),document.getElementById("jform_params_codejs").value=e.code,window.PageChanged=!0}})))))))}},n.propTypes={},n.defaultProps={},l=s))||l;t.default=x},1396:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(22),n=a(1),s=m(n),i=a(1397),o=m(i),r=m(a(32)),d=m(a(120)),u=m(a(24)),c=m(a(239)),p=m(a(38)),h=m(a(542)),f=m(a(48));function m(e){return e&&e.__esModule?e:{default:e}}const g=f.default.TabPane,v=c.default.Panel,b=r.default.TextArea,E=[{label:"H1",value:"h1"},{label:"H2",value:"h2"},{label:"H3",value:"h3"},{label:"H4",value:"h4"},{label:"H5",value:"h5"},{label:"H6",value:"h6"},{label:"P",value:"p"},{label:"Image",value:"img"},{label:"Anchor",value:"a"},{label:"Input",value:"input"},{label:"Select",value:"select"},{label:"Textarea",value:"textarea"}],y=[{label:"Typography",value:"typography"},{label:"Link",value:"link"},{label:"Custom CSS",value:"custom_css"}];t.default=class extends n.Component{constructor(e){if(super(e),_.isEmpty(jQuery("#jform_params_style").val()))this.state={globalStyles:o.default,state:"normal"};else{const e=o.default.merge((0,l.fromJS)(JSON.parse(jQuery("#jform_params_style").val())));this.state={globalStyles:e},loadGlobalStyles(e)}this.onChange=this.onChange.bind(this),this.addNewStyle=this.addNewStyle.bind(this),this.renderStyle=this.renderStyle.bind(this),this.renderRuleField=this.renderRuleField.bind(this),this.onTabChange=this.onTabChange.bind(this)}addNewStyle(){this.setState({globalStyles:this.state.globalStyles.push((0,l.fromJS)(i.NewStyle))})}onTabChange(e){this.setState({state:e})}onChange(e,t){let a=this.state.globalStyles.setIn(e,t);e.includes("rule_type")&&(a="link"==t?a.setIn([e[0],"rule"],(0,l.fromJS)({normal:{},hover:{}})):a.setIn([e[0],"rule"],(0,l.fromJS)(""))),this.setState({globalStyles:a}),loadGlobalStyles(a),this.props.onGlobalStylesChange(a)}handleDeleteClick(e){const t=this.state.globalStyles.slice(0,e).concat(this.state.globalStyles.slice(e+1));this.setState({globalStyles:t}),this.props.onGlobalStylesChange(t)}handleCopyClick(e){const t=this.state.globalStyles.getIn([e,"title"]),a=this.state.globalStyles.get(e).set("title",`[ Copied ] ${t}`),l=this.state.globalStyles.slice(0,e+1).push(a).concat(this.state.globalStyles.slice(e+1,this.state.globalStyles.size));this.setState({globalStyles:l}),this.props.onGlobalStylesChange(l)}renderStyle(e,t){const a=e.get("selector"),l=s.default.createElement("div",{className:"qx-fb-group-repeater__controls"},s.default.createElement(p.default,{title:"Copy",overlayClassName:"qxui-zi-l"},s.default.createElement("i",{className:"qxuicon-clone",onClick:this.handleCopyClick.bind(this,t)})),s.default.createElement(p.default,{title:"Delete",overlayClassName:"qxui-zi-l"},s.default.createElement("i",{className:"qxuicon-trash-alt",onClick:this.handleDeleteClick.bind(this,t)}))),n=s.default.createElement("div",null,e.get("title")," ",l);return s.default.createElement(v,{header:n,key:t,showArrow:!1},s.default.createElement("div",{className:"qx-fb-field"},s.default.createElement("div",{className:"qx-fb-field--text"},s.default.createElement("p",{className:"qx-fb-field__label"},"Title"),s.default.createElement(r.default,{prefixCls:"qxui-input",value:e.get("title"),onChange:e=>this.onChange([t,"title"],e.target.value)}))),s.default.createElement("div",{className:"qx-fb-field"},s.default.createElement(d.default,{label:"Selector",tags:!0,value:[].concat(_.isEmpty(a)?[]:a.split(", ")),default:"h1",responsive:!1,onChange:e=>this.onChange([t,"selector"],0==e?"":e.join(", ")),onReset:this.onChange.bind(this,{}),options:E})),s.default.createElement("div",{className:"qx-fb-field"},s.default.createElement(d.default,{label:"Rule Type",value:e.get("rule_type"),defaultValue:"typography",responsive:!1,onChange:e=>this.onChange([t,"rule_type"],e),onReset:this.onChange.bind(this,{}),options:y,showSearch:!1,placeholder:"Select Rule Type"})),_.isEmpty(e.get("rule_type"))?null:s.default.createElement("div",{className:"qx-fb-field"},s.default.createElement("div",{className:"qx-fb-field--text"},s.default.createElement("p",{className:"qx-fb-field__label"},"CSS Rule"),this.renderRuleField(e,t))))}renderRuleField(e,t){let a=e.get("rule").toJS?e.get("rule").toJS():e.get("rule");switch(e.get("rule_type")){case"typography":return s.default.createElement(h.default,{value:_.isEmpty(a)?i.TYPOGRAPHY:a,default:i.TYPOGRAPHY,units:["px"],label:"Typography",name:"Typography",onChange:e=>this.onChange([t,"rule"],(0,l.fromJS)(e))});case"link":return s.default.createElement(f.default,{defaultActiveKey:"normal",onChange:this.onTabChange,prefixCls:"qxui-tabs",type:"card"},s.default.createElement(g,{tab:"Normal",key:"normal"},s.default.createElement("div",{className:"qx-fb-field-divider"},s.default.createElement("span",null,"Normal")),s.default.createElement(h.default,{value:_.isEmpty(a.normal)?i.TYPOGRAPHY:a.normal,default:i.TYPOGRAPHY,units:["px"],label:"Typography",name:"Typography",onChange:e=>this.onChange([t,"rule","normal"],(0,l.fromJS)(e))})),s.default.createElement(g,{tab:"Hover",key:"hover"},s.default.createElement("div",{className:"qx-fb-field-divider"},s.default.createElement("span",null,"Hover")),s.default.createElement(h.default,{value:_.isEmpty(a.hover)?i.TYPOGRAPHY:a.hover,default:i.TYPOGRAPHY,units:["px"],label:"Typography",name:"Typography",onChange:e=>this.onChange([t,"rule","hover"],(0,l.fromJS)(e))})));default:return s.default.createElement(b,{rows:4,value:_.isEmpty(a)?"":a,onChange:e=>this.onChange([t,"rule"],e.target.value),prefixCls:"qxui-input"})}}render(){return s.default.createElement("div",{className:"qx-fb-group-repeater"},s.default.createElement(c.default,{accordion:!0,prefixCls:"qxui-collapse"},this.state.globalStyles.map(this.renderStyle)),s.default.createElement(u.default,{type:"primary",shape:"circle",className:"qxui-btn--small",onClick:this.addNewStyle.bind(this)},s.default.createElement("i",{className:"qxuicon-plus"})))}}},1397:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NewStyle=t.TYPOGRAPHY=void 0;var l=a(22);const n=t.TYPOGRAPHY={family:"",weight:"",size:{desktop:0,tablet:0,phone:0,unit:"px"},transform:"",style:"",decoration:"",spacing:{desktop:0,tablet:0,phone:0,unit:"px"},height:{desktop:0,tablet:0,phone:0,unit:"em"},text_shadow:{color:"",blur:10,horizontal:0,vertical:0},value:{family:"",weight:"",size:"",transform:"",style:"",decoration:"",spacing:"",height:"",text_shadow:""}},s=t.NewStyle={title:"Heading Style",selector:"h1, h2, h3",rule_type:"typography",rule:n};t.default=(0,l.fromJS)([s])},14:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l,n=a(377),s=(l=n)&&l.__esModule?l:{default:l};t.default=new s.default},1400:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=o(a(73));a(1401);var n=a(1),s=o(n),i=o(a(27));function o(e){return e&&e.__esModule?e:{default:e}}let r=class extends n.Component{constructor(e){super(e),this.shouldComponentUpdate=i.default,this.state={id:(0,l.default)("quix-select-"),value:"",fallbackImageSrc:"/libraries/quix/assets/images/",options:[]},this.getImageUrl=this.getImageUrl.bind(this),this.getImageSrc=this.getImageSrc.bind(this),this.imageExists=this.imageExists.bind(this),this.handleChange=this.handleChange.bind(this),this.renderOption=this.renderOption.bind(this),this.getFallbackImageUrl=this.getFallbackImageUrl.bind(this),void 0===window.checkedImages&&(window.checkedImages=[])}componentDidMount(){this.props.value&&this.setState({value:this.props.value});let e=this.props.path+"/"+localStorage.getItem("elementSlug")+"/images/";this.props.options.length;this.props.options.map((t,a)=>{this.getImageSrc(t.value,e).then(e=>{t.imgSrc=e;let l=this.state.options;l[a]=t,this.setState({options:l}),this.forceUpdate(),this.render()},e=>{t.imgSrc=e;let l=this.state.options;l[a]=t,this.setState({options:l}),this.forceUpdate(),this.render()})}),this.bindImagePickerPlugin()}componentWillReceiveProps(e){this.setState({value:e.value})}componentDidUpdate(e,t){this.bindImagePickerPlugin()}bindImagePickerPlugin(){var e=this;jQuery("#"+this.state.id).imagepicker({show_label:!0,changed:function(t,a,l){e.props.multiple?e.props.onChange(a):e.props.onChange(a[0]),e.setState({value:a})}})}imageExists(e,t){return new Promise((a,l)=>{if(this.imageExistenceChecked(e,t))window.checkedImages[this.getImageUrl(e,t)]&&a(response.success),l(!response.success);else{const n=new XMLHttpRequest;n.open("GET","index.php?option=com_quix&view=pages&task=api.checkImage&path="+this.getImageUrl(e,t)),n.onreadystatechange=function(){try{let e=JSON.parse(this.responseText);e.success?a(e.success):l(!e.success)}catch(e){}},n.send()}})}imageExistenceChecked(e,t){return void 0!==window.checkedImages[this.getImageUrl(e,t)]}getImageUrl(e,t){return t+this.props.name+"_"+e+".png"}getFallbackImageUrl(e){return this.state.fallbackImageSrc+this.props.name+"_"+e+".png"}getImageSrc(e,t){return new Promise((a,l)=>{this.imageExists(e,t).then(l=>{a(this.getImageUrl(e,t))},t=>{l(this.getFallbackImageUrl(e))})})}handleChange(e){this.setState({value:e.target.value}),this.props.onChange(e.target.value)}render(){return s.default.createElement("div",{className:this.props.name+" input-field col s12 qx-image-select"},s.default.createElement("select",{id:this.state.id,multiple:!!this.props.multiple&&"multiple",className:"image-picker",value:this.state.value,onChange:this.handleChange},this.state.options.map(e=>this.renderOption(e))))}renderOption(e){return s.default.createElement("option",{key:e.value,"data-img-src":window.jRoot+e.imgSrc,"data-img-class":"quix-select__image-picker","data-img-alt":e.value,value:e.value},"  ",e.label,"  ")}};r.propTypes={},r.defaultProps={},t.default=r},1401:function(e,t,a){var l=a(1402);"string"==typeof l&&(l=[[e.i,l,""]]);a(34)(l,{});l.locals&&(e.exports=l.locals)},1402:function(e,t,a){(e.exports=a(31)(!1)).push([e.i,"ul.thumbnails.image_picker_selector {\n  overflow: auto;\n  list-style-image: none;\n  list-style-position: outside;\n  list-style-type: none;\n  padding: 0px;\n  margin: 0px;\n}\nul.thumbnails.image_picker_selector ul {\n  overflow: auto;\n  list-style-image: none;\n  list-style-position: outside;\n  list-style-type: none;\n  padding: 0px;\n  margin: 0px;\n}\nul.thumbnails.image_picker_selector li.group {\n  width: 100%;\n}\nul.thumbnails.image_picker_selector li.group_title {\n  float: none;\n}\nul.thumbnails.image_picker_selector li.quix-select__image-picker {\n  margin: 0px 10px 12px 0px;\n  float: left;\n  width: 22.483%;\n  background: #fff;\n  box-shadow: 0 0 4px #ddd;\n  text-align: center;\n  cursor: pointer;\n}\nul.thumbnails.image_picker_selector li.quix-select__image-picker .thumbnail {\n  padding: 6px;\n  border: 1px solid #ddd;\n  border-radius: 2px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n}\nul.thumbnails.image_picker_selector li.quix-select__image-picker img {\n  -webkit-user-drag: none;\n  max-width: 100%;\n}\nul.thumbnails.image_picker_selector li.quix-select__image-picker p {\n  margin-top: 3px;\n  text-align: center;\n  color: #b7bfc7;\n  font-size: 8px;\n  font-weight: bold;\n  text-transform: uppercase;\n}\nul.thumbnails.image_picker_selector li.quix-select__image-picker .thumbnail.selected {\n  background: #ff3059;\n  border-color: #fc0032;\n}\n.qx-image-select.alignment {\n  margin-top: 0px;\n}\n.qx-image-select.alignment ul.thumbnails.image_picker_selector li.quix-select__image-picker {\n  width: 15%;\n  margin-right: 5px;\n  margin-bottom: 0;\n  box-shadow: none;\n}\n.qx-image-select.alignment ul.thumbnails.image_picker_selector li.quix-select__image-picker img {\n  max-width: 18px;\n}\n.qx-image-select.alignment ul.thumbnails.image_picker_selector li.quix-select__image-picker .thumbnail.selected p {\n  color: #dae2ea;\n}\n",""])},1403:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={text_shadow:{color:"",blur:0,horizontal:0,vertical:0}}},1404:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=e.fontFamilies.map(e=>({label:e,value:e,clearable:!0}));return l.default.createElement("div",{className:"qx-fb-field-typography__typeface"},l.default.createElement("p",{className:"qx-fb-field__label"},e.label),l.default.createElement(n.default,{defaultValue:e.family?e.family.toString():"",onChange:e.onChange,allowClear:!0,showSearch:!0,style:{width:"100%"},prefixCls:"qxui-select",getPopupContainer:()=>window.parent.document.body},l.default.createElement(o,{label:"Custom Fonts"},l.default.createElement(i,{key:"default",value:""},"Default")),l.default.createElement(o,{label:"Google Fonts"},t.map((e,t)=>l.default.createElement(i,{key:t,value:e.value.toString()},e.label)))))};var l=s(a(1)),n=s(a(49));function s(e){return e&&e.__esModule?e:{default:e}}const i=n.default.Option,o=n.default.OptGroup},1405:function(e,t,a){"use strict";var l;Object.defineProperty(t,"__esModule",{value:!0}),a(1406);var n=p(a(0)),s=p(a(1408)),i=a(288),o=a(1),r=p(o),d=p(a(67)),u=p(a(27)),c=a(88);function p(e){return e&&e.__esModule?e:{default:e}}let h=(0,d.default)({title:[["options"],e=>e.get("title")],path:[["options"],e=>e.get("path")],form:[["options"],e=>e.get("form")],initialForm:[["options"],e=>e.get("initialForm")],visible:[["options"],e=>e.get("visible")]})(l=class extends o.Component{constructor(e){super(e),this.shouldComponentUpdate=u.default,this.handleSaveClick=this.handleSaveClick.bind(this)}handleSaveClick(){var e=this.props;let t=e.path,a=e.form;(0,i.saveForm)(t,a)}updateOptions(e,t){var a=this.props;let l=a.path,n=a.form;(0,c.updateOptions)(e,t,l,n)}render(){var e=this.props;let t=e.title,a=e.visible,l=e.initialForm,n=e.form,i=l!==n;return n?r.default.createElement(s.default,{title:t,form:n,show:a,isDirty:i,close:c.hideOptions,update:this.updateOptions.bind(this),save:this.handleSaveClick}):null}})||l;h.defaultProps={form:n.default.object.isRequired,title:n.default.string.isRequired,show:n.default.bool.isRequired},t.default=h},1406:function(e,t,a){var l=a(1407);"string"==typeof l&&(l=[[e.i,l,""]]);a(34)(l,{});l.locals&&(e.exports=l.locals)},1407:function(e,t,a){(e.exports=a(31)(!1)).push([e.i,".app-sidebar {\n  position: absolute;\n  top: 0;\n  left: -130px;\n  z-index: 9999;\n  background: #fff;\n  padding: 10px;\n  height: 100%;\n  max-width: 320px;\n}\n",""])},1408:function(e,t,a){"use strict";var l,n;Object.defineProperty(t,"__esModule",{value:!0});var s=m(a(14)),i=m(a(0)),o=m(a(544)),r=a(1),d=m(r),u=m(a(27)),c=a(88),p=m(a(56)),h=m(a(24)),f=m(a(48));function m(e){return e&&e.__esModule?e:{default:e}}const g=f.default.TabPane;let v=(n=l=class extends r.Component{constructor(e){super(e),this.shouldComponentUpdate=u.default,this.renderTabContent=this.renderTabContent.bind(this),this.handleCloseClick=this.handleCloseClick.bind(this);let t=e.form.map((e,t)=>t).toList().first();this.state={active:t,show:!0,id:_.uniqueId("qx-form-")}}handleTabClick(e){this.setState({active:e})}handleCloseClick(){this.props.isDirty;(0,c.hideOptions)(),s.default.emit("FORM_CLOSED",{id:localStorage.getItem("qx-form-id")})}renderTabContent(e,t,a){let l=this.props.update,n=null;return t.toJS().forEach((e,t)=>{t==a&&(n=e)}),d.default.createElement(g,{tab:n,key:n,"data-simplebar":!0},d.default.createElement(o.default,{fields:e,path:[n],updater:l}))}render(){var e=this.props;let t=e.form,a=e.save,l=e.title,n=t.map((e,t)=>t).toList(),i=t.map(e=>e).toList(),o=[];return _.mapValues(t.toJS().advanced,e=>{o=_.mapKeys(e.value,"name")}),localStorage.setItem("qx-form-id",o.id.value),d.default.createElement(p.default,{width:500,className:"qxui-modal--with-tab",dismissible:!1,show:this.props.show,close:this.handleCloseClick,title:l,footer:[d.default.createElement(h.default,{key:"save",type:"primary",size:"large",onClick:()=>{jQuery(".qxui-modal-wrap.qxui-modal--with-tab").fadeOut(),s.default.emit("FORM_UPDATED",{form:t}),(0,c.hideOptions)(),a()}}," ",d.default.createElement("i",{className:"qxuicon-check"})," Apply ")]},d.default.createElement(f.default,{animated:{inkBar:!0,tabPane:!1},onChange:()=>{},prefixCls:"qxui-tabs"},i.map((e,t)=>this.renderTabContent(e,n,t))))}},l.propTypes={form:i.default.object.isRequired,update:i.default.func.isRequired,close:i.default.func.isRequired,save:i.default.func.isRequired},n);t.default=v},1409:function(e,t,a){"use strict";var l=k(a(1)),n=k(a(1410)),s=k(a(61)),i=k(a(1411)),o=k(a(541)),r=a(22),d=k(a(231)),u=k(a(0)),c=k(a(2)),p=k(a(1414)),h=k(a(1415)),f=k(a(120)),m=k(a(1417)),g=k(a(147)),v=k(a(118)),b=k(a(1418)),_=k(a(1419)),E=k(a(356)),y=k(a(548)),x=k(a(542)),C=k(a(1420)),w=k(a(1425)),S=k(a(1434)),N=k(a(1435)),O=k(a(1444)),q=k(a(119));function k(e){return e&&e.__esModule?e:{default:e}}let T=(0,k(a(307)).default)({propTypes:{options:u.default.object,onChange:u.default.func},onReset(){var e=this.props;let t=e.update,a=e.options;t((0,r.fromJS)(a.default))},onChange(e){(0,this.props.update)((0,r.fromJS)(e))},render(){let e,t,a=this.props.hidden,r=this.props.options,u=r.help,k=r.name,T=r.label,P=r.value,M=r.type,I=r.placeholder,j=r.reset;switch(M){case"border":t=l.default.createElement(h.default,{name:k,label:T,help:u,value:P,onChange:this.onChange,onReset:this.onReset,reset:j,default:this.props.options.default});break;case"media":t=l.default.createElement(d.default,{value:P,label:T,name:k,help:u,className:r.class,onChange:this.onChange,onReset:this.onReset,reset:j,filters:this.props.options.filters});break;case"date":t=l.default.createElement(O.default,{value:P,label:T,name:k,help:u,className:r.class,onChange:this.onChange,onReset:this.onReset,reset:j});break;case"time":t=l.default.createElement(N.default,{value:P,label:T,name:k,help:u,className:r.class,onChange:this.onChange,onReset:this.onReset,reset:j});break;case"acl":t=l.default.createElement(n.default,{value:P,label:T,name:k,help:u,default:this.props.options.default,select:this.props.options.select,className:r.class,onChange:this.onChange,onReset:this.onReset,reset:j});break;case"jmodule":t=l.default.createElement(S.default,{value:P,label:T,name:k,help:u,default:this.props.options.default,select:this.props.options.select,className:r.class,onChange:this.onChange,onReset:this.onReset,reset:j});break;case"icon":t=l.default.createElement(w.default,{value:P,label:T,name:k,help:u,className:r.class,onChange:this.onChange,onReset:this.onReset,reset:j});break;case"editor":t=l.default.createElement(p.default,{value:P,label:T,name:k,help:u,onChange:this.onChange,onReset:this.onReset,reset:j,className:r.class});break;case"color":t=l.default.createElement(q.default,{value:P,label:T,name:k,help:u,className:r.class,onChange:this.onChange,onReset:this.onReset,reset:j});break;case"slider":t=l.default.createElement(v.default,{value:P,default:this.props.options.default,units:this.props.options.units,responsive:this.props.options.responsive,label:T,help:u,step:r.step,min:r.min,max:r.max,suffix:r.suffix,className:r.class,onChange:this.onChange,onReset:this.onReset});break;case"typography":t=l.default.createElement(x.default,{value:P,default:this.props.options.default,units:this.props.options.units,label:T,name:k,help:u,className:r.class,onChange:this.onChange,onReset:this.onReset,reset:j});break;case"dimensions":t=l.default.createElement(y.default,{className:r.class,default:this.props.options.default,units:this.props.options.units,value:P,label:T,help:u,onChange:this.onChange,onReset:this.onReset,reset:j});break;case"link":t=l.default.createElement(i.default,{name:k,label:T,help:u,text:P.text,url:P.url,target:P.target,nofollow:P.nofollow,onChange:this.onChange,onReset:this.onReset,reset:j});break;case"select":t=l.default.createElement(f.default,{value:P,default:this.props.options.default,select:this.props.options.select,responsive:this.props.options.responsive,path:this.props.options.element_path,label:T,name:k,help:u,multiple:r.multiple,tags:r.tags,className:r.class,options:r.options,onChange:this.onChange,onReset:this.onReset,reset:j});break;case"switch":t=l.default.createElement(g.default,{name:k,label:T,help:u,checked:P,className:r.class,onChange:this.onChange,onReset:this.onReset,reset:j});break;case"text":t=l.default.createElement(s.default,{help:u,label:T,value:P,default:this.props.options.default,placeholder:I,className:r.class,onChange:this.onChange,onReset:this.onReset,reset:j});break;case"textarea":t=l.default.createElement(E.default,{help:u,label:T,value:P,placeholder:I,rows:r.rows,className:r.class,onChange:this.onChange,onReset:this.onReset,reset:j});break;case"divider":t=l.default.createElement(b.default,{label:T,help:u,reset:j});break;case"hidden":t=l.default.createElement(_.default,null);break;case"background":t=l.default.createElement(C.default,{name:k,label:T,help:u,value:P,onChange:this.onChange,onReset:this.onReset,reset:j,supportedTypes:this.props.options.supportedTypes,tab:this.props.options.tab,types:this.props.options.types,default:this.props.options.default});break;case"choose":t=l.default.createElement(m.default,{name:k,label:T,help:u,value:P,onChange:this.onChange,onReset:this.onReset,reset:j,responsive:this.props.options.responsive,options:this.props.options.options,default:this.props.options.default});break;case"code":t=l.default.createElement(o.default,{name:k,label:T,help:u,value:P,onChange:this.onChange,onReset:this.onReset,reset:j,default:this.props.options.default})}return e=(0,c.default)("qx-fb-field",{hide:a}),l.default.createElement("div",{className:e},t)}});e.exports=T},1410:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});i(a(65));var l=i(a(49)),n=a(1),s=i(n);function i(e){return e&&e.__esModule?e:{default:e}}const o=l.default.Option;t.default=class extends n.Component{constructor(e){super(e),this.state={accessListArray:[]}}componentWillMount(){let e=document.getElementById("jform_access").options,t=[],a=e.length,l=0;for(;l<a;l++)""!=e[l].value&&t.push({text:e[l].text,value:e[l].value});this.setState({accessListArray:t})}render(){var e=this.props;let t=e.label,a=e.value;return s.default.createElement("div",{className:"qx-fb-field"},s.default.createElement("p",{className:"qx-fb-field__label"},t),s.default.createElement(l.default,{label:t,defaultValue:"1",value:a,style:{width:"100%"},onChange:e=>this.props.onChange(e),onReset:()=>this.props.onChange(""),prefixCls:"qxui-select",getPopupContainer:()=>window.parent.document.body},this.state.accessListArray.map(e=>s.default.createElement(o,{key:e.value},e.text))))}}},1411:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=h(a(0)),n=(h(a(2)),a(1)),s=h(n),i=h(a(32)),o=h(a(24)),r=(h(a(49)),h(a(38))),d=h(a(46)),u=h(a(203)),c=h(a(308)),p=h(a(1412));function h(e){return e&&e.__esModule?e:{default:e}}const f=i.default.Group;let m=class extends n.Component{constructor(e){super(e),this.state={visible:!1},this.handleVisibleChange=(e=>{this.setState({visible:e})}),this.onChange=this.onChange.bind(this),this.renderUrl=this.renderUrl.bind(this),this.getLabelMarkup=this.getLabelMarkup.bind(this),this.getHelpMarkup=this.getHelpMarkup.bind(this),this.getResetMarkup=this.getResetMarkup.bind(this)}onChange(e,t){var a=this.props;let l=a.url;a.target;void 0!==l&&"url"==e&&this.props.onChange({text:this.props.text,url:t,target:this.props.target,nofollow:this.props.nofollow})}onNoFollowChange(e){let t=!1;e.target.checked&&(t=!0),this.props.onChange({target:this.props.target,url:this.props.url,nofollow:t})}onTargetChange(e){let t="";e.target.checked&&(t=e.target.value),this.props.onChange({target:t,url:this.props.url,nofollow:this.props.nofollow})}renderUrl(e){return s.default.createElement(i.default,{label:"URL",placeholder:"https://www.yoursite.com",value:e,"data-for":"link-url",prefixCls:"qxui-input",onChange:e=>{this.onChange("url",e.target.value,this)}})}getLabelMarkup(){let e=this.props.label;return s.default.createElement("p",{className:"qx-fb-field__label"},e," ",this.getHelpMarkup()," ")}getHelpMarkup(){let e=this.props.help;if(e)return s.default.createElement(d.default,{content:e,prefixCls:"qxui-popover",overlayClassName:"qxui-zi-l",placement:"right",popupStyle:{width:"350px"},getPopupContainer:()=>window.parent.document.body},s.default.createElement("i",{className:"qxuicon-question-circle qx-fb-field__help"}))}getResetMarkup(){return s.default.createElement(r.default,{title:"Reset to default",overlayClassName:"qxui-zi-l",placement:"left"},s.default.createElement("i",{className:"qxuicon-undo qx-fb-field__reset",onClick:this.props.onReset}))}getOptions(){var e=this.props;let t=e.target,a=e.nofollow;return s.default.createElement(c.default,{prefixCls:"qxui-menu"},s.default.createElement(c.default.Item,null,s.default.createElement(p.default,{checked:"new_window"==t,onChange:this.onTargetChange.bind(this),value:"new_window"},"Open in new window")),s.default.createElement(c.default.Item,null,s.default.createElement(p.default,{checked:a,onChange:this.onNoFollowChange.bind(this),value:"nofollow"},"Add nofollow")))}render(){var e=this.props;let t=e.url,a=e.target,l=e.nofollow;e.name,e.label,e.help;return s.default.createElement("div",{className:"qx-fb-field-link"},this.getLabelMarkup(),s.default.createElement(f,{prefixCls:"qxui-input-group"},void 0===t?null:this.renderUrl(t),s.default.createElement(u.default,{overlay:this.getOptions(),placement:"bottomRight",prefixCls:"qxui-dropdown",onVisibleChange:this.handleVisibleChange,visible:this.state.visible,getPopupContainer:()=>window.parent.document.body},s.default.createElement(o.default,{style:{width:"10%",padding:"0"}},s.default.createElement("i",{className:"qxuicon-cog"})))),!this.props.onReset||_.isEmpty(t)&&_.isEmpty(a)&&!l?null:this.getResetMarkup())}};m.propTypes={label:l.default.string,url:l.default.string,target:l.default.string},t.default=m},1412:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=i(a(1)),s=i(a(240));function i(e){return e&&e.__esModule?e:{default:e}}t.default=class extends n.default.Component{constructor(e){super(e)}render(){return n.default.createElement(s.default,l({},this.props,{icon:this.props.icon,className:this.props.className,prefixCls:"qxui-checkbox"}),this.props.children)}}},1414:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=s(a(1)),n=s(a(2));function s(e){return e&&e.__esModule?e:{default:e}}t.default=class extends l.default.Component{constructor(e){super(e),this.state={id:_.uniqueId("qx-editor-")},this.onChange=this.onChange.bind(this)}componentDidMount(){window.parent.loadEditor("#"+this.state.id,this.onChange,this.props.value)}componentWillUnmount(){window.parent.destroyEditor("#"+this.state.id)}onChange(){this.props.onChange(window.parent.getEditorValue("#"+this.state.id))}render(){var e=this.props;let t=e.label,a=(e.value,e.help);return l.default.createElement("div",{className:"qx-fb-field-editor"},l.default.createElement("p",{className:"qx-fb-field__label"},t),l.default.createElement("div",{id:this.state.id}),l.default.createElement("p",{className:(0,n.default)("qx-fb-field__help",{hide:!a})},a))}}},1415:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=o(a(1416)),n=a(1),s=o(n),i=o(a(48));function o(e){return e&&e.__esModule?e:{default:e}}const r=i.default.TabPane;t.default=class extends n.Component{constructor(e){super(e),this.state={state:"normal"},this.onReset=this.onReset.bind(this),this.onTabChange=this.onTabChange.bind(this)}onTabChange(e){this.setState({state:e})}onReset(e){this.props.onChange({state:_.extend(this.props.value.state,e)})}render(){return s.default.createElement("div",{className:"qx-fb-field-border"},s.default.createElement(i.default,{defaultActiveKey:"normal",onChange:this.onTabChange,prefixCls:"qxui-tabs",type:"card"},s.default.createElement(r,{tab:"Normal",key:"normal"},s.default.createElement(l.default,{for:"normal",state:this.state.state,value:this.props.value,onChange:this.props.onChange,onReset:this.onReset,default:this.props.default})),s.default.createElement(r,{tab:"Hover",key:"hover"},s.default.createElement(l.default,{for:"hover",state:this.state.state,value:this.props.value,onChange:this.props.onChange,onReset:this.onReset,default:this.props.default}))))}}},1416:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=c(a(95)),n=a(1),s=c(n),i=c(a(118)),o=c(a(543)),r=c(a(548)),d=c(a(119)),u=c(a(120));function c(e){return e&&e.__esModule?e:{default:e}}const p=[{label:"None",value:"none"},{label:"Solid",value:"solid"},{label:"Double",value:"double"},{label:"Dotted",value:"dotted"},{label:"Dashed",value:"dashed"}];t.default=class extends n.Component{constructor(e){super(e),this.onChange=this.onChange.bind(this),this.borderType=this.borderType.bind(this),this.borderRadius=this.borderRadius.bind(this)}onChange(e){let t={state:{}},a="normal";"normal"==this.props.state&&(a="hover"),t.state[this.props.state]={properties:(0,l.default)(this.props.value.state[this.props.state].properties,e)},t.state[a]=this.props.value.state[a],this.props.onChange((0,l.default)(this.props.value,t))}borderType(){let e=this.props.value.state[this.props.state].properties.border_type,t=this.props.default.state[this.props.state].properties.border_type;return s.default.createElement(u.default,{label:"Border Type",value:e,default:t,responsive:!1,onChange:e=>{this.onChange({border_type:e})},options:p})}borderRadius(){let e=this.props.value.state[this.props.state].properties.border_radius,t=this.props.default.state[this.props.state].properties.border_radius;return s.default.createElement(r.default,{className:"quix-border-raduis",responsive:!1,default:t,value:e,label:"Border Raduis",onChange:e=>{this.onChange({border_radius:e})},onReset:()=>{this.onChange({border_radius:t})},reset:!0})}borderWidth(){let e=this.props.value.state[this.props.state].properties.border_width,t=this.props.default.state[this.props.state].properties.border_width;return"none"!=this.props.value.state[this.props.state].properties.border_type?s.default.createElement(r.default,{className:"quix-border-width",responsive:!1,default:t,value:e,label:"Border Width",onChange:e=>{this.onChange({border_width:e})},onReset:()=>{this.onChange({border_width:t})},reset:!0,units:["px","em"]}):null}borderColor(){let e=this.props.value.state[this.props.state].properties.border_color,t=this.props.default.state[this.props.state].properties.border_color;return"none"!=this.props.value.state[this.props.state].properties.border_type?s.default.createElement(d.default,{onlyColorPicker:!0,addonAfter:"Select",label:"Color",value:e,onChange:e=>{this.onChange({border_color:e})},onReset:()=>{this.onChange({border_color:t})}}):null}boxShadow(){let e=this.props.value.state[this.props.state].properties.box_shadow,t=this.props.default.state[this.props.state].properties.box_shadow;return s.default.createElement(o.default,{label:"Box Shadow",value:e,default:t,onChange:e=>{this.onChange({box_shadow:e})}})}hoverTransition(){let e=this.props.value.state[this.props.state].properties.transition,t=this.props.default.state[this.props.state].properties.transition;return"hover"==this.props.state?s.default.createElement(i.default,{responsive:!1,label:"Transition",units:["s"],defaultUnit:"s",min:0,max:3,step:.1,value:e,onChange:e=>{this.onChange({transition:e})},onReset:()=>{this.onChange({transition:t})}}):null}render(){return s.default.createElement("div",null,s.default.createElement("div",{className:"qx-fb-field-border__fields"},s.default.createElement("div",{className:"qx-fb-field"},this.borderType()),s.default.createElement("div",{className:"qx-fb-field"},this.borderWidth()),s.default.createElement("div",{className:"qx-fb-field"},this.borderColor()),s.default.createElement("div",{className:"qx-fb-field"},this.borderRadius()),s.default.createElement("div",{className:"qx-fb-field"},this.boxShadow()),s.default.createElement("div",{className:"qx-fb-field"},this.hoverTransition())))}}},1417:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=b(a(298)),n=b(a(232)),s=b(a(233)),i=b(a(44)),o=b(a(95)),r=b(a(70)),d=b(a(14)),u=(b(a(0)),b(a(2))),c=a(1),p=b(c),h=b(a(234)),f=b(a(48)),m=b(a(173)),g=b(a(46)),v=b(a(38));function b(e){return e&&e.__esModule?e:{default:e}}const _=m.default.Button,E=m.default.Group,y=f.default.TabPane;t.default=class extends c.Component{constructor(e){super(e),(0,h.default)(this),this.state={responsive:"desktop"!=this.getTabName(),valueFor:this.getTabName(),tab:this.getTabName(),reset:!1},this.onReset=this.onReset.bind(this),this.getValue=this.getValue.bind(this),this.tabOnClick=this.tabOnClick.bind(this),this.handleChange=this.handleChange.bind(this),this.onResponsive=this.onResponsive.bind(this),this.renderTabContent=this.renderTabContent.bind(this),this.renderDeviceContent=this.renderDeviceContent.bind(this)}componentDidMount(){this._mounted=!0,d.default.on("RESPONSIVE_TAB_OPENED",e=>{this._mounted&&this.setState({tab:e})})}componentWillMount(){d.default.setMaxListeners(0),d.default.removeListener("RESPONSIVE_TAB_OPENED",()=>{})}componentWillUnmount(){this._mounted=!1}onResponsive(){this.setState({responsive:!this.state.responsive,valueFor:this.state.tab,tab:this.state.tab})}handleChange(e){let t=this.props.value,a=(0,r.default)(this.props.options[e.target.value],{value:e.target.value});0!=this.props.responsive?("desktop"==this.state.valueFor?t=(0,o.default)(t,{responsive:!0,responsive_preview:!0,desktop:a}):"tablet"==this.state.valueFor?t=(0,o.default)(t,{responsive:!0,responsive_preview:!0,tablet:a}):"phone"==this.state.valueFor&&(t=(0,o.default)(t,{responsive:!0,responsive_preview:!0,phone:a})),this.props.onChange(t)):this.props.onChange(a)}onReset(e){if(0==this.props.responsive)return void this.props.onReset();var t={};t[e]=this.props.default[e];let a=(0,o.default)(this.props.value,t);this.props.onChange(a),this.setState({reset:!0,desktop:this.props.default})}tabOnClick(e){this.setState({tab:e,valueFor:e}),d.default.emit("RESPONSIVE_TAB_OPENED",e)}getValue(e){return 0==this.props.responsive?(0,i.default)(this.props.value)&&this.props.value.desktop?this.props.value.desktop:this.props.value:this.props.value[e]}getLabelMarkup(){let e=this.props.label;return p.default.createElement("p",{className:"qx-fb-field__label"},e," ",this.getHelpMarkup()," ")}getHelpMarkup(){let e=this.props.help;if(e)return p.default.createElement(g.default,{content:e,prefixCls:"qxui-popover",overlayClassName:"qxui-zi-l",placement:"right",popupStyle:{width:"300px"},getPopupContainer:()=>window.parent.document.body},p.default.createElement("i",{className:"qxuicon-question-circle qx-fb-field__help"}))}getResetMarkup(e){let t=!1;return(t=this.props.responsive?!(0,s.default)(this.props.value[e],this.props.default[e]):!(0,s.default)(this.props.value,this.props.default))?p.default.createElement(v.default,{title:"Reset to default",overlayClassName:"qxui-zi-l",placement:"left",getTooltipContainer:()=>window.parent.document.body,onClick:this["on"+(0,n.default)(e)+"Reset"]},p.default.createElement("i",{className:"qxuicon-undo qx-fb-field__reset",onClick:this.onReset.bind(this,e)})):null}getResponsiveTogglePreview(){let e=null;return this.props.responsive&&(e=p.default.createElement("span",{onClick:this.onResponsive,className:(0,u.default)("qx-fb-field__responsive",{"qxuicon-times":this.state.responsive,"qxuicon-desktop":!this.state.responsive})})),e}renderDeviceContent(e){this.props.help;let t=(0,i.default)(this.getValue(e))?this.getValue(e).value:this.getValue(e);return{close:this.state.responsive}[e]=!this.state.responsive,this.getValue(e),p.default.createElement("div",null,p.default.createElement(E,{prefixCls:"qxui-radio-group",value:t,onChange:this.handleChange},(0,l.default)(this.props.options,(e,t)=>p.default.createElement(_,{prefixCls:"qxui-radio-button",key:t,value:t},e.icon?p.default.createElement(v.default,{placement:"bottom",overlayClassName:"qxui-zi-l",title:e.label,getTooltipContainer:()=>window.parent.document.body},p.default.createElement("i",{className:e.icon})):e.label))),this.getResetMarkup(e))}renderTabContent(e){let t="qxuicon-"+("phone"==e?"mobile":e);return p.default.createElement(y,{tab:p.default.createElement("i",{className:t}),key:e},this.renderDeviceContent(e))}render(){var e=this.props;return e.label,e.help,this.state.responsive?p.default.createElement("div",{className:"qx-fb-field-choose qx-fb-field--responsive clearfix"},this.getLabelMarkup(),this.getResponsiveTogglePreview(),p.default.createElement(f.default,{prefixCls:"qxui-tabs",activeKey:this.state.tab,defaultActiveKey:"desktop",onChange:this.tabOnClick},["desktop","tablet","phone"].map(this.renderTabContent))):p.default.createElement("div",{className:"qx-fb-field-choose clearfix"},this.getLabelMarkup(),this.renderDeviceContent("desktop"),this.getResponsiveTogglePreview())}}},1418:function(e,t,a){"use strict";var l,n=a(1),s=(l=n)&&l.__esModule?l:{default:l};e.exports=class extends s.default.Component{render(){let e="";return this.props.reset&&(e=s.default.createElement("p",null,this.props.label)),e=this.props.help?s.default.createElement("p",{className:"qx-text-muted qx-small",style:{margin:"-10px 0 0 0"}},this.props.help):s.default.createElement("div",{className:"qx-fb-field-divider"},s.default.createElement("span",null,this.props.label))}}},1419:function(e,t,a){"use strict";var l,n=a(1),s=(l=n)&&l.__esModule?l:{default:l};e.exports=class extends s.default.Component{render(){return""}}},1420:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=o(a(1421)),n=a(1),s=o(n),i=o(a(48));function o(e){return e&&e.__esModule?e:{default:e}}const r=i.default.TabPane;t.default=class extends n.Component{constructor(e){super(e),this.state={state:"normal"},this.onReset=this.onReset.bind(this),this.onTabChange=this.onTabChange.bind(this)}onTabChange(e){this.setState({state:e})}onReset(e){this.props.onChange({state:_.extend(this.props.value.state,e)})}render(){const e=this.props.tab;return _.isString(e)?s.default.createElement(l.default,{for:e,state:this.state.state,value:this.props.value,onChange:this.props.onChange,supportedTypes:this.props.supportedTypes,types:this.props.types,onReset:this.onReset,default:this.props.default}):s.default.createElement("div",{className:"qx-fb-field-background"},s.default.createElement(i.default,{defaultActiveKey:"normal",onChange:this.onTabChange,prefixCls:"qxui-tabs",type:"card"},s.default.createElement(r,{tab:"Normal",key:"normal"},s.default.createElement(l.default,{for:"normal",state:this.state.state,value:this.props.value,onChange:this.props.onChange,supportedTypes:this.props.supportedTypes,types:this.props.types,onReset:this.onReset,default:this.props.default})),s.default.createElement(r,{tab:"Hover",key:"hover"},s.default.createElement(l.default,{for:"hover",state:this.state.state,value:this.props.value,onChange:this.props.onChange,supportedTypes:this.props.supportedTypes,types:this.props.types,onReset:this.onReset,default:this.props.default}))))}}},1421:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=h(a(70)),n=h(a(95)),s=h(a(1422)),i=h(a(1423)),o=h(a(1424)),r=a(1),d=h(r),u=h(a(118)),c=h(a(24)),p=h(a(38));function h(e){return e&&e.__esModule?e:{default:e}}const f=c.default.Group;t.default=class extends r.Component{constructor(e){super(e),this.state={type:"classic",types:{classic:i.default,gradient:o.default,video:s.default}},this.setType=this.setType.bind(this),this.onChange=this.onChange.bind(this),this.renderBackgroundType=this.renderBackgroundType.bind(this),this.onCommonPropertyChange=this.onCommonPropertyChange.bind(this),this.renderCommonProperties=this.renderCommonProperties.bind(this),this.renderBackgroundProperties=this.renderBackgroundProperties.bind(this)}componentDidMount(){this.setState({type:this.props.value.state[this.props.state].type})}setType(e){this.setState({type:e})}onChange(e){let t={state:{}},a="normal";"normal"==this.props.state&&(a="hover"),t.state[this.props.state]=(0,n.default)(this.props.value.state[this.props.state],e),t.state[a]=this.props.value.state[a],this.props.onChange((0,n.default)(this.props.value,t))}onCommonPropertyChange(e){let t=this.props.value.state[this.props.state];t=(0,l.default)(t,e);let a={state:{}};a.state[this.props.state]=t;let s="normal";"normal"==this.props.state&&(s="hover"),a.state[s]=this.props.value.state[s],this.props.onChange((0,n.default)(this.props.value,a))}renderBackgroundType(){return d.default.createElement("div",{className:"qx-fb-field-background__types"},d.default.createElement("label",{className:"qx-fb-field__label"},"Background Type"),d.default.createElement(f,{prefixCls:"qxui-btn-group"},this.props.supportedTypes.map((e,t)=>d.default.createElement(p.default,{key:t,title:e.toUpperCase(),overlayClassName:"qxui-zi-l"},d.default.createElement(c.default,{key:t,onClick:this.setType.bind(this,e),className:this.state.type==e?"active":""},d.default.createElement("i",{className:this.state.types[e].type}))))))}renderBackgroundProperties(){let e={};switch(e=this.state.type==this.props.value.state[this.props.state].type?this.props.value.state[this.props.state].properties:this.props.types[this.state.type].properties,this.state.type){case"classic":return d.default.createElement(i.default,{properties:e,default:this.props.types.classic.properties,onChange:this.onChange,onReset:this.onReset});case"gradient":return d.default.createElement(o.default,{properties:e,default:this.props.types.gradient.properties,onChange:this.onChange,onReset:this.onReset});case"video":return d.default.createElement(s.default,{properties:e,default:this.props.types.video.properties,onChange:this.onChange,onReset:this.onReset});default:return""}}renderCommonProperties(){let e=this.props.value.state[this.props.state],t=this.props.default.state[this.props.for];return d.default.createElement("div",{className:"qx-fb-field-background__common"},e.required_opacity?d.default.createElement("div",{className:"qx-fb-field"},d.default.createElement(u.default,{units:!1,responsive:!1,label:"Opacity",min:0,max:1,step:.01,value:e.opacity,onChange:e=>this.onCommonPropertyChange({opacity:e}),onReset:()=>{let a={};a[this.props.state]=(0,n.default)(e,{opacity:t.opacity}),this.props.onReset(a)}})):null,"hover"==this.props.state&&e.required_transition?d.default.createElement("div",{className:"qx-fb-field"},d.default.createElement(u.default,{units:!1,responsive:!1,label:"Transition",units:["s"],defaultUnit:"s",min:0,max:3,step:.1,value:e.transition,onChange:e=>this.onCommonPropertyChange({transition:e}),onReset:()=>{let a={};a[this.props.state]=(0,n.default)(e,{transition:t.transition}),this.props.onReset(a)}})):null)}render(){return d.default.createElement("div",null,this.renderBackgroundType(),d.default.createElement("div",{className:"qx-fb-field-background__fields"},this.renderBackgroundProperties(),this.renderCommonProperties()))}}},1422:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});i(a(61));var l=i(a(231)),n=(i(a(147)),a(1)),s=i(n);function i(e){return e&&e.__esModule?e:{default:e}}let o=class extends n.Component{constructor(e){super(e),this.state={},this.onChange=this.onChange.bind(this)}onChange(e){this.props.onChange({type:"video",properties:_.extend(this.props.properties,e)})}render(){let e=this.props.properties;const t=this.props.default;return s.default.createElement("div",{className:"qx-fb-field-background__image"},s.default.createElement("div",{className:"qx-fb-field"},s.default.createElement(l.default,{filters:"video",value:e.url,label:"Video Link",help:"Video link. Only mp4 is formated supported now.",onChange:e=>{this.onChange({url:e})},onReset:this.onChange.bind(this,{url:t.url})})))}};o.type="qxuicon-video",t.default=o},1423:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=u(a(231)),n=u(a(120)),s=u(a(147)),i=a(1),o=u(i),r=u(a(119)),d=u(a(32));function u(e){return e&&e.__esModule?e:{default:e}}const c=[{label:"Center",value:"center"},{label:"Top Left",value:"top left"},{label:"Top",value:"top"},{label:"Top Right",value:"top right"},{label:"Right",value:"right"},{label:"Bottom",value:"bottom"},{label:"Bottom Left",value:"bottom left"},{label:"Bottom Right",value:"bottom right"},{label:"Left",value:"left"}];let p=class extends i.Component{constructor(e){super(e),this.state={},this.onChange=this.onChange.bind(this)}onChange(e){this.props.onChange({type:"classic",properties:_.merge(this.props.properties,e)})}render(){let e=this.props.properties,t=e.color;const a=this.props.default,i=e.parallax?[{label:"CSS Based",value:"css"},{label:"JS Based",value:"js"}]:[{label:"CSS Based",value:"css"}],u=e.parallax?o.default.createElement("div",{className:"qx-fb-field"},o.default.createElement(n.default,{label:"Parallax Method",help:"Define the method, used for the parallax effect. CSS used background-fixed properties while JS gives you the true parallax effect using javascript libaray.",value:e.parallax_method,default:"true_parallax",responsive:!1,onChange:e=>{this.onChange({parallax_method:e})},onReset:this.onChange.bind(this,{parallax_method:a.parallax_method}),options:i})):null,p="js"==e.parallax_method?o.default.createElement("div",null,o.default.createElement("div",{className:"qx-fb-field"},o.default.createElement("p",{className:"qx-fb-field__label"},"Y-Axis"),o.default.createElement(d.default,{placeholder:"0",default:0,value:e.js_parallax_y,prefixCls:"qxui-input",onChange:e=>{this.onChange({js_parallax_y:e.target.value})}})),o.default.createElement("div",{className:"qx-fb-field"},o.default.createElement("p",{className:"qx-fb-field__label"},"X-Axis"),o.default.createElement(d.default,{placeholder:"0",value:e.js_parallax_x,prefixCls:"qxui-input",onChange:e=>{this.onChange({js_parallax_x:e.target.value})}}))):null,h=e.src?"qx-col-7":"qx-col-12";return o.default.createElement("div",{className:"qx-fb-field-background__image"},o.default.createElement("div",{className:"qx-fb-field"},o.default.createElement(r.default,{onlyColorPicker:!0,label:"Color",value:t,onChange:e=>this.onChange({color:e}),onReset:this.onChange.bind(this,{color:a.color})})),o.default.createElement("div",{className:"qx-row"},o.default.createElement("div",{className:h},o.default.createElement("div",{className:"qx-fb-field"},o.default.createElement("p",{className:"qx-fb-field__label"},"Image"),o.default.createElement(l.default,{filters:"image",value:e.src,label:"Image Link",help:"Image link",onChange:e=>{this.onChange({src:e})},onReset:this.onChange.bind(this,{src:a.src})})),e.src&&e.required_parallax?o.default.createElement("div",{className:"qx-fb-field"},o.default.createElement(s.default,{label:"Use Parallax Effect",help:"If enabled, your background image will stay fixed as your scroll, creating a fun parallax-like effect.",name:"parallax",checked:e.parallax,onChange:e=>{this.onChange({parallax:e})},onReset:this.onChange.bind(this,{parallax:a.size})})):null,e.required_parallax?u:null,e.required_parallax?p:null),o.default.createElement("div",{className:"qx-col-5 qx-pl-0"},e.src?o.default.createElement("div",{className:"qx-fb-field qx-mt-3"},o.default.createElement(n.default,{label:"Size",value:e.size,default:"initial",responsive:!1,onChange:e=>{this.onChange({size:e})},options:[{label:"Cover",value:"cover"},{label:"Fit",value:"contain"},{label:"Actual Size",value:"initial"}]})):null,e.src?o.default.createElement("div",{className:"qx-fb-field"},o.default.createElement(n.default,{label:"Position",value:e.position,default:"center",responsive:!1,onChange:e=>{this.onChange({position:e})},options:c})):null,e.src?o.default.createElement("div",{className:"qx-fb-field"},o.default.createElement(n.default,{label:"Repeat",value:e.repeat,default:"no-repeat",responsive:!1,onChange:e=>{this.onChange({repeat:e})},options:[{label:"No Repeat",value:"no-repeat"},{label:"Repeat",value:"repeat"},{label:"Repeat X ( Horizontal )",value:"repeat-x"},{label:"Repeat Y ( Vertical )",value:"repeat-y"},{label:"Space",value:"space"},{label:"Round",value:"round"}]})):null,e.src?o.default.createElement("div",{className:"qx-fb-field"},o.default.createElement(n.default,{label:"Blend Mode",value:e.blend,default:"normal",responsive:!1,onChange:e=>{this.onChange({blend:e})},help:"Set background color in order to use blend mode properly",options:[{label:"Normal",value:"normal"},{label:"Multiply",value:"multiply"},{label:"Screen",value:"screen"},{label:"Overlay",value:"overlay"},{label:"Darken",value:"darken"},{label:"Lighten",value:"lighten"},{label:"Color Dodge",value:"color-dodge"},{label:"Saturation",value:"saturation"},{label:"Color",value:"color"},{label:"Luminosity",value:"luminosity"}]})):null)))}};p.type="qxuicon-paint-brush",t.default=p},1424:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=c(a(157)),n=c(a(549)),s=c(a(95)),i=a(1),o=c(i),r=c(a(119)),d=c(a(120)),u=c(a(118));c(a(147));function c(e){return e&&e.__esModule?e:{default:e}}const p=[{label:"Center Center",value:"center center"},{label:"Center left",value:"center left"},{label:"Center right",value:"center right"},{label:"Top Center",value:"top center"},{label:"Top left",value:"top left"},{label:"Top Right",value:"top right"},{label:"Bottom Center",value:"bottom center"},{label:"Bottom Left",value:"bottom left"},{label:"Bottom Right",value:"bottom right"}],h=[{label:"Linear",value:"linear"},{label:"Radial",value:"radial"}];let f=class extends i.Component{constructor(e){super(e),this.state={defaultPosition:0},this.onChange=this.onChange.bind(this),this.renderDirection=this.renderDirection.bind(this),this.renderLinearDirection=this.renderLinearDirection.bind(this),this.renderRadialDirection=this.renderRadialDirection.bind(this)}onChange(e){this.props.onChange({type:"gradient",properties:(0,s.default)(this.props.properties,e)})}renderDirection(){return"linear"==this.props.properties.type?this.renderLinearDirection():this.renderRadialDirection()}renderLinearDirection(){const e=this.props.default;return o.default.createElement(u.default,{responsive:!1,default:e.direction,units:["deg"],label:"Gradient Direction",value:"linear"==this.props.properties.type&&((0,n.default)(this.props.properties.direction)||(0,n.default)(this.props.properties.direction.value))?{value:(0,l.default)(this.props.properties.direction.value)?this.props.properties.direction:this.props.properties.direction.value,unit:"deg"}:{value:this.state.defaultPosition,unit:"deg"},max:360,onChange:e=>{this.onChange({direction:e})},onReset:this.onChange.bind(this,{direction:e.direction})})}renderRadialDirection(){let e="radial"!=this.props.properties.type||(0,n.default)(this.props.properties.direction)?"center center":this.props.properties.direction;const t=this.props.default;return o.default.createElement(d.default,{label:"Gradient Direction",value:e,default:"center center",responsive:!1,onChange:e=>{this.onChange({direction:e})},onReset:this.onChange.bind(this,{direction:t.direction}),options:p})}render(){var e=this.props.properties;let t=e.color_1,a=e.color_2;const n=this.props.default;return o.default.createElement("div",{className:"qx-background__gradient"},o.default.createElement("div",{className:"qx-fb-field"},o.default.createElement(r.default,{addonAfter:"Select",value:t,label:"Color 1",onChange:e=>{this.onChange({color_1:e})},onReset:this.onChange.bind(this,{color_1:n.color_1,color_2:n.color_2})})),o.default.createElement("div",{className:"qx-fb-field"},o.default.createElement(r.default,{addonAfter:"Select",value:a,label:"Color 2",onChange:e=>{this.onChange({color_2:e})},onReset:this.onChange.bind(this,{color_1:n.color_1,color_2:n.color_2})})),o.default.createElement("div",{className:"qx-fb-field"},o.default.createElement(d.default,{value:this.props.properties.type,default:"linear",responsive:!1,label:"Gradient Type",onChange:e=>{let t=0;"radial"==e&&(t="center center"),this.onChange({type:e,direction:t})},onReset:this.onChange.bind(this,{type:n.type}),options:h})),o.default.createElement("div",{className:"qx-fb-field"},this.renderDirection()),o.default.createElement("div",{className:"qx-fb-field"},o.default.createElement(u.default,{responsive:!1,default:n.start_position,label:"Start Position",units:[],value:this.props.properties.start_position?{value:(0,l.default)(this.props.properties.start_position.value)?this.props.properties.start_position:this.props.properties.start_position.value,unit:!1}:{value:this.state.defaultPosition,unit:!1},onChange:e=>this.onChange({start_position:e}),onReset:this.onChange.bind(this,{start_position:n.start_position})})),o.default.createElement("div",{className:"qx-fb-field"},o.default.createElement(u.default,{responsive:!1,default:n.end_position,label:"End Position",units:[],value:this.props.properties.end_position?{value:(0,l.default)(this.props.properties.end_position.value)?this.props.properties.end_position:this.props.properties.end_position.value,unit:!1}:{value:this.state.defaultPosition,unit:!1},onChange:e=>{this.onChange({end_position:e})},onReset:this.onChange.bind(this,{end_position:n.end_position})})))}};f.type="qxuicon-adjust",t.default=f},1425:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=h(a(1426)),n=h(a(2)),s=a(1),i=h(s),o=h(a(241)),r=h(a(32)),d=(h(a(61)),h(a(56))),u=h(a(49)),c=h(a(521)),p=h(a(38));function h(e){return e&&e.__esModule?e:{default:e}}a(1432);u.default.Option,u.default.OptGroup;let f=class extends s.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.renderIcon=this.renderIcon.bind(this),this.handleSearch=this.handleSearch.bind(this),this.getIconsListPreview=this.getIconsListPreview.bind(this);this.props.value;let t=[{class:"address-book",label:"Address Book",styles:[],svg:{}}],a=t;if(""!=this.props.value){let e={};try{e=JSON.parse(e)}catch(t){e={name:this.props.value,iconsType:"font-awesome"}}}this.state={icons:t,iconsType:"font-awesome",iconsJSON:a,iconsTypes:{"font-awesome":t},renderer:"class",searchTerm:"",showModal:!1,svg:""}}componentDidMount(){if(l.default.get("qx-fontawesome")){let e=l.default.get("qx-fontawesome");this.setState(_.merge(this.state,{icons:e,iconsJSON:e,iconsTypes:{"font-awesome":e}}))}else axios.get("https://raw.githubusercontent.com/FortAwesome/Font-Awesome/master/advanced-options/metadata/icons.json").then(e=>{let t=_.map(e.data,({label:e,styles:t,svg:a},l)=>({class:l,label:e,styles:t,svg:a}));l.default.set("qx-fontawesome",t,6048e5),this.setState(_.merge(this.state,{icons:t,iconsJSON:t,iconsTypes:{"font-awesome":t}}))})}renderIcon(e){let t=this.props.value;try{t=JSON.parse(t)}catch(e){t={name:this.props.value,iconsType:this.state.defaultIconsType}}let a=[];return e.styles.forEach(l=>{let s=e.svg[l].raw;a.push(i.default.createElement("span",{key:e.class+"-"+l,onClick:this.handleClick.bind(this,`${e.label} - ${l}`,e.svg[l].raw),className:(0,n.default)("qx-ip__icon",{active:t.name===`${e.label} - ${l}`})},i.default.createElement("div",{dangerouslySetInnerHTML:{__html:s}}),e.label+" - "+l))}),a}handleClick(e,t){var a=this.props;let l=a.onChange;e===a.value&&(e="");this.setState({showModal:!1,svg:t}),l(JSON.stringify({name:e,svg:t,iconsType:this.state.iconsType,renderer:"class",className:"qx-null-class"}))}handleSearch(e){if(""!==e){let t=fuzzy.filter(e,this.state.iconsJSON).map(function(e){return e.string});this.setState({icons:t})}else this.setState({icons:this.state.iconsJSON});this.setState({searchTerm:e})}selectedIconsType(e){"font-awesome"==e&&this.setState({icons:this.state.iconsTypes["font-awesome"],iconsType:"font-awesome",iconsJSON:this.state.iconsTypes["font-awesome"]})}getLabelMarkup(){let e=this.props.label;return this.props.onlyBaseText?null:i.default.createElement("p",{className:"qx-fb-field__label"},e," ",this.getHelpMarkup()," ")}getHelpMarkup(){let e=this.props.help;if(e)return i.default.createElement(c.default,{content:e,prefixCls:"qxui-popover",overlayClassName:"qxui-zi-l",placement:"right",popupStyle:{width:"300px"}},i.default.createElement("i",{className:"qxuicon-question-circle qx-fb-field__help"}))}getResetMarkup(){return i.default.createElement(p.default,{title:"Reset to default",overlayClassName:"qxui-zi-l",placement:"left"},i.default.createElement("i",{className:"qxuicon-undo qx-fb-field__reset",onClick:this.props.onReset}))}getIconsListPreview(e){return i.default.createElement(d.default,{dismissible:!1,show:this.state.showModal,close:()=>this.setState({showModal:!1}),className:"qxui-modal--with-tab qxui-modal--elements",title:[i.default.createElement("h4",{key:Math.random(),className:"qxui-modal-title"},"Icons")]},i.default.createElement(r.default,{label:"Icon",placeholder:"Search icon",value:this.state.searchTerm,"data-for":"icon-search",style:{width:"90%"},prefixCls:"qxui-input",onChange:e=>this.setState({searchTerm:e.target.value})}),e)}render(){var e=this.props;e.label,e.help;let t=e.value,a=null,l=this.state.icons;if(""!=this.state.searchTerm){let e={keys:["label"]};l=new o.default(l,e).search(this.state.searchTerm)}return a=0!==l.length?l.map(this.renderIcon):"Icons not found.",""!=t&&(t=JSON.parse(this.props.value).name),i.default.createElement("div",{className:"qx-fb-field-icon"},this.getLabelMarkup(),i.default.createElement(r.default,{label:"Icon",placeholder:"Select your icon",value:t,"data-for":"icon-name",style:{width:"90%"},prefixCls:"qxui-input",onClick:()=>this.setState({showModal:!0}),onChange:()=>{}}),this.getIconsListPreview(a),this.getResetMarkup())}};f.propTypes={},f.defaultProps={},t.default=f},1432:function(e,t,a){var l=a(1433);"string"==typeof l&&(l=[[e.i,l,""]]);a(34)(l,{});l.locals&&(e.exports=l.locals)},1433:function(e,t,a){(e.exports=a(31)(!1)).push([e.i,".qxui-icon-picker .qxui-popover-inner-content {\n  padding: 0;\n}\n.qxui-icon-picker .qxui-popover-content {\n  width: 350px;\n  height: 250px;\n  overflow-y: scroll;\n}\n.qx-ip__icon {\n  display: inline-block;\n  width: 32px;\n  height: 32px;\n  padding: 0;\n  margin-right: 4px;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 16px;\n  line-height: 32px;\n  text-align: center;\n  -webkit-transition: all 0.1s linear;\n  -moz-transition: all 0.1s linear;\n  -o-transition: all 0.1s linear;\n  transition: all 0.1s linear;\n}\n.qx-ip__icon.active {\n  background: #ff3059;\n  color: #fff;\n}\n",""])},1434:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=o(a(65)),n=o(a(120)),s=a(1),i=o(s);function o(e){return e&&e.__esModule?e:{default:e}}t.default=class extends s.Component{constructor(e){super(e),this.state={options:[]}}componentWillMount(){let e=JSON.parse(localStorage.getItem("joomla_module_options"));if(e)this.setState({options:e});else{const e=`index.php?option=com_quix&task=api.getJoomlaModules&${jQuery("#jform_token").attr("name")}=${jQuery("#jform_token").val()}`;l.default.get(e).then(e=>{let t=e.data.data;t=t.map(e=>({label:e.title,value:e.id})),this.setState({options:t}),localStorage.setItem("joomla_module_options",JSON.stringify(t))})}}render(){var e=this.props;let t=e.label,a=e.value;return i.default.createElement(n.default,{label:t,value:a,default:"",responsive:!1,onChange:e=>this.props.onChange(e),onReset:()=>this.props.onChange(""),options:this.state.options})}}},1435:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a(1436);var l=i(a(1));a(362);var n=i(a(2)),s=i(a(676));function i(e){return e&&e.__esModule?e:{default:e}}moment.locale("zh-cn");let o=class extends l.default.Component{constructor(e){super(e),this.handleTimeChange=this.handleTimeChange.bind(this)}handleTimeChange(e){e=moment(e),this.props.onChange(JSON.stringify({moment:JSON.stringify(e),string:e.format("HH:mm:ss")}))}render(){var e=this.props;let t=e.label,a=e.value,i=e.help;return a=a?JSON.parse(a).string:"00:00:00",l.default.createElement("div",{className:"input-field time-picker"},l.default.createElement("div",{className:"row"},l.default.createElement("div",{className:"col s3"},l.default.createElement("p",{className:"label"},t)),l.default.createElement("div",{className:"col s3"},l.default.createElement("div",{className:"qx-input"},l.default.createElement(s.default,{onChange:this.handleTimeChange,defaultOpenValue:moment(a,"HH:mm:ss"),value:moment(a,"HH:mm:ss")})))),l.default.createElement("p",{className:(0,n.default)("help",{hide:!i})},i))}};o.propTypes={},o.defaultProps={},t.default=o},1436:function(e,t,a){var l=a(1437);"string"==typeof l&&(l=[[e.i,l,""]]);a(34)(l,{});l.locals&&(e.exports=l.locals)},1437:function(e,t,a){(e.exports=a(31)(!1)).push([e.i,".time-picker .time_picker_preview {\n  height: 30px;\n  background: transparent;\n  box-shadow: none;\n}\n.time-picker .time_picker_preview .preview_container {\n  height: 20px;\n  line-height: 20px;\n  padding-left: 20px;\n  left: 60%;\n  width: 100px;\n}\n.time-picker .time_picker_preview .preview_container svg {\n  width: 15px;\n  height: 15px;\n  top: 3.5px;\n}\n.time-picker .time_picker_modal_container {\n  top: -22px !important;\n  left: 150px;\n}\n",""])},1438:function(e,t,a){var l={"./af":550,"./af.js":550,"./ar":551,"./ar-dz":552,"./ar-dz.js":552,"./ar-kw":553,"./ar-kw.js":553,"./ar-ly":554,"./ar-ly.js":554,"./ar-ma":555,"./ar-ma.js":555,"./ar-sa":556,"./ar-sa.js":556,"./ar-tn":557,"./ar-tn.js":557,"./ar.js":551,"./az":558,"./az.js":558,"./be":559,"./be.js":559,"./bg":560,"./bg.js":560,"./bm":561,"./bm.js":561,"./bn":562,"./bn.js":562,"./bo":563,"./bo.js":563,"./br":564,"./br.js":564,"./bs":565,"./bs.js":565,"./ca":566,"./ca.js":566,"./cs":567,"./cs.js":567,"./cv":568,"./cv.js":568,"./cy":569,"./cy.js":569,"./da":570,"./da.js":570,"./de":571,"./de-at":572,"./de-at.js":572,"./de-ch":573,"./de-ch.js":573,"./de.js":571,"./dv":574,"./dv.js":574,"./el":575,"./el.js":575,"./en-SG":576,"./en-SG.js":576,"./en-au":577,"./en-au.js":577,"./en-ca":578,"./en-ca.js":578,"./en-gb":579,"./en-gb.js":579,"./en-ie":580,"./en-ie.js":580,"./en-il":581,"./en-il.js":581,"./en-nz":582,"./en-nz.js":582,"./eo":583,"./eo.js":583,"./es":584,"./es-do":585,"./es-do.js":585,"./es-us":586,"./es-us.js":586,"./es.js":584,"./et":587,"./et.js":587,"./eu":588,"./eu.js":588,"./fa":589,"./fa.js":589,"./fi":590,"./fi.js":590,"./fo":591,"./fo.js":591,"./fr":592,"./fr-ca":593,"./fr-ca.js":593,"./fr-ch":594,"./fr-ch.js":594,"./fr.js":592,"./fy":595,"./fy.js":595,"./ga":596,"./ga.js":596,"./gd":597,"./gd.js":597,"./gl":598,"./gl.js":598,"./gom-latn":599,"./gom-latn.js":599,"./gu":600,"./gu.js":600,"./he":601,"./he.js":601,"./hi":602,"./hi.js":602,"./hr":603,"./hr.js":603,"./hu":604,"./hu.js":604,"./hy-am":605,"./hy-am.js":605,"./id":606,"./id.js":606,"./is":607,"./is.js":607,"./it":608,"./it-ch":609,"./it-ch.js":609,"./it.js":608,"./ja":610,"./ja.js":610,"./jv":611,"./jv.js":611,"./ka":612,"./ka.js":612,"./kk":613,"./kk.js":613,"./km":614,"./km.js":614,"./kn":615,"./kn.js":615,"./ko":616,"./ko.js":616,"./ku":617,"./ku.js":617,"./ky":618,"./ky.js":618,"./lb":619,"./lb.js":619,"./lo":620,"./lo.js":620,"./lt":621,"./lt.js":621,"./lv":622,"./lv.js":622,"./me":623,"./me.js":623,"./mi":624,"./mi.js":624,"./mk":625,"./mk.js":625,"./ml":626,"./ml.js":626,"./mn":627,"./mn.js":627,"./mr":628,"./mr.js":628,"./ms":629,"./ms-my":630,"./ms-my.js":630,"./ms.js":629,"./mt":631,"./mt.js":631,"./my":632,"./my.js":632,"./nb":633,"./nb.js":633,"./ne":634,"./ne.js":634,"./nl":635,"./nl-be":636,"./nl-be.js":636,"./nl.js":635,"./nn":637,"./nn.js":637,"./pa-in":638,"./pa-in.js":638,"./pl":639,"./pl.js":639,"./pt":640,"./pt-br":641,"./pt-br.js":641,"./pt.js":640,"./ro":642,"./ro.js":642,"./ru":643,"./ru.js":643,"./sd":644,"./sd.js":644,"./se":645,"./se.js":645,"./si":646,"./si.js":646,"./sk":647,"./sk.js":647,"./sl":648,"./sl.js":648,"./sq":649,"./sq.js":649,"./sr":650,"./sr-cyrl":651,"./sr-cyrl.js":651,"./sr.js":650,"./ss":652,"./ss.js":652,"./sv":653,"./sv.js":653,"./sw":654,"./sw.js":654,"./ta":655,"./ta.js":655,"./te":656,"./te.js":656,"./tet":657,"./tet.js":657,"./tg":658,"./tg.js":658,"./th":659,"./th.js":659,"./tl-ph":660,"./tl-ph.js":660,"./tlh":661,"./tlh.js":661,"./tr":662,"./tr.js":662,"./tzl":663,"./tzl.js":663,"./tzm":664,"./tzm-latn":665,"./tzm-latn.js":665,"./tzm.js":664,"./ug-cn":666,"./ug-cn.js":666,"./uk":667,"./uk.js":667,"./ur":668,"./ur.js":668,"./uz":669,"./uz-latn":670,"./uz-latn.js":670,"./uz.js":669,"./vi":671,"./vi.js":671,"./x-pseudo":672,"./x-pseudo.js":672,"./yo":673,"./yo.js":673,"./zh-cn":362,"./zh-cn.js":362,"./zh-hk":674,"./zh-hk.js":674,"./zh-tw":675,"./zh-tw.js":675};function n(e){var t=s(e);return a(t)}function s(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}n.keys=function(){return Object.keys(l)},n.resolve=s,e.exports=n,n.id=1438},1444:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a(1445);o(a(2));var l=a(1),n=o(l),s=o(a(1447)),i=(o(a(38)),o(a(46)));function o(e){return e&&e.__esModule?e:{default:e}}let r=class extends l.Component{constructor(e){super(e),this.handleDateChange=this.handleDateChange.bind(this),this.getLabelMarkup=this.getLabelMarkup.bind(this),this.getHelpMarkup=this.getHelpMarkup.bind(this)}handleDateChange(e){e=moment(e),this.props.onChange(JSON.stringify({string:e.format()}))}getLabelMarkup(){let e=this.props.label;return n.default.createElement("p",{className:"qx-fb-field__label"},e," ",this.getHelpMarkup()," ")}getHelpMarkup(){let e=this.props.help;if(e)return n.default.createElement(i.default,{content:e,prefixCls:"qxui-popover",overlayClassName:"qxui-zi-l",placement:"right",popupStyle:{width:"350px"}},n.default.createElement("i",{className:"qxuicon-question-circle qx-fb-field__help"}))}render(){var e=this.props;e.label;let t=e.value;e.help;return t=t?moment(JSON.parse(t).string,"YYYY-MM-DD HH:mm:ss"):moment(new Date,"YYYY-MM-DD HH:mm:ss"),n.default.createElement("div",{className:"qx-fb-field-text"},this.getLabelMarkup(),n.default.createElement(s.default,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss",defaultValue:t,getContainer:()=>window.parent.document.body,onChange:this.handleDateChange,prefixCls:"qxui-calendar",style:{width:"100%"},getPopupContainer:()=>window.parent.document.body,getCalendarContainer:()=>window.parent.document.body}))}};r.propTypes={},r.defaultProps={},t.default=r},1445:function(e,t,a){var l=a(1446);"string"==typeof l&&(l=[[e.i,l,""]]);a(34)(l,{});l.locals&&(e.exports=l.locals)},1446:function(e,t,a){(e.exports=a(31)(!1)).push([e.i,".rfe-datepicker .react-datepicker__input-container {\n  position: relative;\n  display: block;\n}\n.react-date-picker__button {\n  min-width: 167px;\n  display: flex;\n  border: thin solid gray;\n}\n.react-date-picker__button__input__month {\n  width: 30px !important;\n}\n.react-date-picker__button__input__day {\n  width: 30px !important;\n}\n.react-date-picker__button__input__year {\n  width: 60px !important;\n}\n",""])},147:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=r(a(73)),n=(r(a(2)),a(1)),s=r(n),i=r(a(1389)),o=r(a(46));function r(e){return e&&e.__esModule?e:{default:e}}t.default=class extends n.Component{constructor(e){super(e),this.onChange=this.onChange.bind(this),this.state={id:(0,l.default)("switch-")}}onChange(e){this.props.onChange(e)}getLabelMarkup(){let e=this.props.label;return s.default.createElement("p",{className:"qx-fb-field__label"},e," ",this.getHelpMarkup()," ")}getHelpMarkup(){let e=this.props.help;if(e)return s.default.createElement(o.default,{content:e,prefixCls:"qxui-popover",overlayClassName:"qxui-zi-l",placement:"right",popupStyle:{width:"300px"},getPopupContainer:()=>window.parent.document.body},s.default.createElement("i",{className:"qxuicon-question-circle qx-fb-field__help"}))}render(){var e=this.props;let t=e.label,a=e.checked,l=(e.help,this.state.id),n=!0===a;return s.default.createElement("div",{className:"qx-fb-field-switch"},this.getLabelMarkup(),s.default.createElement(i.default,{checkedChildren:"Yes",unCheckedChildren:"No",defaultChecked:n,onChange:this.onChange,id:l,"data-for":t,prefixCls:"qxui-switch"}))}}},1470:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=u(a(26)),n=u(a(1471)),s=u(a(0)),i=a(1),o=u(i),r=a(433),d=u(a(24));function u(e){return e&&e.__esModule?e:{default:e}}let c=class extends i.Component{handleAddNewGroup(){var e=this.props;let t=e.control,a=e.path,l=e.updater,n=(0,r.addRefToControls)(t.get("schema")),s=t.get("value");l(a.concat(["value",s.size]),n)}handleRemoveGroup(e){var t=this.props;let a=t.control,n=t.path,s=t.updater,i=a.get("value");1==i.size?l.default.error("Repeaters last item cant be removed!"):(i=i.splice(e,1),s(n=n.concat(["value"]),i))}handleCopyGroup(e){var t=this.props;let a=t.control,l=t.path,n=t.updater,s=a.get("value"),i=(0,r.addRefToControls)(s.get(e));i="link"===i.getIn([0,"type"])?i.updateIn([0,"value","text"],e=>`${e} (copy)`):i.updateIn([0,"value"],e=>`${e} (copy)`);let o=s.slice(0,e+1),d=s.slice(e+1);s=(o=o.set(o.size,i)).concat(d),n(l.concat(["value"]),s)}render(){var e=this.props;let t=e.control,a=e.path,l=e.updater,s=t.get("value");return o.default.createElement("div",{className:"qx-fb-group-repeater"},o.default.createElement(n.default,{copyGroup:this.handleCopyGroup.bind(this),removeGroup:this.handleRemoveGroup.bind(this),groups:s,path:a.concat(["value"]),updater:l}),o.default.createElement(d.default,{type:"primary",shape:"circle",className:"qxui-btn--small",onClick:this.handleAddNewGroup.bind(this)},o.default.createElement("i",{className:"qxuicon-plus"})))}};c.propTypes={control:s.default.object.isRequired,path:s.default.array.isRequired,updater:s.default.func.isRequired},t.default=c},1471:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=d(a(1472)),n=d(a(0)),s=a(1),i=d(s),o=d(a(239)),r=d(a(38));function d(e){return e&&e.__esModule?e:{default:e}}const u=o.default.Panel;let c=class extends s.Component{constructor(e){super(e),this.renderGroup=this.renderGroup.bind(this),this.activateTab=this.activateTab.bind(this),this.state={activeKey:null}}activateTab(e){e===this.state.activeKey&&(e=null),this.setState({activeKey:e})}handleCopyClick(e,t){(0,this.props.copyGroup)(e),t.stopPropagation(),t.preventDefault()}handleDeleteClick(e,t){(0,this.props.removeGroup)(e),t.stopPropagation(),t.preventDefault()}renderGroup(e,t){var a=this.props;let n,s=a.path,o=a.updater,d=a.removeGroup,c=a.copyGroup;n="link"===e.get(0).get("type")?e.get(0).getIn(["value","text"]):e.get(0).get("value");const p=i.default.createElement("div",{className:"qx-fb-group-repeater__controls"},i.default.createElement(r.default,{title:"Copy",overlayClassName:"qxui-zi-l"},i.default.createElement("i",{className:"qxuicon-clone",onClick:this.handleCopyClick.bind(this,t)})),i.default.createElement(r.default,{title:"Delete",overlayClassName:"qxui-zi-l"},i.default.createElement("i",{className:"qxuicon-trash-alt",onClick:this.handleDeleteClick.bind(this,t)}))),h=i.default.createElement("div",null,n," ",p);return i.default.createElement(u,{key:t,header:h,showArrow:!1},i.default.createElement(l.default,{key:t,index:t,path:s.concat([t]),group:e,updater:o,copyGroup:c,removeGroup:d,activateTab:this.activateTab}))}render(){let e=this.props.groups;return i.default.createElement(o.default,{accordion:!0,prefixCls:"qxui-collapse"},e.map(this.renderGroup))}};c.propTypes={groups:n.default.object.isRequired,path:n.default.array.isRequired,updater:n.default.func.isRequired,removeGroup:n.default.func.isRequired,copyGroup:n.default.func.isRequired},t.default=c},1472:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=i(a(544)),n=a(1),s=i(n);function i(e){return e&&e.__esModule?e:{default:e}}t.default=class extends n.Component{constructor(e){super(e),this.handleTabClick=this.handleTabClick.bind(this)}handleTabClick(){var e=this.props;let t=e.index;(0,e.activateTab)(t)}render(){var e=this.props;let t=e.path,a=e.updater,n=e.group;return s.default.createElement("div",{key:this.props.index},s.default.createElement(l.default,{path:t,control:n,fields:n,updater:a}))}}},1473:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l,n=u(a(73));a(1474);var s=u(a(1476)),i=u(a(26)),o=u(a(104)),r=a(1),d=u(r);function u(e){return e&&e.__esModule?e:{default:e}}let c=(0,u(a(687)).default)(l=class extends r.Component{constructor(...e){var t;return t=super(...e),this.add=(e=>{let t=this.props.control,a=t.get("schema").set("ref",(0,n.default)("ref")),l=(0,o.default)(t.get("controls"),e+1,a);this.update(l)}),this.remove=(e=>{let t=this.props.control.get("controls").delete(e);0!==t.size?this.update(t):i.default.info("Can not delete the last item")}),this.update=(e=>{var t=this.props;let a=t.control,l=t.updater,n=a.set("controls",e),s=n.get("controls").map(e=>e.get("value"));l(n=n.set("value",s))}),this.updateRepeater=((e,t)=>{let a=this.props.control.get("controls").setIn([e,"value"],t);this.update(a)}),this.renderInput=((e,t)=>d.default.createElement(s.default,{key:`${e.get("ref")+t}`,className:"row",rControl:e,updateRepeater:this.updateRepeater.bind(this,t),onClickAdd:this.add.bind(this,t),onClickRemove:this.remove.bind(this,t)})),t}render(){let e=this.props.control;return d.default.createElement("div",{className:"input-field input-repeater clearfix"},d.default.createElement("div",{className:"row"},d.default.createElement("div",{className:"col s3"},d.default.createElement("p",{className:"label"},e.get("label"))),d.default.createElement("div",{className:"col s9"},e.get("controls").map(this.renderInput))))}})||l;c.propTypes={},c.defaultProps={},t.default=c},1474:function(e,t,a){var l=a(1475);"string"==typeof l&&(l=[[e.i,l,""]]);a(34)(l,{});l.locals&&(e.exports=l.locals)},1475:function(e,t,a){(e.exports=a(31)(!1)).push([e.i,".input-repeater .input-field {\n  margin-top: 0;\n}\n.input-repeater .input-field .col {\n  width: 100% !important;\n}\n.input-repeater .input-field .col.s3,\n.input-repeater .input-field .label {\n  display: none !important;\n}\n.input-repeater .btn {\n  padding: 0 5px !important;\n  margin-right: 3px;\n  line-height: 40px;\n  min-width: 40px;\n}\n",""])},1476:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=i(a(546)),n=a(1),s=i(n);function i(e){return e&&e.__esModule?e:{default:e}}let o=class extends n.Component{render(){return s.default.createElement("div",{className:"row"},s.default.createElement("div",{className:"col s9"},s.default.createElement(l.default,{control:this.props.rControl,update:this.props.updateRepeater})),s.default.createElement("div",{className:"col s3"},s.default.createElement("span",{className:"input-group-btn"},s.default.createElement("a",{className:"btn btn-small",onClick:this.props.onClickAdd},s.default.createElement("span",{className:"qxi qx-icon-add"})),s.default.createElement("a",{className:"btn btn-small",onClick:this.props.onClickRemove},s.default.createElement("span",{className:"qxi qx-icon-minus"})))))}};o.propTypes={},o.defaultProps={},t.default=o},1479:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l,n=f(a(73)),s=f(a(1480)),i=f(a(14)),o=f(a(2)),r=a(1),d=f(r),u=f(a(687)),c=f(a(36)),p=f(a(1481)),h=f(a(27));function f(e){return e&&e.__esModule?e:{default:e}}let m=(0,u.default)(l=class extends r.Component{constructor(e){super(e),this.shouldComponentUpdate=h.default,this.renderField=((e,t)=>d.default.createElement(s.default,{key:t,index:t,className:"row",control:e,updater:this.props.updater,update:this.props.update,path:this.props.path})),this.state={id:(0,n.default)("qx-accordion-"),isItemActivated:!1},this._mounted=!1}componentDidMount(){this._mounted=!0,i.default.on("ACCORDION_OPENED",e=>{this._mounted&&(this.state.id==e?this.setState({isItemActivated:!this.state.isItemActivated}):this.setState({isItemActivated:!1}))}),"open"==this.props.control.get("status")&&this.setState({isItemActivated:!0})}componentWillUnmount(){this._mounted=!1,i.default.setMaxListeners(0),i.default.removeListener("ACCORDION_OPENED",()=>{})}togglePanel(){i.default.emit("ACCORDION_OPENED",this.state.id),setTimeout(()=>{window.parent.jQuery(".qxui-collapse.qxui-collapse--fields-group.active").ScrollTo({duration:200,onlyIfOutside:!0})},100)}render(){var e=this.props;let t=e.control;if(e.hidden)return null;let a=(0,o.default)("qxui-collapse qxui-collapse--fields-group",{active:this.state.isItemActivated});return d.default.createElement("div",{className:a},d.default.createElement("div",{id:this.state.id,onClick:this.togglePanel.bind(this),className:"qxui-collapse__header"},t.get("label"),d.default.createElement("span",{className:"qxuicon-angle-down pull-right"})),d.default.createElement(c.default,{showProp:"isItemActivated",exclusive:!0,component:"",animation:(0,p.default)("qxui-collapse")},d.default.createElement("div",{className:"qxui-collapse__body"},t.get("value").map(this.renderField))))}})||l;t.default=m},1480:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(1),n=o(l),s=o(a(545)),i=o(a(27));function o(e){return e&&e.__esModule?e:{default:e}}t.default=class extends l.Component{constructor(...e){var t;return t=super(...e),this.shouldComponentUpdate=i.default,t}render(){var e=this.props;let t=e.index,a=e.control,l=this.props.path.concat(["value"]);return n.default.createElement(s.default,{key:`${this.props.index}-${t}`,updater:this.props.updater,update:this.props.update,control:a,index:this.props.index,path:l.join(",")})}}},1481:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l,n=a(123),s=(l=n)&&l.__esModule?l:{default:l};function i(e,t,a,l){let n;return(0,s.default)(e,a,{start(){t?(n=e.offsetHeight,e.style.height=0):e.style.height=`${e.offsetHeight}px`},active(){e.style.height=`${t?n:0}px`},end(){e.style.height="",l()}})}t.default=function(e){return{enter:(t,a)=>i(t,!0,`${e}-anim`,a),leave:(t,a)=>i(t,!1,`${e}-anim`,a)}}},1482:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=N(a(162)),n=N(a(1483)),s=N(a(70)),i=N(a(298)),o=N(a(481)),r=N(a(271)),d=N(a(73)),u=N(a(65)),c=N(a(14)),p=N(a(1484)),h=N(a(1486)),f=N(a(0)),m=N(a(56)),g=N(a(26)),v=a(1),b=N(v),_=N(a(59)),E=a(33),y=a(52),x=a(355),C=a(88),w=a(22),S=a(137);function N(e){return e&&e.__esModule?e:{default:e}}const O=jQuery("#jform_token").attr("name"),q=jQuery("#jform_token").val();let k=class extends v.Component{constructor(e){super(e),this.state={context:"",id:(0,d.default)(),groups:[],elements:[],url:`index.php?option=com_quix&task=api.getTemplates&type=element&details=true&${O}=${q}`},this.getElements=((e,t)=>{let a=this.state.context;return a=a.toLowerCase(),"All"!==t?e.filter(e=>e.get("groups").includes(t)):a?e.filter(e=>(0,l.default)(e.get("name").toLowerCase(),a)):e}),this.handleSelect=(e=>{var t=this.props;let a=t.onSelect,l=t.path,n=t.onHide,s=e.get("slug");_.default.dispatch("UPDATE_RECENT_USED_ELEMENT_TIMESTAMP",{slug:s,last_used:(new Date).getTime()}),e=e.get("groups").includes("My Elements")?(0,y.newMyElement)(e):(0,y.newElement)(e);let i=(0,y.getElementSchema)(s),o=e.get("name"),r=e.get("form"),d=e.get("thumb_file");if("column"==s){if(!(l.length<=7))return void g.default.error("Nested column like this makes the layout complex and hard to maintain. Try another element.");{a(l,e),(0,C.setOptions)(o,r,i,l,d),l=l.slice().concat(["children"]);let t=e.get("children").size;(0,E.addRowNode)(l,t),(0,x.showLayouts)(l.concat([t,"children"]))}}else a(l,e),(0,C.setOptions)(o,r,i,l,d),(0,C.showOptions)();n()}),this.handleSearch=(e=>{this.setState({context:e})}),this.handleGroupSelect=(e=>{this.setState({group:e})}),this.renderElement=(e=>{if("0"===e.get("enabled"))return null;if(!e.get("enabled"))return null;return this.filterElementByType(e,!0)?void 0:b.default.createElement(h.default,{key:`${e.get("groups").join("-")}-${e.get("slug")}-${e.get("id")}`,element:e,onSelect:this.handleSelect})}),this.handleClose=(()=>{this.props.onHide()}),this.loadMyElements=this.loadMyElements.bind(this),this.filterElementByType=this.filterElementByType.bind(this)}componentDidMount(){c.default.on("MY_ELEMENT_REMOVED",()=>{this.loadMyElements(),this.setState({id:(0,d.default)()})}),c.default.on("Reloaded_MY_ELEMENTS",()=>this.loadMyElements()),this.loadMyElements(!0)}filterElementByType(e,t=!1){const a=document.getElementById("jform_template_type"),l=null!=a&&a.value;return(0,r.default)(l)&&void 0===e.get("type")?!t&&e.get("groups"):(0,r.default)(l)&&void 0!==e.get("type")&&"all"==typeof e.get("type")?!t&&e.get("groups"):(0,r.default)(l)&&void 0!==e.get("type")&&"all"!=typeof e.get("type")?!!t||"general":((0,r.default)(l)||void 0!==e.get("type")&&"all"!=e.get("type"))&&((0,r.default)(l)||e.get("type")!=l)?!!t||"general":!t&&e.get("groups")}loadMyElements(e=!1){e&&window.localStorage.removeItem("my elements");let t=JSON.parse(window.localStorage.getItem("my elements"));t||u.default.get(`index.php?option=com_quix&task=api.getTemplates&type=element&details=true&${jQuery("#jform_token").attr("name")}=${jQuery("#jform_token").val()}`).then(e=>{let t=(0,o.default)(e.data,e=>"element"==e.type);t=(0,i.default)(t,e=>{let t=(0,s.default)({},JSON.parse(e.data).data);return t.title=e.title,t.my_elements_id=e.id,t}),window.localStorage.setItem("my elements",JSON.stringify(t)),c.default.emit("Reloaded_MY_ELEMENTS")});let a=this.props.elements;if(t){let e=[];for(var l=0;l<t.length;l++)e.push((0,S.nodeUnserializer)((0,w.fromJS)(t[l]).set("groups",(0,w.fromJS)(["My Elements"]))));a=a.push(...e)}this.setState({elements:a,groups:(0,n.default)(a.map(e=>this.filterElementByType(e)).flatten().toJS()).sort()})}render(){let e=this.props.show,t=this.state.context;return b.default.createElement(m.default,{dismissible:!1,show:e,close:this.handleClose,width:520,className:"qxui-modal--with-tab qxui-modal--elements",title:[b.default.createElement("h4",{key:this.state.id,className:"qxui-modal-title"},"Elements List")]},b.default.createElement(p.default,{key:this.state.id,elements:this.state.elements,getElements:this.getElements.bind(this),renderElement:this.renderElement.bind(this),key:this.state.id,groups:this.state.groups,context:t,onGroupSelect:this.handleGroupSelect,onSearch:this.handleSearch}))}};k.propTypes={show:f.default.bool.isRequired,onSelect:f.default.func.isRequired,onHide:f.default.func.isRequired},t.default=k},1484:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=r(a(1485)),n=r(a(0)),s=r(a(61)),i=a(1),o=r(i);function r(e){return e&&e.__esModule?e:{default:e}}let d=class extends i.Component{onChange(e){(0,this.props.onSearch)(e)}render(){var e=this.props;let t=e.onSearch,a=e.groups,n=e.context,i=e.onGroupSelect;return o.default.createElement("div",null,o.default.createElement("div",{className:"elements-list-search"},o.default.createElement(s.default,{onKeyUp:e=>t(e.target.value),placeholder:n||"Search Element...",value:n,onChange:this.onChange.bind(this),onlyBaseText:!0,id:"search-elements",autoFocus:!0,onReset:()=>t("")})),o.default.createElement(l.default,{groups:a,elements:this.props.elements,getElements:this.props.getElements,renderElement:this.props.renderElement,onGroupSelect:i}))}};d.propTypes={groups:n.default.array.isRequired,context:n.default.string,onSearch:n.default.func.isRequired},d.defaultProps={},t.default=d},1485:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});o(a(14));var l=o(a(48)),n=o(a(0)),s=a(1),i=o(s);function o(e){return e&&e.__esModule?e:{default:e}}const r=l.default.TabPane;let d=class extends s.Component{constructor(e){super(e),this.state={tab:"All"},this.onGroupSelect=this.onGroupSelect.bind(this)}onGroupSelect(e){this.setState({tab:e}),this.props.onGroupSelect(e)}renderElements(e){let t=this.props.getElements(this.props.elements,e);return i.default.createElement("div",{className:`qx-fb-elements ${e.toLowerCase()}`},t.map(this.props.renderElement))}renderGroup(e){return i.default.createElement(r,{tab:e,key:e},this.renderElements(e)," ")}render(){let e=this.props.groups;return e=["All"].concat(e),i.default.createElement(l.default,{animated:{inkBar:!0,tabPane:!1},defaultActiveKey:this.state.tab,onChange:e=>this.onGroupSelect.bind(this,e),prefixCls:"qxui-tabs"},e.map(this.renderGroup.bind(this)))}};d.propTypes={onGroupSelect:n.default.func.isRequired},d.defaultProps={},t.default=d},1486:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=d(a(0)),n=d(a(14)),s=d(a(26)),i=a(1),o=d(i),r=d(a(688));function d(e){return e&&e.__esModule?e:{default:e}}let u=class extends i.Component{constructor(e){super(e),this.token=jQuery("#jform_token").attr("name"),this.tokenValue=jQuery("#jform_token").val(),this.templateDeleteApi=`index.php?option=com_quix&task=collection.updateState&state=2&${this.token}=${this.tokenValue}`}handleClick(){var e=this.props;let t=e.element,a=e.onSelect;localStorage.setItem("elementSlug",t.get("slug")),a(t)}removeFromMyElements(){const e=this.props.element.get("my_elements_id"),t=this.props.element.get("name");let a=JSON.parse(window.localStorage.getItem("my elements"));a&&axios.get(this.templateDeleteApi+`&id=${e}`).then(e=>{let l=e.data;1==l.data?(a=_.filter(a,e=>e.name!=t),window.localStorage.setItem("my elements",JSON.stringify(a)),n.default.emit("MY_ELEMENT_REMOVED"),s.default.success(`${t} element removed`)):s.default.warning(l.data)})}render(){let e=this.props.element,t="";return t=e.get("groups").includes("My Elements")?o.default.createElement("div",{className:"my-element"},o.default.createElement(r.default,{onClick:this.handleClick.bind(this),prefixCls:"qxui-card"},o.default.createElement("img",{className:"qx-fb-elements__icon",src:e.get("thumb_file"),alt:e.get("name")}),o.default.createElement("span",{className:"qx-fb-elements__name"},e.get("name"))),o.default.createElement("button",{type:"button",onClick:this.removeFromMyElements.bind(this),className:"qx-fb-elements__remove qx-btn qx-btn-light",title:"Delete"},o.default.createElement("i",{className:"qxuicon-trash-alt"}))):o.default.createElement(r.default,{onClick:this.handleClick.bind(this),prefixCls:"qxui-card"},o.default.createElement("img",{className:"qx-fb-elements__icon",src:e.get("thumb_file"),alt:e.get("name")}),o.default.createElement("span",{className:"qx-fb-elements__name"},e.get("name")))}};u.propTypes={element:l.default.object.isRequired,onSelect:l.default.func.isRequired},t.default=u},1492:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=u(a(14)),n=a(1),s=u(n),i=(u(a(106)),u(a(26))),o=u(a(32)),r=u(a(56)),d=u(a(24));function u(e){return e&&e.__esModule?e:{default:e}}const c=o.default.Group;t.default=class extends n.Component{constructor(e){super(e),this.state={showModal:!1,process:!1,element:{},elementName:""},this.handleCloseClick=this.handleCloseClick.bind(this)}componentDidMount(){l.default.on("SHOW_Element_SAVE_MODAL",e=>{this.setState({showModal:!0,element:e})})}handleCloseClick(){this.setState({showModal:!1})}saveElement(){const e=this.state.element.set("name",this.state.elementName);this.setState({showModal:!1,elementName:""});const t=jQuery("#jform_token").attr("name"),a={type:"element",data:e};let n=new FormData;n.set("jform[data]",JSON.stringify(a)),n.set("jform[title]",this.state.elementName),n.set("jform[builder]","frontend"),n.set("jform[type]","element"),n.set("jform[state]","1"),n.set("jform[id]",0),n.set("id",0),n.set("type","collection"),n.set(t,1),axios({method:"post",url:"index.php?option=com_quix&task=collection.save",data:n,config:{headers:{"Content-Type":"multipart/form-data"}}}).then(e=>{window.parent.jQuery(".savePage i").removeClass("anticon-loading").removeClass("anticon-spin").addClass("anticon-save");let t=e.data;"object"==typeof t?t.success?(i.default.success("Template saved"),window.localStorage.removeItem("my elements"),l.default.emit("Reloaded_MY_ELEMENTS")):i.default.warning(t.message):i.default.error(t)})}render(){return s.default.createElement(r.default,{width:550,show:this.state.showModal,close:this.handleCloseClick,title:"Add Element To Library",footer:!1,closable:!0,onCancel:this.handleCloseClick,closeModal:this.handleCloseClick},s.default.createElement("div",{className:"qx-fb-infobox qx-text-center sections-save-box"},s.default.createElement("div",{className:"qx-mt-3"},s.default.createElement("i",{className:"qxuicon-conveyor-belt-alt qx-fb-title-icon"}),s.default.createElement("h2",null,"Save Your Element To My Elements"),s.default.createElement("p",{className:"qx-mb-4"},"Your designs will be available for export and reuse on any page or website")),s.default.createElement(c,{prefixCls:"qxui-input-group"},s.default.createElement(o.default,{size:"large",placeholder:"Enter Element Name",value:this.state.elementName,style:{width:"75%"},prefixCls:"qxui-input",onChange:e=>this.setState({elementName:e.target.value})}),s.default.createElement(d.default,{type:"primary",disabled:this.state.process,size:"large",style:{width:"25%"},onClick:this.saveElement.bind(this)},s.default.createElement("i",{className:"qxuicon-save"})," Save"))))}}},1493:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=p(a(14)),n=p(a(76)),s=p(a(56)),i=a(1),o=p(i),r=p(a(1494)),d=p(a(1495)),u=p(a(1496)),c=p(a(48));function p(e){return e&&e.__esModule?e:{default:e}}const h=c.default.TabPane;t.default=class extends i.Component{constructor(e){super(e),this.state={show:!1,sectionPath:[],tabDisabled:!1},this.handleOpenClick=this.handleOpenClick.bind(this),this.handleCloseClick=this.handleCloseClick.bind(this)}componentWillMount(){l.default.on("SHOW_TEMPLATE_MODAL",({path:e,tab:t})=>{t?this.setState({show:!0,sectionPath:e,tab:t}):this.setState({show:!0,sectionPath:e})}),l.default.on("ENABLED_TEMPLATE_TABS",()=>{this.setState({tabDisabled:!1})}),l.default.on("DISABLED_TEMPLATE_TABS",()=>{this.setState({tabDisabled:!0})}),this.setState({tab:n.default.get("qx-template-tab")})}handleCloseClick(){this.setState({show:!1})}handleOpenClick(){this.setState({show:!0})}onTabChange(e){this.setState({tab:e}),n.default.set("qx-template-tab",e)}render(){return o.default.createElement(s.default,{width:1150,className:"qxui-modal--with-tab qxui-modal--template qxui-modal--template-collection",show:this.state.show,title:"Load From Library",footer:!1,closable:!0,onCancel:this.handleCloseClick},o.default.createElement(c.default,{animated:{inkBar:!0,tabPane:!1},activeKey:this.state.tab,onChange:this.onTabChange.bind(this),prefixCls:"qxui-tabs"},o.default.createElement(h,{disabled:this.state.tabDisabled,tab:"Sections",key:"Sections","data-simplebar":!0},o.default.createElement(d.default,{openModal:this.handleOpenClick,closeModal:this.handleCloseClick,sectionPath:this.state.sectionPath})),o.default.createElement(h,{disabled:this.state.tabDisabled,tab:"Pages",key:"Pages"},o.default.createElement(r.default,{openModal:this.handleOpenClick,closeModal:this.handleCloseClick,sectionPath:this.state.sectionPath})),o.default.createElement(h,{disabled:this.state.tabDisabled,tab:"My Templates",key:"My Templates"},o.default.createElement(u.default,{openModal:this.handleOpenClick,closeModal:this.handleCloseClick,sectionPath:this.state.sectionPath}))))}}},1494:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=g(a(65)),n=g(a(241)),s=g(a(14)),i=g(a(76)),o=g(a(26)),r=a(22),d=g(a(2)),u=a(1),c=g(u),p=g(a(59)),h=a(137),f=g(a(61)),m=g(a(49));function g(e){return e&&e.__esModule?e:{default:e}}const v=m.default.Option;var b=null;t.default=class extends u.Component{constructor(e){super(e),this.state={items:[],itemTags:[],category:"all",originItems:[],loading:!1,inserting:!1,error:!1},this.insert=this.insert.bind(this),this.loadData=this.loadData.bind(this),this.onCategoryChange=this.onCategoryChange.bind(this),this.handleSearchTerm=this.handleSearchTerm.bind(this),this.renderPageTemplate=this.renderPageTemplate.bind(this),this.token=jQuery("#jform_token").attr("name"),this._mounted=!1}componentDidMount(){this._mounted=!0,this.loadData()}componentWillUnmount(){this._mounted=!1}loadData(){if(this.setState({loading:!0}),s.default.emit("DISABLED_TEMPLATE_TABS"),i.default.get("qx-page-template")){const e=JSON.parse(i.default.get("qx-page-template"));this.setState({loading:!1,items:e.items,originItems:e.items,itemTags:e.itemTags}),s.default.emit("ENABLED_TEMPLATE_TABS")}else l.default.get(`index.php?option=com_quix&task=api.getTemplates&${this.token}=1&source=remote&type=layout&&min_version=2.0.0`).then(e=>{e.data.items?(this.setState({loading:!1,error:!1,items:e.data.items,originItems:e.data.items,itemTags:e.data.itemTags}),i.default.set("qx-page-template",JSON.stringify({items:e.data.items,itemTags:e.data.itemTags})),s.default.emit("ENABLED_TEMPLATE_TABS")):(this.setState({loading:!1,error:!0}),s.default.emit("ENABLED_TEMPLATE_TABS"))})}handleSearchTerm(e){var t=new n.default(this.state.originItems,{shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:3,keys:["title"]}).search(e.target.value);_.isEmpty(e.target.value)?this.setState({items:this.state.originItems,category:"all"}):this.setState({items:t,category:"all"})}arrayContainsArray(e,t){if(0===t.length)return!1;let a=!1;return t.every(function(t){return-1===e.indexOf(t)||(a=!0,!1)}),a}onCategoryChange(e){let t=[];t="all"==e||_.isEmpty(e)?this.state.originItems:_.filter(this.state.originItems,t=>{if(e.includes("all"))return t;if(t.tags[0]){const a=_.map(t.tags,e=>e.alias);if(this.arrayContainsArray(e,a))return t}}),this.setState({items:t,category:e})}insert(e){this.setState({inserting:!0,loading:!0});const t=_.filter(this.state.originItems,t=>{if(t.id==e)return t})[0],a=t.min_version.split(".").reduce(function(e,t){return e+t});if(QUIX_VERSION.split(".").reduce(function(e,t){return e+t})<a)return o.default.warning(`Quix version ${t.min_version} is required to use this template. Please update Quix first.`),void this.setState({inserting:!1,loading:!1});let n=new URL(t.json_url);n.protocol="https",l.default.get(n.href).then(e=>{try{const t=e.data.data;p.default.dispatch("INSERT_NODES",{nodes:(0,h.nodesUnserializer)((0,r.fromJS)(t)),path:this.props.sectionPath}),this.props.closeModal(),o.default.success("Template inserted"),this._mounted&&this.setState({inserting:!1,loading:!1})}catch(e){o.default.error("Something went wrong! Possible reason:"+e.message)}})}goToPreivewPage(e){null===b?b=window.open("https://getquix.net"+e):b.location.href="https://getquix.net"+e}renderPageTemplate(e){const t="true"==e.license,a=(0,d.default)("qx-fb-template-item qx-fb-template-item--page",{"qx-fb-template--pro":t});let l=c.default.createElement("button",{onClick:this.insert.bind(this,e.id),className:"qx-btn qx-btn-light qx-btn--insert qx-w-50"},c.default.createElement("i",{className:"qxuicon-download"})," Insert");return t&&(l=c.default.createElement("button",{className:"qx-btn qx-btn-light qx-btn--gopro qx-w-50"},c.default.createElement("i",{className:"qxuicon-external-link"})," Go Pro")),c.default.createElement("div",{key:e.id,className:"qx-col-md-3 qx-mb-3"},c.default.createElement("div",{className:a},c.default.createElement("div",{className:"qx-fb-template-item__thumb"},c.default.createElement("img",{src:e.images})),c.default.createElement("div",{className:"qx-fb-template-item__footer"},c.default.createElement("span",{className:"qx-fb-template-name qx-mb-2 qx-mt-2"},e.title),c.default.createElement("div",{className:"qx-btn-group qx-d-flex"},c.default.createElement("button",{onClick:this.goToPreivewPage.bind(this,e.previewurl),className:"qx-btn qx-btn-light qx-btn--preview qx-w-50"},c.default.createElement("i",{className:"qxuicon-eye"})," Preview"),l))))}render(){const e=c.default.createElement("div",{className:"preloader preloader--in"},c.default.createElement("div",{className:"wrap"},c.default.createElement("div",{className:"ball"}),c.default.createElement("div",{className:"ball"}),c.default.createElement("div",{className:"ball"}),c.default.createElement("div",{className:"ball"}),c.default.createElement("p",{className:"text"},"Loading..."))),t=c.default.createElement("div",{className:"qx-data-loading-error"},"Please check your internet connection");return c.default.createElement("div",{className:"qx-fb-template"},c.default.createElement("div",{className:"qx-fb-template__header qx-row"},c.default.createElement("div",{className:"qx-col-9"},c.default.createElement(m.default,{disabled:this.state.loading,value:this.state.category,onChange:this.onCategoryChange,style:{width:"auto",minWidth:"200px"},showSearch:!0,allowClear:!0,autoFocus:!0,mode:"tags",placeholder:"Category",prefixCls:"qxui-select",getPopupContainer:()=>window.parent.document.body},c.default.createElement(v,{key:"all",value:"all"},"All"),this.state.itemTags.map(e=>c.default.createElement(v,{key:e.alias,value:e.alias},e.title)))),c.default.createElement("div",{className:"qx-col"},c.default.createElement(f.default.Search,{disabled:this.state.loading,placeholder:"Search",onChange:this.handleSearchTerm,prefixCls:"qxui-input-search",inputPrefixCls:"qxui-input"}))),c.default.createElement("div",{className:"qx-fb-template__body"},c.default.createElement("div",{className:"qx-row"},this.state.error?t:null,this.state.loading?e:this.state.items.map(this.renderPageTemplate))))}}},1495:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=g(a(65)),n=g(a(241)),s=g(a(14)),i=g(a(26)),o=g(a(76)),r=a(22),d=g(a(2)),u=a(1),c=g(u),p=g(a(59)),h=a(137),f=g(a(61)),m=g(a(49));function g(e){return e&&e.__esModule?e:{default:e}}const v=m.default.Option;t.default=class extends u.Component{constructor(e){super(e),this.state={items:[],itemTags:[],category:"all",originItems:[],loading:!1,inserting:!1,error:!1},this.insert=this.insert.bind(this),this.loadData=this.loadData.bind(this),this.onCategoryChange=this.onCategoryChange.bind(this),this.handleSearchTerm=this.handleSearchTerm.bind(this),this.renderSectionTemplate=this.renderSectionTemplate.bind(this),this.token=jQuery("#jform_token").attr("name"),this._mounted=!1}componentDidMount(){this._mounted=!0,this.loadData()}componentWillUnmount(){this._mounted=!1}loadData(){if(this.setState({loading:!0}),s.default.emit("DISABLED_TEMPLATE_TABS"),o.default.get("qx-section-template")){const e=JSON.parse(o.default.get("qx-section-template"));this.setState({loading:!1,items:e.items,originItems:e.items,itemTags:e.itemTags}),s.default.emit("ENABLED_TEMPLATE_TABS")}else l.default.get(`index.php?option=com_quix&task=api.getTemplates&${this.token}=1&source=remote&type=section&min_version=2.0.0`).then(e=>{e.data.items?(this.setState({loading:!1,error:!1,items:e.data.items,originItems:e.data.items,itemTags:e.data.itemTags}),o.default.set("qx-section-template",JSON.stringify({items:e.data.items,itemTags:e.data.itemTags})),s.default.emit("ENABLED_TEMPLATE_TABS")):(this.setState({loading:!1,error:!0}),s.default.emit("ENABLED_TEMPLATE_TABS"))})}handleSearchTerm(e){var t=new n.default(this.state.originItems,{shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:3,keys:["title"]}).search(e.target.value);_.isEmpty(e.target.value)?this.setState({items:this.state.originItems,category:"all"}):this.setState({items:t,category:"all"})}arrayContainsArray(e,t){if(0===t.length)return!1;let a=!1;return t.every(function(t){return-1===e.indexOf(t)||(a=!0,!1)}),a}onCategoryChange(e){let t=[];t="all"==e||_.isEmpty(e)?this.state.originItems:_.filter(this.state.originItems,t=>{if(e.includes("all"))return t;if(t.tags[0]){const a=_.map(t.tags,e=>e.alias);if(this.arrayContainsArray(e,a))return t}}),this.setState({items:t,category:e})}insert(e){this.setState({inserting:!0,loading:!0});const t=_.filter(this.state.originItems,t=>{if(t.id==e)return t})[0],a=t.min_version.split(".").reduce(function(e,t){return e+t});if(QUIX_VERSION.split(".").reduce(function(e,t){return e+t})<a)return i.default.warning(`Quix version ${t.min_version} is required to use this template. Please update Quix first.`),void this.setState({inserting:!1,loading:!1});let n=new URL(t.json_url);n.protocol="https",l.default.get(n.href).then(e=>{try{const t=e.data.data;p.default.dispatch("INSERT_NODE",{nodes:(0,h.nodeUnserializer)((0,r.fromJS)(t)),path:this.props.sectionPath}),this.props.closeModal(),i.default.success("Template inserted"),this._mounted&&this.setState({inserting:!1,loading:!1})}catch(e){i.default.error("Something went wrong! Possible reason:"+e.message)}})}renderSectionTemplate(e){const t="true"==e.license,a=(0,d.default)("qx-fb-template-item qx-fb-template-item--section",{"qx-fb-template--pro":t});let l=c.default.createElement("a",{onClick:this.insert.bind(this,e.id),className:"qx-btn qx-btn-link qx-fb-template-action"},c.default.createElement("i",{className:"qxuicon-download"})," Insert");return t&&(l=c.default.createElement("a",{className:"qx-btn qx-btn-link qx-fb-template-action qx-btn--gopro"},c.default.createElement("i",{className:"qxuicon-external-link"})," Go Pro")),c.default.createElement("div",{key:e.id,className:"qx-col-md-4 qx-mb-5"},c.default.createElement("div",{className:a},c.default.createElement("div",{className:"qx-fb-template-item__thumb"},c.default.createElement("img",{src:e.images})),c.default.createElement("div",{className:"qx-fb-template-item__footer"},l,c.default.createElement("span",{className:"qx-fb-template-name"},e.title))))}render(){const e=c.default.createElement("div",{className:"preloader preloader--in"},c.default.createElement("div",{className:"wrap"},c.default.createElement("div",{className:"ball"}),c.default.createElement("div",{className:"ball"}),c.default.createElement("div",{className:"ball"}),c.default.createElement("div",{className:"ball"}),c.default.createElement("p",{className:"text"},"Loading..."))),t=c.default.createElement("div",{className:"qx-data-loading-error"},"Please check your internet connection");return c.default.createElement("div",{className:"qx-fb-template"},c.default.createElement("div",{className:"qx-fb-template__header qx-row"},c.default.createElement("div",{className:"qx-col-9"},c.default.createElement(m.default,{disabled:this.state.loading,value:this.state.category,onChange:this.onCategoryChange,style:{width:"auto",minWidth:"200px"},showSearch:!0,allowClear:!0,autoFocus:!0,mode:"tags",placeholder:"Category",prefixCls:"qxui-select",getPopupContainer:()=>window.parent.document.body},c.default.createElement(v,{key:"all",value:"all"},"All"),this.state.itemTags.map(e=>c.default.createElement(v,{key:e.alias,value:e.alias},e.title)))),c.default.createElement("div",{className:"qx-col"},c.default.createElement(f.default.Search,{disabled:this.state.loading,placeholder:"Search",onChange:this.handleSearchTerm,prefixCls:"qxui-input-search",inputPrefixCls:"qxui-input"}))),c.default.createElement("div",{className:"qx-fb-template__body"},c.default.createElement("div",{className:"qx-row"},this.state.error?t:null,this.state.loading?e:this.state.items.map(this.renderSectionTemplate))))}}},1496:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=E(a(65)),n=E(a(241)),s=E(a(14)),i=E(a(26)),o=a(22),r=E(a(2)),d=a(1),u=E(d),c=E(a(1497)),p=E(a(59)),h=E(a(1498)),f=a(137),m=E(a(106)),g=E(a(1499)),v=E(a(61)),b=E(a(24));function E(e){return e&&e.__esModule?e:{default:e}}var y=null;t.default=class extends d.Component{constructor(e){super(e),this.token=jQuery("#jform_token").attr("name"),this.tokenValue=jQuery("#jform_token").val(),this.url=`index.php?option=com_quix&task=api.getTemplates&${this.token}=${this.tokenValue}`,this.getTemplate=`index.php?option=com_quix&task=api.getTemplate&${this.token}=${this.tokenValue}`,this.updateNameApi=`index.php?option=com_quix&task=collection.updateName&${this.token}=${this.tokenValue}`,this.templateDeleteApi=`index.php?option=com_quix&task=collection.updateState&state=2&${this.token}=${this.tokenValue}`,this.exportApi=`index.php?option=com_quix&task=api.exportCollection&${this.token}=${this.tokenValue}`,this.state={loadingDone:!1,filter:"all",data:[],originData:[],columns:[{title:"Title",dataIndex:"title",key:"title",render:(e,t)=>u.default.createElement(h.default,{value:e,onChange:this.onCellChange(t.key,"title")})},{title:"Type",dataIndex:"type",key:"type"},{title:"Created By",dataIndex:"created_by",key:"created_by"},{title:"Action",key:"action",render:(e,t)=>u.default.createElement("span",null,u.default.createElement("button",{type:"button",onClick:this.insert.bind(this,t.id),className:"qx-btn qx-btn-link qx-btn-insert"},u.default.createElement("i",{className:"qxuicon-download"})," Insert"),u.default.createElement("div",{className:"qx-btn-group qx-float-right"},u.default.createElement("button",{type:"button",onClick:this.onDelete.bind(this,t.id),className:"qx-btn qx-btn-light",title:"Delete"},u.default.createElement("i",{className:"qxuicon-trash-alt"})),u.default.createElement("button",{type:"button",onClick:this.onExport.bind(this,t.id,t.title),className:"qx-btn qx-btn-light",title:"Export"},u.default.createElement("i",{className:"qxuicon-sign-out"}))))}]},this._mounted=!1,this.onDelete=this.onDelete.bind(this),this.loadData=this.loadData.bind(this),this.handleSearchTerm=this.handleSearchTerm.bind(this),this.handleFilterChange=this.handleFilterChange.bind(this)}componentDidMount(){this._mounted=!0,this.loadData(this.url),s.default.on("RELOAD_TEMPLATES",()=>this.loadData(this.url))}componentWillUnmount(){this._mounted=!1}loadData(e){s.default.emit("DISABLED_TEMPLATE_TABS"),l.default.get(e).then(e=>{let t=_.map(e.data,e=>(e.type="layout"==e.type.toLowerCase()?"page":e.type,e));this._mounted&&this.setState({loadingDone:!0,data:t,originData:t}),s.default.emit("ENABLED_TEMPLATE_TABS")})}preview(e){null===y?y=window.open(`index.php?option=com_quix&view=collection&id=${e}`):y.location.href=`index.php?option=com_quix&view=collection&id=${e}`}onCellChange(e,t){return a=>{const n=[...this.state.originData],s=n.find(t=>t.key===e);s&&(s[t]=a,this.setState({data:n,originData:n}),l.default.get(this.updateNameApi+`&name=${s.title}&id=${s.id}`).then(e=>{i.default.success("Template name updated")}))}}onDelete(e){const t=[...this.state.originData].filter(t=>t.id!==e);this.setState({originData:t,data:t}),l.default.get(this.templateDeleteApi+`&id=${e}`).then(e=>{i.default.success("Template deleted")})}handleFilterChange(e){let t=[];t="all"==e?this.state.originData:_.filter(this.state.originData,t=>{if(t.type==e)return t}),this.setState({filter:e,data:t})}handleSearchTerm(e){var t=new n.default(this.state.originData,{shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["title"]}).search(e.target.value);_.isEmpty(e.target.value)?this.setState({data:this.state.originData}):this.setState({data:t})}insert(e){this.setState({loading:!0}),l.default.get(this.getTemplate+`&id=${e}`).then(e=>{const t=JSON.parse(e.data.data);if("section"==t.type){let a=(0,f.nodeUnserializer)((0,o.fromJS)(t.data)),l=(0,f.nodeUnserializer)((0,m.default)(a));p.default.dispatch("INSERT_NODE",{nodes:l,path:this.props.sectionPath}),setTimeout(()=>{this.props.closeModal(),this._mounted&&this.setState({loading:!1}),i.default.success(`[ ${e.data.title} ] template inserted`)},100)}if("layout"==t.type.toLowerCase()){let a=(0,f.nodesUnserializer)((0,o.fromJS)(t.data)).map(e=>(0,m.default)(e)),l=(0,f.nodesUnserializer)(a);p.default.dispatch("INSERT_NODES",{nodes:l,path:this.props.sectionPath}),setTimeout(()=>{this.props.closeModal(),this._mounted&&this.setState({loading:!1}),i.default.success(`[ ${e.data.title} ] template inserted`)},100*l.size)}})}importModal(){s.default.emit("OPEN_TEMPLATE_IMPORT_MODAL")}onExport(e,t){l.default.get(this.exportApi+`&id=${e}`).then(e=>{let a=`${t}.json`,l=JSON.parse(e.data.data.config),n={groups:[],title:t,type:l.type,data:l.data};(0,c.default)(JSON.stringify(n),a,"application/json")})}render(){const e=u.default.createElement("div",{className:"preloader preloader--in"},u.default.createElement("div",{className:"wrap"},u.default.createElement("div",{className:"ball"}),u.default.createElement("div",{className:"ball"}),u.default.createElement("div",{className:"ball"}),u.default.createElement("div",{className:"ball"}),u.default.createElement("p",{className:"text"},"Loading...")));return u.default.createElement("div",{className:"qx-fb-template"},u.default.createElement("div",{className:"qx-fb-template__header qx-row"},u.default.createElement("div",{className:"qx-col-7"},u.default.createElement("div",{className:"qx-btn-group",role:"group","aria-label":"Basic example"},u.default.createElement("button",{type:"button",onClick:this.handleFilterChange.bind(this,"all"),className:(0,r.default)("qx-btn qx-btn-light",{"qx-active":"all"==this.state.filter})},"All"),u.default.createElement("button",{type:"button",onClick:this.handleFilterChange.bind(this,"section"),className:(0,r.default)("qx-btn qx-btn-light",{"qx-active":"section"==this.state.filter})},"Section"),u.default.createElement("button",{type:"button",onClick:this.handleFilterChange.bind(this,"page"),className:(0,r.default)("qx-btn qx-btn-light",{"qx-active":"page"==this.state.filter})},"Page"))),u.default.createElement("div",{className:"qx-col-5 qx-d-flex"},u.default.createElement(b.default,{disabled:!this.state.loadingDone,onClick:this.importModal.bind(this),type:"primary",className:"qx-mr-4 qx-mt-1"},u.default.createElement("i",{className:"qxuicon-inbox-in"})," Import Template"),u.default.createElement(v.default.Search,{placeholder:"Search",onChange:this.handleSearchTerm,prefixCls:"qxui-input-search",inputPrefixCls:"qxui-input"}))),this.state.loading?e:u.default.createElement("div",{className:"qx-template__list"},u.default.createElement(g.default,{pagination:!1,rowKey:e=>e.id,columns:this.state.columns,dataSource:this.state.data,prefixCls:"qxui-table"})))}}},1497:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var l=new Blob([e],{type:a||"application/octet-stream"});if(void 0!==window.parent.window.navigator.msSaveBlob)window.parent.window.navigator.msSaveBlob(l,t);else{var n=window.parent.window.URL.createObjectURL(l),s=window.parent.document.createElement("a");s.style.display="none",s.href=n,s.setAttribute("download",t),void 0===s.download&&s.setAttribute("target","_blank"),window.parent.document.body.appendChild(s),s.click(),window.parent.document.body.removeChild(s),window.parent.window.URL.revokeObjectURL(n)}}},1498:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(1),n=o(l),s=o(a(32)),i=o(a(18));function o(e){return e&&e.__esModule?e:{default:e}}t.default=class extends l.Component{constructor(e){super(e),this.state={value:this.props.value,editable:!1},this.edit=this.edit.bind(this),this.check=this.check.bind(this),this.handleChange=this.handleChange.bind(this)}handleChange(e){const t=e.target.value;this.setState({value:t})}check(){this.setState({editable:!1}),this.props.onChange&&this.props.onChange(this.state.value)}edit(){this.setState({editable:!0})}render(){var e=this.state;const t=e.value,a=e.editable;return n.default.createElement("div",{className:"editable-cell"},a?n.default.createElement("div",{className:"editable-cell-input-wrapper"},n.default.createElement(s.default,{value:t,onChange:this.handleChange,onPressEnter:this.check}),n.default.createElement(i.default,{type:"check",className:"editable-cell-icon-check",onClick:this.check})):n.default.createElement("div",{className:"editable-cell-text-wrapper"},t||" ",n.default.createElement(i.default,{type:"edit",className:"editable-cell-icon",onClick:this.edit})))}}},1523:function(e,t,a){"use strict";var l,n,s;Object.defineProperty(t,"__esModule",{value:!0});var i=a(1),o=m(i),r=m(a(67)),d=m(a(56)),u=m(a(61)),c=m(a(24)),p=m(a(26)),h=m(a(49)),f=m(a(1524));function m(e){return e&&e.__esModule?e:{default:e}}const g=h.default.Option;function v(){reactor.dispatch("CLOSE_LINK_PAGE_MODAL")}let b=(0,r.default)({visible:[["meta"],e=>e.getIn(["linkMenuModal","visible"])]})((s=n=class extends i.Component{constructor(e){super(e),this.state={MenuList:[],ParentList:[],mainmenu:"",parentmenu:"1",noMenu:!0,pageLink:"",Itemid:""},this.updateParentItem=this.updateParentItem.bind(this),this.makeMenuLink=this.makeMenuLink.bind(this)}componentDidMount(){let e=document.getElementById("jform_menutype").options,t=[],a=e.length,l=0;for(;l<a;l++){(s=[]).value=e[l].value,s.text=e[l].text,t.push(s)}this.setState({MenuList:t});let n=[];var s;(s=[]).value="1",s.text="Menu Item Root",n.push(s),this.setState({ParentList:n}),1==window.parent.QuixPageHasMenu&&(this.setState({noMenu:!1}),this.setState({pageLink:atob(document.getElementById("return_url").value)})),this.setState({Itemid:document.getElementById("jform_Itemid").value})}onChange(e){window.PageChanged=!0}makeMenuLink(){if(!this.state.title)return void p.default.warning("Title is required");if(!this.state.alias)return void p.default.warning("Alias is required");if(!this.state.mainmenu)return void p.default.warning("Please select menu group");this.state.parentmenu||this.setState({parentmenu:"1"});let e=(0,f.default)(this.state.title,this.state.alias,this.state.mainmenu,this.state.parentmenu);return e.then(e=>{if(!1===e.success)p.default.error(e.message);else{let t=e.data;p.default.success("Menu created successfully."),this.setState({noMenu:!1}),this.setState({Itemid:t.Itemid}),this.setState({pageLink:t.link}),document.getElementById("return_url").value=btoa(t.link)}},e=>{p.default.error(e.message)}),e}updateParentItem(e){this.setState({ParentList:e})}handleChange(e,t){this.setState({mainmenu:e});var a=e;jQuery.ajax({url:"index.php?option=com_quix&task=api.getParentItem&menutype="+a,dataType:"json"}).done(function(e){var a=[],l=e.length,n=0;for((s=[]).value="1",s.text="Menu Item Root",a.push(s);n<l;n++){var s;(s=[]).value=e[n].id,s.text=e[n].title,a.push(s)}return t(a)})}render(){let e=this.props.visible;return o.default.createElement(d.default,{className:"modal--small",title:"Add This Page To Menu",show:e,close:v,dismisible:!0,footer:[o.default.createElement(c.default,{key:Math.random(),type:"primary",style:{display:this.state.noMenu?"initial":"none"},size:"large",onClick:this.makeMenuLink},o.default.createElement("i",{className:"qxuicon-link"})," Create Menu")]},o.default.createElement("div",{className:"menu-create-block",style:{display:this.state.noMenu?"initial":"none"}},o.default.createElement("div",{className:"qx-fb-field"},o.default.createElement(u.default,{label:"Menu Title",placeholder:"Home",value:this.state.title,onChange:e=>{this.setState({title:e})},onReset:e=>{this.setState({title:""})}})),o.default.createElement("div",{className:"qx-fb-field"},o.default.createElement(u.default,{label:"Menu alias",placeholder:"menu-alias",value:this.state.alias,onChange:e=>{this.setState({alias:e})},onReset:e=>{this.setState({alias:""})}})),o.default.createElement("div",{className:"qx-fb-field"},o.default.createElement("p",{className:"qx-fb-field__label"},"Select Menu"),o.default.createElement(h.default,{label:"Select Menu",defaultValue:this.state.mainmenu,style:{width:"100%"},onChange:e=>{this.handleChange(e,this.updateParentItem)},prefixCls:"qxui-select",getPopupContainer:()=>window.parent.document.body},this.state.MenuList.map((e,t)=>o.default.createElement(g,{key:t,value:e.value.toString()}," ",e.text," ")))),o.default.createElement("div",{className:"qx-fb-field"},o.default.createElement("p",{className:"qx-fb-field__label"},"Select Parent Item"),o.default.createElement(h.default,{label:"Parent Item",defaultValue:this.state.parentmenu,style:{width:"100%"},onChange:e=>{this.setState({parentmenu:e})},prefixCls:"qxui-select",getPopupContainer:()=>window.parent.document.body},this.state.ParentList.map((e,t)=>o.default.createElement(g,{key:t,value:e.value.toString()}," ",e.text," "))))),o.default.createElement("div",{className:"alert alert-success text-center",style:{display:this.state.noMenu?"none":"block"}},o.default.createElement("i",{className:"qxuicon-badge-check",style:{fontSize:40}})," ",o.default.createElement("br",null),o.default.createElement("br",null),o.default.createElement("p",null,"This page is already linked to a menu item.")," ",o.default.createElement("br",null),o.default.createElement("p",null,o.default.createElement("a",{className:"qxui-btn qxui-btn-primary",target:"_blank",href:`${quix.url}/administrator/index.php?option=com_menus&task=item.edit&id=${this.state.Itemid}`},"Update Menu"),"  ",o.default.createElement("a",{className:"qxui-btn",target:"_blank",href:this.state.pageLink},o.default.createElement("i",{className:"qxuicon-external-link"})," Visit Page"))))}},n.propTypes={},n.defaultProps={},l=s))||l;t.default=b},1524:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n){return new Promise(function(s,i){let o=document.getElementById("jform_token").name,r=`${l}/index.php?option=com_quix&task=api.createMenu&${o}=1`,d=document.getElementById("jform_id").value,u={title:e,link:"index.php?option=com_quix&view=page&id="+d,alias:t,menu:a,parentid:n};jQuery.ajax({data:u,url:r,type:"POST",success:function(e){return(e=JSON.parse(e)).success?s(e):i(e)}})})};let l=quix.url},1525:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=c(a(14)),n=a(1),s=c(n),i=c(a(106)),o=c(a(26)),r=c(a(32)),d=c(a(56)),u=c(a(24));function c(e){return e&&e.__esModule?e:{default:e}}const p=r.default.Group;t.default=class extends n.Component{constructor(e){super(e),this.state={showModal:!1,process:!1,path:null},this.handleCloseClick=this.handleCloseClick.bind(this)}componentDidMount(){l.default.on("SHOW_SECTION_SAVE_MODAL",({path:e})=>{this.setState({showModal:!0,path:e})})}handleCloseClick(){this.setState({showModal:!1})}saveSection(){let e=reactor.evaluate(["nodes","nodes",this.state.path]);const t={type:"section",data:e=(0,i.default)(e)};this.setState({process:!0});let a=jQuery("#jform_token").attr("name"),l=(jQuery("#jform_token").val(),new FormData);l.set("jform[data]",JSON.stringify(t)),l.set("jform[title]",this.state.sectionName),l.set("jform[builder]","frontend"),l.set("jform[type]","section"),l.set("jform[state]","1"),l.set("jform[id]","0"),l.set("type","collection"),l.set(a,1),axios({method:"post",url:"index.php?option=com_quix&task=collection.save",data:l,config:{headers:{"Content-Type":"multipart/form-data"}}}).then(e=>{let t=e.data;"object"==typeof t?t.success?(this.setState({sectionName:"",showModal:!1,process:!1}),o.default.success("Template saved")):o.default.warning(t.message):o.default.error(t)}).catch(e=>this.setState({process:!1}))}render(){return s.default.createElement(d.default,{width:550,show:this.state.showModal,close:this.handleCloseClick,title:"Add Section To Library",footer:!1,closable:!0,onCancel:this.handleCloseClick,closeModal:this.handleCloseClick},s.default.createElement("div",{className:"qx-fb-infobox qx-text-center sections-save-box"},s.default.createElement("div",{className:"qx-mt-3"},s.default.createElement("i",{className:"qxuicon-conveyor-belt-alt qx-fb-title-icon"}),s.default.createElement("h2",null,"Save Your Section To Library"),s.default.createElement("p",{className:"qx-mb-4"},"Your designs will be available for export and reuse on any page or website")),s.default.createElement(p,{prefixCls:"qxui-input-group"},s.default.createElement(r.default,{size:"large",placeholder:"Enter Section Name",value:this.state.sectionName,style:{width:"75%"},prefixCls:"qxui-input",onChange:e=>this.setState({sectionName:e.target.value})}),s.default.createElement(u.default,{type:"primary",disabled:this.state.process,size:"large",style:{width:"25%"},onClick:this.saveSection.bind(this)},s.default.createElement("i",{className:"qxuicon-save"})," Save"))))}}},1526:function(e,t,a){"use strict";var l;Object.defineProperty(t,"__esModule",{value:!0});var n=h(a(65)),s=(h(a(2)),h(a(56))),i=a(1),o=h(i),r=h(a(67)),d=h(a(32)),u=h(a(688)),c=h(a(18)),p=(h(a(74)),h(a(49)));function h(e){return e&&e.__esModule?e:{default:e}}const f=d.default.Group,m=p.default.Option;let g=(0,r.default)({visible:[["meta"],e=>e.getIn(["joomla-layouts","visible"])],nodes:[["nodes"],e=>e.get("nodes")]})(l=class extends i.Component{constructor(e){super(e),this.state={stack:[],settings:"",oldSettings:[],settingOptions:[],subSettingOptions:[],selectedType:"",selectedSubType:"",subMenus:[],selectedMenuType:"",warning:!1},this.save=this.save.bind(this),this.changedType=this.changedType.bind(this),this.changedSubType=this.changedSubType.bind(this),this.oldControl=this.oldControl.bind(this),this.newControl=this.newControl.bind(this),this.dataSave=this.dataSave.bind(this),this.changedMenuType=this.changedMenuType.bind(this)}componentWillMount(){n.default.get("index.php?option=com_quix&task=api.getJoomlaCategories").then(e=>{let t=this.state.settingOptions;t.categories=e.data.data,this.setState({settingOptions:t})});let e=document.getElementById("jform_menutype").options,t=[],a=e.length,l=0;for(;l<a;l++)if("select menu"!=e[l].text.toLowerCase()){var s=[];s.value=e[l].value,s.text=e[l].text,t.push(s)}let i=this.state.settingOptions;i.menus=t,this.setState({settingOptions:i});let o=_.isEmpty(document.getElementById("jform_conditions").value)?"[]":document.getElementById("jform_conditions").value;this.setState({oldSettings:JSON.parse(o)})}closeModal(){reactor.dispatch("CLOSE_JOOMLA_LAYOUTS_MODAL")}changedType(e){const t=this.state.settingOptions[e]||[];this.setState({subSettingOptions:t,selectedType:e})}changedSubType(e){this.setState({selectedSubType:e}),"menus"==this.state.selectedType&&n.default.get("index.php?option=com_quix&task=api.getParentItem&menutype="+e).then(e=>{this.setState({subMenus:e.data})})}dataSave(){if(_.isEmpty(this.state.selectedType)&&0==this.state.oldSettings.length){let e=[];return this.setState({stack:e}),void this.setState({warning:!0})}if(_.isEmpty(this.state.selectedType))return void this.setState({warning:!0});if("categories"==this.state.selectedType&&_.isEmpty(this.state.selectedSubType))return void this.setState({warning:!0});if("menus"==this.state.selectedType&&(_.isEmpty(this.state.selectedSubType)||_.isEmpty(this.state.selectedMenuType)))return void this.setState({warning:!0});this.setState({warning:!1});let e=document.getElementById("jform_conditions").value;_.isEmpty(e)&&(e="[]");let t=JSON.parse(e),a={type:this.state.selectedType,subType:this.state.selectedSubType};if("menus"==this.state.selectedType){let e=this.state.subMenus.filter(e=>e.id==this.state.selectedMenuType);a.parent_menu=this.state.selectedMenuType,a.parent_menu_label=e[0].title}t.push(a);let l=[];l.push({}),this.setState({selectedMenuType:"",selectedType:"",selectedSubType:"",stack:l,oldSettings:t,settings:JSON.stringify(t)}),document.getElementById("jform_conditions").value=JSON.stringify(t)}save(){this.dataSave(),this.closeModal()}remove(e){let t=document.getElementById("jform_conditions").value;if(_.isEmpty(t)){t="[]";let e=JSON.parse(t),a=[];return this.setState({stack:a,oldSettings:e,settings:JSON.stringify(e)}),void(document.getElementById("jform_conditions").value=JSON.stringify(e))}let a=JSON.parse(t);if(a.splice(e,1),this.setState({oldSettings:a,settings:JSON.stringify(a)}),document.getElementById("jform_conditions").value=JSON.stringify(a),0!=a.length);else{let e=[];this.setState({stack:e})}}changedMenuType(e){this.setState({selectedMenuType:e})}oldControl(e,t){const a=o.default.createElement(p.default,{prefixCls:"qxui-select",getPopupContainer:()=>window.parent.document.body,disabled:!0,value:e.parent_menu,onChange:this.changedMenuType},o.default.createElement(m,{key:e.parent_menu,value:e.parent_menu},e.parent_menu_label));return o.default.createElement("div",{key:t,className:"publish-settings__condition qx-mb-3"},o.default.createElement(f,{compact:!0,prefixCls:"qx-input-group"},o.default.createElement(p.default,{prefixCls:"qxui-select",getPopupContainer:()=>window.parent.document.body,disabled:!0,value:e.type,onChange:this.changedType},o.default.createElement(m,{key:"-1",value:""},"Select condition type"),o.default.createElement(m,{key:"article",value:"article"},"All Articles"),o.default.createElement(m,{key:"categories",value:"categories"},"Categories"),o.default.createElement(m,{key:"menus",value:"menus"},"Menus"),o.default.createElement(m,{key:"all-menu",value:"all-menu"},"Default - All Page")),"article"!=e.type&&"all-menu"!=e.type?o.default.createElement(p.default,{prefixCls:"qxui-select",getPopupContainer:()=>window.parent.document.body,disabled:!0,value:e.subType,onChange:this.changedSubType},this.state.settingOptions[e.type]?this.state.settingOptions[e.type].map((e,t)=>o.default.createElement(m,{key:e.value,value:e.value},e.text)):null):null,"menus"==e.type?a:null,o.default.createElement("a",{href:"#",onClick:this.remove.bind(this,t)},o.default.createElement(c.default,{type:"close"}))))}newControl(e,t){t=this.state.oldSettings.length;const a=o.default.createElement(p.default,{prefixCls:"qxui-select",getPopupContainer:()=>window.parent.document.body,value:this.state.selectedMenuType,onChange:this.changedMenuType},o.default.createElement(m,{key:"-1",value:""},"Select menu"),this.state.subMenus.map((e,t)=>o.default.createElement(m,{key:e.id,value:e.id},e.title)));return o.default.createElement("div",{key:t,className:"publish-settings__condition qx-mb-3"},o.default.createElement(f,{compact:!0,prefixCls:"qx-input-group"},o.default.createElement(p.default,{prefixCls:"qxui-select",getPopupContainer:()=>window.parent.document.body,value:this.state.selectedType,onChange:this.changedType},o.default.createElement(m,{key:"-1",value:""},"Select condition type"),o.default.createElement(m,{key:"article",value:"article"},"All Articles"),o.default.createElement(m,{key:"categories",value:"categories"},"Categories"),o.default.createElement(m,{key:"menus",value:"menus"},"Menus"),o.default.createElement(m,{key:"all-menu",value:"all-menu"},"Default - All Page")),_.isEmpty(this.state.selectedType)||"article"==this.state.selectedType||"all-menu"==this.state.selectedType?null:o.default.createElement(p.default,{prefixCls:"qxui-select",getPopupContainer:()=>window.parent.document.body,value:this.state.selectedSubType,onChange:this.changedSubType},o.default.createElement(m,{key:-1,value:""},"Select option"),"menus"==this.state.selectedType?o.default.createElement(m,{key:"all",value:"all"},"All Pages"):null,this.state.subSettingOptions.map((e,t)=>o.default.createElement(m,{key:t,value:e.value},e.text))),this.state.subMenus.length>0&&"menus"==this.state.selectedType?a:null,o.default.createElement("a",{href:"#",onClick:this.remove.bind(this,t)},o.default.createElement(c.default,{type:"close"}))))}render(){let e=this.props.visible;return o.default.createElement(s.default,{className:"qxui-modal--with-tab modal--small theme-joomla-layouts-modal",title:"Publish Settings",show:e,close:this.closeModal,dismisible:!0,footer:[o.default.createElement("button",{key:"save",className:"qxui-btn qxui-btn-primary qxui-btn-lg",onClick:this.save}," ",o.default.createElement("i",{className:"qxuicon-check"})," Save ")]},o.default.createElement(u.default,{prefixCls:"qx-card",bordered:!0},o.default.createElement("div",{className:"qx-p-5"},o.default.createElement("div",{className:"qx-card-head"},o.default.createElement("div",{className:"qx-card-head-wrapper"},o.default.createElement("h2",{className:"qx-card-head-title center"},"Where do you want to display your layout?"))),o.default.createElement("div",{className:"qx-p-2 center"},o.default.createElement(c.default,{type:"rocket",style:{fontSize:"70px",color:"#08c"}})),o.default.createElement("div",{className:"qx-fb-field"},this.state.oldSettings.length>0?this.state.oldSettings.map(this.oldControl):this.newControl({},0),this.state.stack.map(this.newControl),this.state.warning?o.default.createElement("p",{className:"qx-alert qx-alert-warning qx-small qx-p-2"}," Please complete your selection first"):null,o.default.createElement("div",{className:"qx-p-3 center"},o.default.createElement("button",{onClick:()=>{this.dataSave()},className:"qxui-btn qxui-btn-success"},"Add Condition"))))))}})||l;t.default=g},1527:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=u(a(26)),n=u(a(14)),s=u(a(32)),i=u(a(56)),o=u(a(24)),r=a(1),d=u(r);function u(e){return e&&e.__esModule?e:{default:e}}const c=s.default.Group;t.default=class extends r.Component{constructor(e){super(e),this.state={title:"",waiting:!1,visible:!1},this.titleChanged=this.titleChanged.bind(this),this.saveTemplate=this.saveTemplate.bind(this),this._mounted=!1}componentDidMount(){this._mounted=!0,n.default.on("SHOW_TEMPLATE_SAVE_MODAL",()=>this.setState({visible:!0}))}componentWillUnmount(){this._mounted=!1}titleChanged(e){this.setState({title:e.target.value})}hideModal(){this.setState({visible:!1})}saveTemplate(){this.state.title?(n.default.emit("SAVE_TEMPLATE",this.state.title),this.setState({visible:!1})):l.default.error("Title can't be empty")}render(){return d.default.createElement(i.default,{width:550,className:"modal--export-import",title:"Save To Library",show:this.state.visible,onCancel:this.hideModal.bind(this),closable:!0,footer:!1},d.default.createElement("div",{className:"qx-fb-infobox qx-text-center sections-save-box"},d.default.createElement("div",{className:"qx-mt-4"},d.default.createElement("i",{className:"qxuicon-inbox-out qx-fb-title-icon"}),d.default.createElement("h2",null,"Save Your Page to Library"),d.default.createElement("p",{className:"qx-mb-4"},"Your designs will be available for export and ",d.default.createElement("b",null,"reuse")," on any page or website")),d.default.createElement(c,{prefixCls:"qxui-input-group"},d.default.createElement(s.default,{size:"large",placeholder:"Enter File title",id:"export",value:this.state.title,onChange:this.titleChanged,prefixCls:"qxui-input",style:{width:"75%"}}),d.default.createElement(o.default,{disabled:this.state.waiting,type:"primary",size:"large",style:{width:"25%"},onClick:this.saveTemplate},d.default.createElement("i",{className:"qxuicon-cloud-download"})," Save"))))}}},1528:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=p(a(65)),s=p(a(14)),i=p(a(26)),o=a(1),r=p(o),d=p(a(1529)),u=p(a(533)),c=p(a(56));function p(e){return e&&e.__esModule?e:{default:e}}const h=u.default.Dragger;t.default=class extends o.Component{constructor(e){super(e),this.state={showImportModal:!1}}componentDidMount(){s.default.on("OPEN_TEMPLATE_IMPORT_MODAL",()=>{this.setState({showImportModal:!0})})}importModal({open:e,close:t}){e&&this.setState({showImportModal:!0}),t&&this.setState({showImportModal:!1})}onFileUploadDone(e){(0,d.default)(e,["json"]).then(e=>{const t=JSON.parse(e),a={type:t.type,data:t.data};let l=jQuery("#jform_token").attr("name"),o=(jQuery("#jform_token").val(),new FormData);o.set("jform[data]",JSON.stringify(a)),o.set("jform[title]",t.title),o.set("jform[builder]","frontend"),o.set("jform[type]",t.type),o.set("jform[state]","1"),o.set("jform[id]","0"),o.set("type","collection"),o.set(l,1),(0,n.default)({method:"post",url:"index.php?option=com_quix&task=collection.save",data:o,config:{headers:{"Content-Type":"multipart/form-data"}}}).then(e=>{let t=e.data;"object"==typeof t?t.success?(this.setState({showImportModal:!1}),i.default.success("Imported successfully!"),s.default.emit("RELOAD_TEMPLATES")):(i.default.warning(t.message),s.default.emit("RELOAD_TEMPLATES")):i.default.error(t)}).catch(e=>this.setState({process:!1}))})}render(){const e={data:this.onFileUploadDone.bind(this)};return r.default.createElement(c.default,{width:550,classes:"quix-library-importer",show:this.state.showImportModal,close:this.importModal.bind(this,{close:!0}),title:"Import To Library",footer:!1,closable:!0,onCancel:this.importModal.bind(this,{close:!0}),closeModal:this.importModal.bind(this,{close:!0})},r.default.createElement("div",{className:"qx-fb-infobox qx-text-center"},r.default.createElement("div",{className:"qx-mt-3"},r.default.createElement("i",{className:"qxuicon-conveyor-belt-alt qx-fb-title-icon"}),r.default.createElement("h2",null,"Import Template To Library")),r.default.createElement("div",{className:"qx-fb-infobox qx-text-center qx-mt-4"},r.default.createElement(h,l({prefixCls:"qxui-upload"},e),r.default.createElement("div",{className:"qx-p-5"},r.default.createElement("i",{className:"qxuicon-inbox-in qx-fb-title-icon"}),r.default.createElement("p",{className:"qx-mt-3"},"Click or drop your ",r.default.createElement("code",null,".json")," template file here."))))))}}},1529:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let a=e.name.split(".").pop(),l=-1!==t.indexOf(a);return new Promise(function(t,a){if(l){var n=new FileReader;n.onload=(e=>{t(n.result)}),n.readAsText(e)}else a("invalid file type!!")})}},1530:function(e,t,a){"use strict";var l,n=a(59),s=(l=n)&&l.__esModule?l:{default:l};a(45);e.exports={openPresetsScreen(e){s.default.dispatch("OPEN_PRESETS_SCREEN",{path:e})},openPresetsLayoutScreen(e){s.default.dispatch("OPEN_PRESETS_LAYOUT_SCREEN",{path:e})},hidePresetsScreen(){s.default.dispatch("HIDE_PRESETS_SCREEN")},hidePresetsLayoutScreen(){s.default.dispatch("HIDE_PRESETS_LAYOUT_SCREEN")},setContainerWidth(e){s.default.dispatch("SET_CONTAINER_WIDTH",{width:e})}}},1531:function(e,t,a){"use strict";var l;Object.defineProperty(t,"__esModule",{value:!0});var n=g(a(65)),s=g(a(26)),i=g(a(18)),o=g(a(1532)),r=g(a(107)),d=(g(a(2)),g(a(56))),u=g(a(1534)),c=a(1),p=g(c),h=g(a(67)),f=g(a(435)),m=g(a(38));function g(e){return e&&e.__esModule?e:{default:e}}let v=(0,h.default)({visible:[["meta"],e=>e.getIn(["imageOptimizationModal","visible"])],nodes:[["nodes"],e=>e.get("nodes")],NEED_IMAGE_OPTIMIZATION:[["meta"],e=>e.get("NEED_IMAGE_OPTIMIZATION")]})(l=class extends c.Component{constructor(e){super(e),this.state={images:[],optimizedImage:[],unOptimizedImage:[],optimization_processing:!1,currently_processing:"",is_pro_user:!1,reoptimized:!1},this.optimized=this.optimized.bind(this)}componentDidMount(){n.default.get("index.php?option=com_quix&task=api.validation").then(e=>this.setState({is_pro_user:e.data.success}))}componentWillReceiveProps(e){if(this.props.visible!=e.visible){const e=JSON.stringify(this.props.nodes.toJS());let n=[];for(var t,a=[],l=/"([^"'!:]*.(?:jpg|jpeg|JPG|JPEG))"/g;t=l.exec(e);){let e=t[1].replace("/","");this.state.optimizedImage.includes(e)||n.push(e),a.includes(e)||a.push(e)}this.setState({images:a,unOptimizedImage:n})}void 0===this.props.NEED_IMAGE_OPTIMIZATION&&reactor.dispatch("NEED_IMAGE_OPTIMIZATION")}optimized(e,t){e=e||!1,t=0!=t;const a="index.php?option=com_quix&task=api.imageOptimization&"+jQuery("#jform_token").attr("name")+"="+jQuery("#jform_token").val();let l=null==document.getElementById("jform_template_type")?document.getElementById("jform_type").value:document.getElementById("jform_template_type").value;window.parent.jQuery(".qxui-btn.qxui-btn-lg").addClass("disabled"),e&&t&&(this.state.unOptimizedImage=_.merge(this.state.optimizedImage,this.state.unOptimizedImage),this.setState({optimizedImage:[]}));let i=_.clone(this.state.unOptimizedImage),o=i.shift(),r=this.state.unOptimizedImage.length;if(this.setState({optimization_processing:!0,reoptimized:e,currently_processing:o}),!o)return s.default.success("Already optimized"),window.parent.jQuery(".qxui-btn.qxui-btn-lg").removeClass("disabled"),reactor.dispatch("CLOSE_IMAGE_OPTIMIZATION_RESULT_MODAL"),reactor.dispatch("NO_NEED_IMAGE_OPTIMIZATION"),void this.setState({optimization_processing:!1});let d=new FormData;d.set("image",o),d.set("id",document.getElementById("jform_id").value),d.set("type",l),d.set("total_images",i.length),d.set("reoptimized",e),n.default.post(a,d).then(t=>{if((t=t.data).success){let t=this.state.optimizedImage;t.push(o),this.setState({optimizedImage:t,unOptimizedImage:i}),window.optimizedImage=t,0==--r?(window.parent.jQuery(".qxui-btn.qxui-btn-lg").removeClass("disabled"),reactor.dispatch("CLOSE_IMAGE_OPTIMIZATION_RESULT_MODAL"),reactor.dispatch("NO_NEED_IMAGE_OPTIMIZATION"),this.setState({optimization_processing:!1}),s.default.success("Image optimized"),this.setState({optimization_processing:!1})):this.optimized(e,!1)}}),0==r&&(window.parent.jQuery(".qxui-btn.qxui-btn-lg").removeClass("disabled"),reactor.dispatch("CLOSE_IMAGE_OPTIMIZATION_RESULT_MODAL"),reactor.dispatch("NO_NEED_IMAGE_OPTIMIZATION"),this.setState({optimization_processing:!1}),s.default.success("Image optimized"),this.setState({optimization_processing:!1}))}closeModal(){reactor.dispatch("CLOSE_IMAGE_OPTIMIZATION_RESULT_MODAL")}title(e){let t=this.state.optimizedImage.includes(e),a=p.default.createElement(i.default,{type:"info-circle"});return this.state.optimization_processing?a=p.default.createElement(r.default,{size:"small",prefixCls:"qxui-spin"}):t&&(a=p.default.createElement(i.default,{type:"check"})),e}getIcon(e){let t=this.state.optimizedImage.includes(e),a=p.default.createElement(m.default,{title:"Not checked yet!",getTooltipContainer:()=>window.parent.document.body},p.default.createElement(i.default,{type:"info-circle"}));return!this.state.optimization_processing&&this.state.unOptimizedImage.includes(e)?a=a:this.state.optimization_processing&&!t&&this.state.currently_processing==e?a=p.default.createElement(m.default,{title:"Processing...",getTooltipContainer:()=>window.parent.document.body},p.default.createElement(r.default,{size:"small",prefixCls:"qxui-spin"})):t&&(a=p.default.createElement(m.default,{title:"Already optimised.",getTooltipContainer:()=>window.parent.document.body},p.default.createElement(i.default,{type:"check"}))),a}getOptimizationJsx(){return p.default.createElement("div",{className:"image-optimization"},p.default.createElement("h4",{className:"image-optimization__message"},"Image Optimization only support JPG and JPEG"),p.default.createElement(o.default,{prefixCls:"qxui-list",itemLayout:"horizontal",dataSource:this.state.images,size:"small",renderItem:e=>p.default.createElement(o.default.Item,{prefixCls:"qxui-list"},p.default.createElement(o.default.Item.Meta,{prefixCls:"qxui-list",avatar:p.default.createElement(u.default,{prefixCls:"qxui-avatar",src:FILE_MANAGER_ROOT_URL+e}),title:e,description:this.getIcon(e)}))}))}render(){let e=this.props.visible,t=this.state.is_pro_user?[p.default.createElement("button",{key:"image-optimize",className:"qxui-btn qxui-btn-primary qxui-btn-lg",onClick:this.optimized.bind(this,!1)}," ",p.default.createElement("i",{className:"qxuicon-check"})," Optimize "),p.default.createElement("button",{key:"re-image-optimize",className:"qxui-btn qxui-btn-secondary qxui-btn-lg",onClick:this.optimized.bind(this,!0),style:{background:"orange",color:"#fff"}}," ",p.default.createElement("i",{className:"qxuicon-recycle"})," Re-Optimize")]:null;return p.default.createElement(d.default,{className:"proActivationModal qxui-modal--with-tab modal--small",title:"Image Optimization",show:e,close:this.closeModal,dismisible:!0,footer:t},this.state.is_pro_user?this.getOptimizationJsx():p.default.createElement(f.default,null))}})||l;t.default=v},1535:function(e,t,a){(function(t){e.exports=t.reactor=a(59)}).call(this,a(30))},1536:function(e,t,a){(function(t){e.exports=t.dump=a(1537)}).call(this,a(30))},1537:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dump=function(e){}},1539:function(e,t,a){(function(e){a(692);Object.defineProperty(t,"__esModule",{value:!0});var l=i(a(692)),n=i(a(2)),s=(a(25),i(a(76)));function i(e){return e&&e.__esModule?e:{default:e}}l.default.extendFilter("wrap",function(e,t){let a=t[0];return`<${a}> ${e} </${a}>`}),l.default.extendFilter("json_decode",function(e){return _.isEmpty(e)?"":JSON.parse(e)}),l.default.extendFilter("removeLines",function(e){return e.replace(/(\r\n|\n|\r)/gm,"")}),l.default.extendFilter("link",function(e,t){let a=t[0].url,l=t[0].target,n=t[0].nofollow,s="",i="";return t[1]&&(s='class="'+t[1]+'"'),t[2]&&(i=" "+t[2]),l=l?'target="_blank"':"",n=n?'rel="nofollow"':"",a?`<a ${s} href="${a}" ${l} ${n}${i}> ${e} </a>`:`${e}`}),l.default.extendFunction("startTag",function(e,t){return`<${e} ${t}>`}),l.default.extendFunction("loadSvg",function(e){return _.startsWith(e,"<svg")||_.startsWith(e,"<?xml")?e:`<i class="${e}"></i>`}),l.default.extendFunction("prepareWidthValue",function(e){return e.unit?e:{unit:"%",value:e}}),l.default.extendFunction("prepareResponsiveValue",function(e){if(void 0!==e.desktop)return e.unit=_.isEmpty(e.unit)?"px":e.unit,e;{let t=e.value;return t.unit=void 0===e.unit?"px":e.unit,t}}),l.default.extendFunction("prepareSvgSizeValue",function(e=""){return"object"==typeof e?e:{value:e,unit:"px"}}),l.default.extendFunction("visibilityClass",function(e){return""}),l.default.extendFunction("visibilityClassNode",function(e){return""}),l.default.extendFunction("image",function(e,t,a=""){if(_.isEmpty(e))return"<span>No Image found!</span>";let l;return"object"==typeof e&&null!=e.url&&(e=e.url),`<img draggable="false" src="${l=_.startsWith(e,"data:image")||_.startsWith(e,"http")?e:_.startsWith(e,"libraries")?quix.url+"/"+e:_.startsWith(e,"images")?quix.url+"/"+e:FILE_MANAGER_ROOT_URL+e.replace(/^\//,"")}" alt="${t}" class="${a}" />`}),l.default.extendFunction("imageUrl",function(e){if(_.isEmpty(e))return"";let t;return"object"==typeof e&&null!=e.url&&(e=e.url),t=_.startsWith(e,"data:image")||_.startsWith(e,"http")?e:_.startsWith(e,"libraries")?quix.url+"/"+e:_.startsWith(e,"images")?quix.url+"/"+e:FILE_MANAGER_ROOT_URL+e.replace(/^\//,"")}),l.default.extendFunction("video",function(e,t,a,l=" playsInline controls "){let n=FILE_MANAGER_ROOT_URL+t;return`<video id="${e}" poster='${a=FILE_MANAGER_ROOT_URL+a}'${l}>\n    <source type="${"video/"+t.split(".").pop()}" src="${n}" />\n    Your browser does not support the video tag.\n  </video>`}),l.default.extendFunction("getJoomlaModule",function(e,t){let a=`index.php?option=com_quix&task=api.getJoomlaModule&id=${e}&style=${t}&${jQuery("#jform_token").attr("name")}=${jQuery("#jform_token").val()}`;return new Promise(function(e,t){axios.get(a).then(t=>{var a=t.data.replace(/name=|form/gi,function(e){return"x"+e});e(a)})})}),l.default.extendFunction("ElementApiCall",function(e,t){let a=`index.php?option=com_quix&task=ajax&builder=frontend&element=${e}&${jQuery("#jform_token").attr("name")}=1&data=${btoa(JSON.stringify(t))}`;return new Promise(function(e,t){axios.get(a).then(t=>{(t=t.data).success?e(t.data):e(e.messages)})})}),l.default.extendFunction("ajaxPostQuix",function(e,t){let a=jQuery("#jform_token").attr("name"),l=new FormData;for(var n in t)l.set(n,t[n]);let s=`index.php?option=com_quix&task=ajax&builder=frontend&element=${e}&${a}=1`;return new Promise(function(e,t){axios.post(s,l).then(t=>{(t=t.data).success?e(t.data):e(e.messages)})})}),l.default.extendFunction("prepareContent",function(e,t){if(!t)return e;let a=`index.php?option=com_quix&task=api.prepareContent&${jQuery("#jform_token").attr("name")}=1`;var l=new FormData;return l.set("content",e),new Promise(function(e,t){axios({method:"post",url:a,data:l,config:{headers:{"Content-Type":"multipart/form-data"}}}).then(t=>{var a=t.data.replace(/name=|form/gi,function(e){return"x"+e});e(a)})})}),l.default.extendFunction("startsWith",function(e,t){return _.startsWith(e,t)}),l.default.extendFunction("validateJoomlaCaptcha",function(e){return!0}),l.default.extendFunction("captchaPublicKey",function(){return s.default.get("captcha-public-key")}),l.default.extendFunction("classNames",function(){return(0,n.default)(...arguments).replace("_keys","")}),l.default.extendFunction("getOpacity",function(e,t){return e.state[t].opacity}),l.default.extendFunction("wrapper",function(e,t,a=!1,l=!1){return l?"</"+e+">":"<"+e+">"}),l.default.extendFunction("formFooter",function(e,t){return""}),l.default.extendFunction("allfield",function(){return"[]"}),l.default.extendFunction("fieldsGroup",function(e,t){var a=e[t],l={};for(let e=0;e<a.length;e++){let t=a[e];l[t.name]=t}return l}),l.default.extendFunction("getQuixElementPath",function(){return QUIX_URL+"/app/frontend/elements"}),l.default.extendFunction("raw",function(e,t){return`<img src="${QUIX_URL+e}" alt="${t||""}" />`}),l.default.extendFunction("getFileContent",function(e,t,a){let l=jQuery("#jform_token").attr("name"),n=`index.php?option=com_quix&task=api.getFileContent&source=${e}&path=${btoa(t)}&ext=${a}&${l}=1`,s=localStorage.getItem(n);return s||new Promise(function(e,t){axios.get(n).then(t=>{(t=t.data).success?(localStorage.setItem(n,t.data),e(t.data)):(localStorage.setItem(n,t.messages),e(e.messages))})})}),window.lessThan=function(e,t){return e<t},l.default.extendFunction("lessThan",window.lessThan),window.greaterThan=function(e,t){return e>t},l.default.extendFunction("greaterThan",window.greaterThan),window.greaterThanSign=function(){return">"},l.default.extendFunction("greaterThanSign",window.greaterThanSign),e.twig=l.default.twig,t.default=l.default.twig}).call(this,a(30))},1541:function(e,t){},1542:function(e,t,a){"use strict";var l,n,s,i;l=window.jQuery?window.jQuery:void 0,n=window._?window._:void 0,s=window,(i=s.Assets||{name:"assets-helper",version:"0.0.0",compiledCss:"",fontFamilies:[]})._css={desktop:{},tablet:{},phone:{},raw:""},s.loadGlobalStyles=function(e){if(!e)return;let t=Object.create(i);e.forEach(function(e){let a=e.get?"custom_selector"==e.get("selector")?e.get("custom_selector"):e.get("selector"):"custom_selector"==e.selector?e.custom_selector:e.selector,l=e.get?e.get("rule").toJS?e.get("rule").toJS():e.get("rule"):e.rule;switch(e.get?e.get("rule_type"):e.rule_type){case"typography":t.typography(a,l);break;case"link":t.typography(a,l.normal),t.typography(a+":hover",l.hover);break;case"custom_css":t.raw(`${a} { ${l} }`)}}),t.load("global-styles")},i.storeCompiledCss=function(e,t){const a="index.php?option=com_quix&task=api.storeCompiledCSs&type=element&details=true&"+t+"=1";jQuery.ajax({url:a,type:"post",data:{compiled_css:i.compiledCss,compiled_css_file_name:e,font_families:i.fontFamilies}}),i.compiledCss=""},i.raw=function(e){e&&(i._css.raw||(i._css.raw=""),i._css.raw+=e)},i._responsiveCssRules=function(e,t,a){i._css[e][t]||(i._css[e][t]=""),i._css[e][t]+=a},i.desktop=function(e,t){i._responsiveCssRules("desktop",e,t)},i.tablet=function(e,t){i._responsiveCssRules("tablet",e,t)},i.phone=function(e,t){i._responsiveCssRules("phone",e,t)},i.css=function(e,t,a){if(n.isObject(a)){if(!a.value)return;i.desktop(e,i._prop(t,a.value))}else i.desktop(e,i._prop(t,a))},i.margin=function(e,t){i.desktop(e,i._cssForDimensions(t,t.unit,"margin")),t.responsive&&(i.tablet(e,i._cssForDimensions(t.tablet,t.unit,"margin")),i.phone(e,i._cssForDimensions(t.phone,t.unit,"margin")))},i.padding=function(e,t){i.desktop(e,i._cssForDimensions(t,t.unit,"padding")),t.responsive&&(i.tablet(e,i._cssForDimensions(t.tablet,t.unit,"padding")),i.phone(e,i._cssForDimensions(t.phone,t.unit,"padding")))},i.width=function(e,t){const a=t.unit||"px";return t=t.value||t,i.responsiveCss(e,t,"width",a)},i.height=function(e,t){const a=t.unit||"px";return t=t.value||t,i.responsiveCss(e,t,"height",a)},i.minHeight=function(e,t){const a=t.unit||"px";return t=t.value||t,i.responsiveCss(e,t,"min-height",a)},i.typography=function(e,t){if(!n.isEmpty(t.family)&&(i.css(e,"font-family",t.family),i.fontFamilies.includes(t.family)||i.fontFamilies.push(t.family),!jQuery('link[href="http://fonts.googleapis.com/css?family='+t.family.replace(" ","+")+'"]').length))try{WebFont.load({google:{families:[`${t.family}:${t.weight}`]}})}catch(e){}n.isEmpty(t.weight)||i.fontWeight(e,t.weight),n.isEmpty(t.size)||i.fontSize(e,t.size),n.isEmpty(t.transform)||i.css(e,"text-transform",t.transform),n.isEmpty(t.style)||i.css(e,"font-style",t.style),n.isEmpty(t.decoration)||i.css(e,"text-decoration",t.decoration),n.isEmpty(t.height)||i.lineHeight(e,t.height),n.isEmpty(t.spacing)||i.letterSpacing(e,t.spacing),t.text_shadow&&(n.isEmpty(t.text_shadow.color)||i.css(e,"text-shadow",t.text_shadow.color+" "+t.text_shadow.horizontal.value+t.text_shadow.horizontal.unit+" "+t.text_shadow.vertical.value+t.text_shadow.vertical.unit+" "+t.text_shadow.blur.value+t.text_shadow.blur.unit))},i.fontWeight=function(e,t){var a=!1;switch(t){case"100":t=100;break;case"200":t=200;break;case"300":t=300;break;case"400":t=400;break;case"500":t=500;break;case"600":t=600;break;case"700":t=700;break;case"800":t=800;case"900":t=900;break;case"regular":t=400;break;case"100italic":t=100,a=!0;break;case"300italic":t=300,a=!0;break;case"500italic":t=500,a=!0;break;case"600italic":t=600,a=!0;break;case"700italic":t=700,a=!0;break;case"800italic":t=800,a=!0;break;case"900italic":t=900,a=!0}i.css(e,"font-weight",t),a&&i.css(e,"font-style","italic")},i.fontSize=function(e,t){const a=t.unit||"px";t=t.value||t,i.responsiveCss(e,t,"font-size",a)},i.lineHeight=function(e,t){const a=t.unit||"em";t=t.value||t,i.responsiveCss(e,t,"line-height",a)},i.letterSpacing=function(e,t){const a=t.unit||"px";t=t.value||t,i.responsiveCss(e,t,"letter-spacing",a)},i.alignment=function(e,t){n.isEmpty(t)||(n.isEmpty(t.desktop.value)||i.desktop(e,i._prop("text-align",t.desktop.value)),t.responsive&&(n.isEmpty(t.tablet.value)||i.tablet(e,i._prop("text-align",t.tablet.value)),n.isEmpty(t.phone.value)||i.phone(e,i._prop("text-align",t.phone.value))))},i.float=function(e,t){"left"!=t.desktop&&"right"!=t.desktop||i.desktop(e,i._prop("float",t.desktop)),t.responsive&&("left"!=t.tablet&&"right"!=t.tablet||i.tablet(e,i._prop("float",t.tablet)),"left"!=t.phone&&"right"!=t.phone||i.phone(e,i._prop("float",t.phone)))},i.background=function(e,t,a){var l=t.state;if(l){var s=l.normal;if("gradient"==s.type){var o=s.properties.color_1,r=s.properties.color_2,d=s.properties.type,u=s.properties.direction.value?s.properties.direction.value:s.properties.direction,c=s.properties.start_position.value?s.properties.start_position.value:s.properties.start_position;c+="%";var p=s.properties.end_position.value?s.properties.end_position.value:s.properties.end_position,h=o+" "+c+","+r+" "+(p+="%");"linear"==d&&(h=(u+="deg").value?u.value:u+", "+h,i.css(e,"background","linear-gradient("+h+")")),"radial"==d&&(h=(u="at "+u)+", "+h,i.css(e,"background","radial-gradient("+h+")"))}if("classic"==s.type&&(n.isEmpty(s.properties.color)||i.css(e,"background-color",s.properties.color),!n.isEmpty(s.properties.src))){let t=s.properties.src;n.isNull(t.url)?n.isNull(t.media)||n.isNull(t.media.type)||"svg"!=t.media.type&&i.css(e,"background-image",'url("'+FILE_MANAGER_ROOT_URL+t.media.image+'")'):i.css(e,"background-image",'url("'+t.url+'")'),i.css(e,"background-size",s.properties.size),i.css(e,"background-position",s.properties.position),i.css(e,"background-repeat",s.properties.repeat),s.properties.parallax&&"css"===s.properties.parallax_method&&i.css(e,"background-attachment","fixed"),"normal"!=s.properties.blend&&i.css(e,"background-blend-mode",s.properties.blend)}s.required_opacity&&i.css(e,"opacity",s.opacity);var f=l.hover,m=e;if(a?e=a+":hover "+e:e+=":hover","gradient"==f.type&&(o=f.properties.color_1,r=f.properties.color_2,d=f.properties.type,u=f.properties.direction.value?f.properties.direction.value:f.properties.direction,c=f.properties.start_position.value?f.properties.start_position.value:f.properties.start_position,c+="%",p=f.properties.end_position.value?f.properties.end_position.value:f.properties.end_position,h=o+" "+c+","+r+" "+(p+="%"),"linear"==d&&(h=(u+="deg").value?u.value:u+", "+h,i.css(e,"background","linear-gradient("+h+")")),"radial"==d&&(h=(u="at "+u)+", "+h,i.css(e,"background","radial-gradient("+h+")")),f.required_transition&&(v=(v="background "+(g=f.transition.value?f.transition.value:f.transition)+"s, opacity "+g+"s ease-in")+", border "+g+"s ease-in, box-shadow "+g+"s ease-in",i.css(m,"transition",v))),"classic"==f.type){if(n.isEmpty(f.properties.color)||i.css(e,"background-color",f.properties.color),!n.isEmpty(f.properties.src)){let t=f.properties.src;n.isNull(t.url)?n.isNull(t.media)||n.isNull(t.media.type)||"svg"!=t.media.type&&i.css(e,"background-image",'url("'+FILE_MANAGER_ROOT_URL+t.media.image+'")'):i.css(e,"background-image",'url("'+t.url+'")'),i.css(e,"background-size",f.properties.size),i.css(e,"background-position",f.properties.position),i.css(e,"background-repeat",f.properties.repeat),"normal"!=f.properties.blend&&i.css(e,"background-blend-mode",f.properties.blend)}var g,v;!f.required_transition||n.isEmpty(f.properties.color)&&n.isEmpty(f.properties.src)||(v=(v="background "+(g=f.transition.value?f.transition.value:f.transition)+"s, opacity "+g+"s ease-in")+", border "+g+"s ease-in, box-shadow "+g+"s ease-in",i.css(m,"transition",v))}f.required_opacity&&i.css(e,"opacity",f.opacity)}},i.border=function(e,t,a){var l=t.state;if(l){var n=l.normal;"none"!==n.properties.border_type&&(i.css(e,"border-style",n.properties.border_type),i.css(e,"border-color",n.properties.border_color),i.desktop(e,i._cssForBorderWidth(n.properties.border_width,n.properties.border_width.unit)),i.desktop(e,i._cssForBorderRadius(n.properties.border_radius,n.properties.border_radius.unit)));var s=n.properties.box_shadow;if(s.color){var o=("inset"==s.position?"inset ":"")+s.horizontal.value+s.horizontal.unit+" "+s.vertical.value+s.vertical.unit+" "+s.blur.value+s.blur.unit+" "+s.spread.value+s.spread.unit+" "+s.color;i.css(e,"box-shadow",o)}var r=l.hover;"none"!==r.properties.border_type&&(i.css(e+":hover","border-style",r.properties.border_type),i.css(e+":hover","border-color",r.properties.border_color),i.desktop(e+":hover",i._cssForBorderWidth(r.properties.border_width,r.properties.border_width.unit)),i.desktop(e+":hover",i._cssForBorderRadius(r.properties.border_radius,r.properties.border_radius.unit)));var d=r.properties.box_shadow;if(d.color){var u=("inset"==d.position?"inset ":"")+d.horizontal.value+d.horizontal.unit+" "+d.vertical.value+d.vertical.unit+" "+d.blur.value+d.blur.unit+" "+d.spread.value+d.spread.unit+" "+d.color;i.css(e+":hover","box-shadow",u)}var c=r.properties.transition.value?r.properties.transition.value:r.properties.transition,p="border "+c+"s ease-in, box-shadow "+c+"s ease-in";p=p+",background "+c+"s, opacity "+c+"s ease-in",i.css(e,"transition",p)}},i.borderWidth=function(e,t){i.desktop(e,i._cssForBorderWidth(t)),t.responsive&&(i.tablet(e,i._cssForBorderWidth(t.tablet)),i.phone(e,i._cssForBorderWidth(t.phone)))},i.borderRadius=function(e,t){const a=t.unit||"px";i.desktop(e,i._cssForBorderRadius(t,a)),t.responsive&&(i.tablet(e,i._cssForBorderRadius(t.tablet,a)),i.phone(e,i._cssForBorderRadius(t.phone,a)))},i._cssForBorderWidth=function(e,t){var a="";return t=t||"px",a+=i._prop("border-top-width",e.top+t),a+=i._prop("border-right-width",e.right+t),a+=i._prop("border-bottom-width",e.bottom+t),a+=i._prop("border-left-width",e.left+t)},i._cssForBorderRadius=function(e,t){var a="";return t=t||"px",a+=e.top?i._prop("border-top-left-radius",e.top+t):"",a+=e.right?i._prop("border-top-right-radius",e.right+t):"",a+=e.bottom?i._prop("border-bottom-right-radius",e.bottom+t):"",a+=e.left?i._prop("border-bottom-left-radius",e.left+t):""},i._cssForDimensions=function(e,t,a){var l="";return t=n.isEmpty(t)?"px":t,l+=i._prop(a+"-top",e.top+t),l+=i._prop(a+"-right",e.right+t),l+=i._prop(a+"-bottom",e.bottom+t),l+=i._prop(a+"-left",e.left+t)},i._prop=function(e,t,a){return a=a||null,!t||0==t||0<t||"0%"==t||"0px"==t||"0em"==t||"0rem"==t||"0vh"==t||n.isEmpty(t)?n.isNumber(t)&&0!=t?e+" : "+t+"; ":-1!=["padding-bottom","padding-top","padding-right","padding-left","margin-bottom","margin-top","margin-right","margin-left","border-width","border-top-width","border-bottom-width","border-right-width","border-left-width"].indexOf(e)?e+" : "+t+"; ":"":"px"==t||"rem"==t||"em"==t||"vh"==t||"%"==t?"":e+" : "+t+"; "},i.responsiveCss=function(e,t,a,l){l=l||"",n.isEmpty(t.desktop)&&!n.isNumber(t.desktop)||i.desktop(e,i._prop(a,t.desktop+l)),t.responsive&&(n.isEmpty(t.tablet)&&!n.isNumber(t.desktop)||i.tablet(e,i._prop(a,t.tablet+l)),n.isEmpty(t.phone)&&!n.isNumber(t.desktop)||i.phone(e,i._prop(a,t.phone+l)))},i._appendStyleSheet=function(e,t,a){var n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e)),a?(t=a.replace("#",""),s.id=t,l("style#"+t).remove()):(t=t.replace("#",""),s.id=t,l("style#"+t).remove()),n.appendChild(s)},i.getQueryVariable=function(e){for(var t=window.location.search.substring(1).split("&"),a=0;a<t.length;a++){var l=t[a].split("=");if(decodeURIComponent(l[0])==e)return decodeURIComponent(l[1])}},i.load=function(e,t){var a="",l="@media (min-width: 768px) and (max-width: 1024px) { ",n="@media (max-width: 767px) { ";for(var s in i._css.desktop)a+=s+" { "+i._css.desktop[s]+" } ";for(var s in i._css.tablet)l+=s+" { "+i._css.tablet[s]+" } ";for(var s in l+=" } ",i._css.phone)n+=s+" { "+i._css.phone[s]+" } ";n+=" } ";let o=i._css.raw?i._css.raw:"";i._appendStyleSheet(a+l+n+o,e,t),i.compiledCss+=a+l+n+o,i._css={desktop:{},tablet:{},phone:{}}},s.Assets=i},1543:function(e,t,a){"use strict";var l,n,s,i,o;window.twig&&(l=window.jQuery?window.jQuery:void 0,n=window._?window._:void 0,s=window.twig?window.twig:void 0,i=window,(o=i.Assets||{name:"assets-helper",version:"0.0.0"}).loadedElement=[],o.init=function(){document.createElement("QuixTemplate"),document.createElement("QuixHtml"),document.createElement("QuixStyle"),document.createElement("QuixScript"),l(function(){l("QuixTemplate").css({display:"none"})});let e=jQuery("#jform_token").attr("name");axios.get(`index.php?option=com_quix&task=api.getFileContent&file=animation&${e}=1`).then(function(t){s({id:"animation.twig",data:t.data}),axios.get(`index.php?option=com_quix&task=api.getFileContent&file=global&${e}=1`).then(function(e){s({id:"global.twig",data:e.data}),"function"==typeof window.parent.window.loadQuixComponentBuilder&&window.parent.window.loadQuixComponentBuilder()})})},o._replaceAll=function(e,t,a){return e.replace(new RegExp(t,"g"),a)},o.html=function(e,t,a){if(t=t||{},l("QuixTemplate"+e+" QuixHtml").html())return s({allowInlineIncludes:!0,data:l("QuixTemplate"+e+" QuixHtml").html()}).renderAsync(Object.assign(t,{$:l,_:n,Assets:o,FILE_MANAGER_ROOT_URL:FILE_MANAGER_ROOT_URL})).then(function(e){if(e=o._replaceAll(e,"&lt;","<"),e=o._replaceAll(e,"&gt;",">"),!a)return e;l(a).html(e)})},o.style=function(e,t,a){if(t=t||{},l("QuixTemplate"+e+" QuixStyle").html()){var i=s({allowInlineIncludes:!0,data:l("QuixTemplate"+e+" QuixStyle").html()}).render(Object.assign(t,{$:l,_:n,Assets:o,FILE_MANAGER_ROOT_URL:FILE_MANAGER_ROOT_URL})),r=document.createElement("script");if(r.innerHTML=i,a){var d=a.replace("#","");r.id=d}else d=e.replace("#",""),r.id=d;l("script#"+d).remove(),document.body.appendChild(r),o.load(e,a)}},o.script=function(e,t,a){if(t=t||{},l("QuixTemplate"+e+" QuixScript").html()){var i=s({allowInlineIncludes:!0,data:l("QuixTemplate"+e+" QuixScript").html()}).render(Object.assign(t,{$:l,_:n,Assets:o,FILE_MANAGER_ROOT_URL:FILE_MANAGER_ROOT_URL})),r=l("QuixTemplate"+e+" QuixScript").attr("dependencies")?l("QuixTemplate"+e+" QuixScript").attr("dependencies").split(","):[];if(-1==l.inArray(e,o.loadedElement))for(let e in r){var d=document.createElement("script"),u="";window.QUIX_URL&&(u=window.QUIX_URL+r[e].replace(/\s/g,"")),d.src=u,document.head.appendChild(d)}var c=document.createElement("script");c.innerHTML=i,a?(id=a.replace("#",""),c.id=id):(id=e.replace("#",""),c.id=id),l("script#"+id).remove(),document.body.appendChild(c),o.loadedElement.push(e)}},o.render=function(e,t,a){if(-1==e.indexOf("#"))return s({allowInlineIncludes:!0,data:e}).render(Object.assign(t,{$:l,_:n,Assets:o,FILE_MANAGER_ROOT_URL:FILE_MANAGER_ROOT_URL}));o.style(e,t,a);var i=Math.random().toFixed(4),r=o.html(e,t);if(n.isObject(r))r.then(function(n){var s=n;if(!a)return s;l("div"+a).html(s),o.script(e,t)});else{var d="<div id='"+e+"-"+i+"'><div>"+r+"</div></div>";if(!a)return d;l("div"+a).html(d),o.script(e,t)}},o.init(),i.Assets=o)},1544:function(e,t,a){"use strict";var l,n;window._&&window._,l=window,(n=l.Assets||{name:"assets-helper",version:"0.0.0"}).image=function(e){var t=l.location.hostname,a=80==l.location.port?"":":"+l.location.port,n=l.location.protocol,s=["http","https","//"];for(key in s)if(-1!=e.indexOf(s[key]))return e;return n+"//"+t+a+"/"+e},l.Assets=n},1545:function(e,t,a){"use strict";var l=s(a(157)),n=(s(a(1)),s(a(67)),s(a(106)));function s(e){return e&&e.__esModule?e:{default:e}}window.addEventListener("beforeunload",function(e){var t=document.getElementById("jform_data").value,a="";if("collection"===window.parent.QuixBuilderType){var s=window.parent.document.getElementById("jform_template_type").value,i=reactor.evaluate(["nodes","nodes"]).map(n.default).toJS(),o={type:s,data:i};(0,l.default)(s)||"section"!=s||(o.data=i[0]),a=JSON.stringify(o)}else a=JSON.stringify(reactor.evaluate(["nodes","nodes"]).map(n.default).toJS());if(0==a.length&&(a=""),t!==a||1==window.PageChanged){var r="It looks like you have been editing something. ";return r+="If you leave before saving, your changes will be lost.",(e||window.event).returnValue=r,r}return!0})},176:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l,n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),i=a(409),o=(l=i)&&l.__esModule?l:{default:l};var r=function(){function e(t){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initRgb=function(){var e=a.color.toRgb(),t=e.r,l=e.g,n=e.b;a.redValue=t,a.greenValue=l,a.blueValue=n},this.initHsb=function(){var e=a.color.toHsv(),t=e.h,l=e.s,n=e.v;a.hueValue=t,a.saturationValue=l,a.brightnessValue=n},this.toHexString=function(){return a.color.toHexString()},this.toRgbString=function(){return a.color.toRgbString()},this.color=(0,o.default)(t),this.initRgb(),this.initHsb();var l=t&&t.alpha||this.color.toRgb().a;this.alphaValue=100*Math.min(1,l)}return e.isValidHex=function(e){return(0,o.default)(e).isValid()},s(e,[{key:"hex",get:function(){return this.color.toHex()}},{key:"hue",set:function(e){this.color=(0,o.default)({h:e,s:this.saturation,v:this.brightness}),this.initRgb(),this.hueValue=e},get:function(){return this.hueValue}},{key:"saturation",set:function(e){this.color=(0,o.default)({h:this.hue,s:e,v:this.brightness}),this.initRgb(),this.saturationValue=e},get:function(){return this.saturationValue}},{key:"lightness",set:function(e){this.color=(0,o.default)({h:this.hue,s:this.saturation,l:e}),this.initRgb(),this.lightnessValue=e},get:function(){return this.lightnessValue}},{key:"brightness",set:function(e){this.color=(0,o.default)({h:this.hue,s:this.saturation,v:e}),this.initRgb(),this.brightnessValue=e},get:function(){return this.brightnessValue}},{key:"red",set:function(e){var t=this.color.toRgb();this.color=(0,o.default)(n({},t,{r:e})),this.initHsb(),this.redValue=e},get:function(){return this.redValue}},{key:"green",set:function(e){var t=this.color.toRgb();this.color=(0,o.default)(n({},t,{g:e})),this.initHsb(),this.greenValue=e},get:function(){return this.greenValue}},{key:"blue",set:function(e){var t=this.color.toRgb();this.color=(0,o.default)(n({},t,{b:e})),this.initHsb(),this.blueValue=e},get:function(){return this.blueValue}},{key:"alpha",set:function(e){this.color.setAlpha(e/100)},get:function(){return 100*this.color.getAlpha()}},{key:"RGB",get:function(){return[this.red,this.green,this.blue]}},{key:"HSB",get:function(){return[this.hue,this.saturation,this.brightness]}}]),e}();t.default=r,e.exports=t.default},220:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e};t.default=function(e){return class extends o.Component{constructor(e){super(e),this.deleteNode=i.default.bind(this),this.duplicateNode=u.default.bind(this),this.copyNode=n.default.bind(this),this.pasteNode=s.default.bind(this),this.openSettingsModal=c.default.bind(this),this.toggleNodeVisibility=p.default.bind(this),this.updateTitle=d.default.bind(this)}render(){return r.default.createElement(e,l({},this.props,{deleteNode:this.deleteNode,duplicateNode:this.duplicateNode,copyNode:this.copyNode,pasteNode:this.pasteNode,openSettingsModal:this.openSettingsModal,toggleNodeVisibility:this.toggleNodeVisibility,updateTitle:this.updateTitle}))}}};var n=h(a(1195)),s=h(a(1196)),i=h(a(1197)),o=a(1),r=h(o),d=h(a(1198)),u=h(a(1199)),c=h(a(1200)),p=h(a(1201));function h(e){return e&&e.__esModule?e:{default:e}}},221:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e=>{e.field=((t,a)=>{if(!(a=a||e.state.field)[t]){let e=["margin","padding","background"];return-1!=_.indexOf(e,t)?{}:""}return void 0===a[t].value?a[t]:a[t].value})})},226:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dragCollect=function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}},t.dragSource=function(e){return{beginDrag(t){let a=t.path;return window.jQuery("body").addClass("qx-dragging-body"),"section"!=t.slug&&"Section"!=t.name||window.jQuery("body").addClass("qx-dragging-section"),{source:e,path:a}},endDrag(e){s.default.emit("REMOVE_PLACEHOLDER"),window.jQuery("body").removeClass("qx-dragging-body"),"section"!=e.slug&&"Section"!=e.name||(window.jQuery("body").removeClass("qx-dragging-section").addClass("qx-dragging-section-removing"),setTimeout(function(){window.jQuery("body").removeClass("qx-dragging-section-removing")},500))}}};var l,n=a(14),s=(l=n)&&l.__esModule?l:{default:l}},227:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.slice().concat(["children"])}},231:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=E(a(83)),n=E(a(1259)),s=E(a(219)),i=E(a(70)),o=E(a(1261)),r=E(a(26)),d=E(a(61)),u=(E(a(2)),E(a(24))),c=E(a(118)),p=a(1),h=E(p),f=E(a(1308)),m=E(a(1310)),g=E(a(119)),v=E(a(1368)),b=(E(a(1383)),E(a(1387))),_=E(a(46));function E(e){return e&&e.__esModule?e:{default:e}}const y=window.parent.document.createElement("div");window.parent.document.body.append(y);const x="rgba(0, 0, 0, 1)",C={value:30,unit:"px"},w=document.getElementById("jform_token").name,S=(0,m.default)(`${quix.url}/index.php?option=com_quix&task=api.uploadMedia&${w}=1`,y);window.ReactFileManager.registerPlugin(v.default),window.ReactFileManager.registerPlugin(b.default,{api_key:"adadd32119ba45bcc6cdfc7c8fe2c2c54cd4fcd89e6fca21b503308dd4bd3f2d"});const N=["svg","image","video"];let O=class extends p.Component{constructor(e){super(e),this.state={url:null},this.onReset=this.onReset.bind(this),this.handleReset=this.handleReset.bind(this),this.handleChange=this.handleChange.bind(this),this.renderSvgSettings=this.renderSvgSettings.bind(this),this.fileSelectCallback=this.fileSelectCallback.bind(this),this.getLabelMarkup=this.getLabelMarkup.bind(this),this.getHelpMarkup=this.getHelpMarkup.bind(this),this.loadSvg=this.loadSvg.bind(this)}fileSelectCallback(e){if(-1!=(0,o.default)(N,e.type)){if("svg"==e.type)this.props.onChange({url:null,media:(0,i.default)(e,{properties:{color:x,size:C}})});else{this.props.onChange({url:null,media:e});let t=e[e.type].split(".");(0,s.default)(t,e=>{"jpg"!=e.toLowerCase()&&"jpeg"!=e.toLowerCase()||reactor.dispatch("NEED_IMAGE_OPTIMIZATION")})}return!0}r.default.error("Only you can select [ "+N.join(", ")+" ]")}handleChange(e){this.props.onChange({url:e,media:null})}handleReset(){this.props.onChange({url:null,media:null})}loadSvg(e){return(0,n.default)(e,"<svg")||(0,n.default)(e,"<?xml")?e:'<i class="'+e+'"></i>'}handleSvgChange({size:e,color:t}){let a=this.props.value.media,l=a.properties;e&&(l=(0,i.default)(l,{size:e})),t&&(l=(0,i.default)(l,{color:t})),this.props.onChange({url:null,media:(0,i.default)(a,{properties:l})})}getPickerPlaceholder(){var e=this.props.value;let t=e.url,a=e.media,n=this.props.filters,s=(0,f.default)(t,"http")||(0,f.default)(t,"\\")||(0,f.default)(t,"//")?t:quix.url+"/"+t;if((0,l.default)(t)&&(0,l.default)(a)){let e="qx-fb-field-image__picker-empty "+this.props.filters.split(",").join(" qx-picker-");return h.default.createElement("div",{className:e,onClick:()=>{S(this.fileSelectCallback,{filters:this.props.filters})}},h.default.createElement("i",{className:"qxuicon-images"}),h.default.createElement("h3",null,"Click here to add image"))}{let e=h.default.createElement("img",{src:(0,l.default)(t)?(0,f.default)(a[a.type],"data:image")?a[a.type]:FILE_MANAGER_ROOT_URL+"/"+a[a.type]:s,onClick:()=>{S(this.fileSelectCallback,{filters:this.props.filters})}});if(a&&"svg"==a.type&&(e=h.default.createElement("div",{className:"media-component-svg-icon",onClick:()=>{S(this.fileSelectCallback,{filters:n})},dangerouslySetInnerHTML:{__html:this.loadSvg(a.svg)}})),a&&"video"==a.type){let n="video/"+(s=(0,l.default)(t)?(0,f.default)(a[a.type],"data:video")?a[a.type]:FILE_MANAGER_ROOT_URL+"/"+a[a.type]:s).split(".").pop();e=h.default.createElement("video",{playsInline:!0,controls:!0},h.default.createElement("source",{type:n,src:s}))}let i="qx-fb-field-image__picker-image "+this.props.filters.split(",").join(" qx-picker-");return h.default.createElement("div",{className:i},e,h.default.createElement(u.default,{onClick:this.handleReset},h.default.createElement("i",{className:"qxuicon-trash-alt"})))}}onReset({color:e,size:t}){let a=this.props.value.media,l=a.properties;l=e?(0,i.default)(l,{color:x}):(0,i.default)(l,{size:C}),this.props.onChange({url:null,media:(0,i.default)(a,{properties:l})})}renderSvgSettings(){let e=this.props.value.media,t=e.properties,a=["px"];e.svg||(t={color:x,size:C},a=["px","%"],this.props.onChange({url:null,media:(0,i.default)(e,{properties:t})}));var l=t;let n=l.color,s=l.size;return h.default.createElement("div",{className:"qx-fb-field-image__svg-settings"},h.default.createElement("div",{className:"qx-fb-field qx-mt-4"},h.default.createElement(c.default,{units:a,defaultUnit:"px",label:"Size",min:0,max:200,value:s,default:0,onChange:e=>this.handleSvgChange({size:e}),responsive:!1,onReset:()=>this.onReset({size:!0})})),h.default.createElement("div",{className:"qx-fb-field"},h.default.createElement(g.default,{label:"Color",onlyColorPicker:!0,labelFor:"background__color",value:n,onChange:e=>this.handleSvgChange({color:e}),onReset:()=>this.onReset({color:!0})})))}getLabelMarkup(){let e=this.props.label;return h.default.createElement("p",{className:"qx-fb-field__label"},e," ",this.getHelpMarkup()," ")}getHelpMarkup(){let e=this.props.help;if(e)return h.default.createElement(_.default,{content:e,prefixCls:"qxui-popover",overlayClassName:"qxui-zi-l",placement:"right",popupStyle:{width:"350px"},getPopupContainer:()=>window.parent.document.body},h.default.createElement("i",{className:"qxuicon-question-circle qx-fb-field__help"}))}render(){var e=this.props;e.label;let t=e.value,a=(e.help,t.url),n=t.media;return h.default.createElement("div",{className:"qx-fb-field-image"},h.default.createElement("div",{className:"qx-fb-field-image__picker"},this.getPickerPlaceholder()),h.default.createElement(d.default,{onlyBaseText:!0,value:(0,l.default)(n)?a:"svg"==n.type?null:n[n.type],onChange:this.handleChange,addonBefore:"URL"}),n&&"svg"==n.type?this.renderSvgSettings():null)}};O.propTypes={},O.defaultProps={},t.default=O},234:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e=>{e.getTabName=(()=>"mobile"==e.getCookie("qx-device")?"phone":e.getCookie("qx-device")),e.getCookie=(e=>{var t=("; "+document.cookie).split("; "+e+"=");if(2==t.length)return t.pop().split(";").shift()})})},24:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=i(a(1)),s=i(a(74));function i(e){return e&&e.__esModule?e:{default:e}}let o=class extends n.default.Component{constructor(e){super(e)}render(){return n.default.createElement(s.default,l({},this.props,{type:this.props.type?this.props.type:"default",icon:this.props.icon,className:this.props.className,prefixCls:"qxui-btn"}),this.props.children)}};o.Group=s.default.Group,t.default=o},26:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=s(a(1)),n=s(a(770));function s(e){return e&&e.__esModule?e:{default:e}}n.default.config({placement:"bottomRight",bottom:50,duration:3,getContainer:()=>window.parent.document.body}),t.default={log(e,t,a="",s="qxuicon-smile"){n.default.open({message:e,description:t,className:a,prefixCls:"qxui-notification",icon:l.default.createElement("i",{className:`${s}`})})},info(e){this.log("Info",e,"qxui-notification---info","qxuicon-meh")},warning(e){this.log("Warning",e,"qxui-notification---warning","qxuicon-meh")},success(e){this.log("Success",e,"qxui-notification---success")},error(e){this.log("Error",e,"qxui-notification---error","qxuicon-frown")}}},288:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.savePage=function(e,t){let a=(0,d.default)(e),l=(0,s.default)(t,a);return l.then(e=>{if(!1===e.data)e.messages.warning?n.default.error(e.messages.warning):n.default.error(e);else{let a=e.data.id;n.default.success("Settings saved successfully"),reactor.dispatch("SAVED_NODES"),0==t&&((0,r.default)(a,e.data.view,e.data.url,e.data.edit),reactor.dispatch("UPDATE_QID",{qid:a})),setTimeout(function(){f(!1)},1e3),window.PageChanged=!1}},e=>{try{e.message?n.default.error(e.message):n.default.error(e)}catch(t){n.default.error(e)}}).then(function(){window.parent.jQuery(".savePage i").removeClass("anticon-loading").removeClass("anticon-spin").addClass("anticon-save")}),l},t.reloadPreview=f,t.saveForm=function(e,t,a=!0){let n=t.map(e=>(0,l.fromJS)((0,u.default)(e.toJS())));(0,o.applyNodeForm)(e,n),a&&(0,i.hideOptions)()},t.previewWindow=function(e,t){let a=`${e}/index.php?option=com_quix&view=${quix.model}&id=${t}`,l=jQuery("#jform_Itemid").val();l&&(a=`${a}&Itemid=${l}`);a=`${a}&preview=true`,p&&p.location&&p.location.reload?(p.location.reload(),n.default.info("Preview Reloaded")):p=window.open(a,"preview");p.focus()};var l=a(22),n=c(a(26)),s=c(a(819)),i=a(88),o=a(33),r=c(a(894)),d=c(a(895)),u=c(a(415));c(a(53));function c(e){return e&&e.__esModule?e:{default:e}}let p=null,h=null;function f(e=!0){if(!e&&null===h)return;if(0==document.getElementById("jform_id").value)return n.default.warning("Please save the page first! then see the preview."),!1;null===h||null===h.parent?h=window.open(atob(document.getElementById("return_url").value)):h&&(h.location.href=atob(document.getElementById("return_url").value))}},289:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=a(413);function n(e){return Math.floor(Math.random()*e)}function s(e){return JSON.parse(JSON.stringify(e))}function i(e,t,a){return e.splice(a,1),-1===e.indexOf(t)}function o(e){}t.default={log:o,prettyPrint:o,copy:s,rand:n,randomId:function(e="",t=1e6){return l.uniqueId(e+n(t))},move:function(e,t,a){let l=s(e);return l.splice(a,0,l.splice(t,1)[0]),l},pushAt:function(e,t,a){let l=e.splice(t);return e.push(a),e.concat(l)},costlyIsEqual:function(e,t){return JSON.stringify(e)===JSON.stringify(t)},isUniqueInArrayExcept:i,isUniquePropInArray:function(e,t,a,n){return i(l.map(e,function(e){return e[a]}),n,t)}}},299:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l,n=a(73),s=(l=n)&&l.__esModule?l:{default:l};let i={current:null,list:[],erase(e){this.list[e]=!1,this.list=this.list.filter(Boolean)},get(){return this.list[this.current].state},canUndo(){return 0<this.current&&1<this.list.length},canRedo(){return this.current!==this.list.length-1},redo(){return this.canRedo()&&this.current++,this.get(this.current)},undo(){return this.canUndo()&&this.current--,this.get(this.current)},shouldHistoryUpdate(e){return!this.list[this.current]||this.list[this.current].state!==e},push(e){if(null===this.current&&(this.current=0),this.list=this.list.slice(0,this.current+1),this.shouldHistoryUpdate(e)){let t=(0,s.default)("history_");this.list.push({state:e,id:t})}return this.current=this.list.length-1,e}};t.default=i},33:function(e,t,a){"use strict";var l,n=a(59),s=(l=n)&&l.__esModule?l:{default:l},i=a(45);e.exports={moveNode(e,t){s.default.dispatch(i.MOVE_NODE,{from:e,to:t})},duplicateNode(e){s.default.dispatch(i.DUPLICATE_NODE,{path:e})},duplicateColumnNode(e){s.default.dispatch(i.DUPLICATE_COLUMN_NODE,{path:e})},copyNode(e){s.default.dispatch(i.COPY_NODE,{path:e})},pasteNode(e){s.default.dispatch(i.PASTE_NODE,{path:e})},addRowNode(e,t=null){s.default.dispatch(i.ADD_ROW_NODE,{path:e,index:t})},copyNodeStyle(e,t,a){s.default.dispatch(i.COPY_NODE_STYLE,{slug:e,path:t,form:a})},pasteNodeStyle(e){s.default.dispatch(i.PASTE_NODE_STYLE,{path:e})},withdrawRowLayous(e,t){s.default.dispatch("WITHDRAW_ROW_LAYOUT",{path:e,children:t})},addSectionNode(e=null){s.default.dispatch(i.ADD_SECTION_NODE,{index:e})},addElementNode(e,t){s.default.dispatch(i.ADD_ELEMENT_NODE,{path:e,element:t})},addColumnNode(e,t=null){s.default.dispatch(i.ADD_COLUMN_NODE,{path:e,index:t})},deleteNode(e){s.default.dispatch(i.DELETE_NODE,{path:e})},forceColumnResize(e,t){s.default.dispatch(i.FORCE_COLUMN_RESIZE,{path:e,size:t})},changeRowLayout(e,t){s.default.dispatch(i.CHANGE_ROW_LAYOUT,{path:e,layout:t})},applyNodeForm(e,t){s.default.dispatch(i.APPLY_NODE_FORM,{path:e,form:t})},setNodeVisibility(e,t,a){s.default.dispatch(i.SET_NODE_VISIBILITY,{path:e,device:t,visibility:a})},changeColumnSize(e,t,a){s.default.dispatch(i.CHANGE_COL_SIZE,{device:e,path:t,size:a})},redo(e){s.default.dispatch(i.REDO,{index:e})},undo(e){s.default.dispatch(i.UNDO,{index:e})},importNodes(e,t=null){s.default.dispatch(i.IMPORT_NODES,{layout:e,index:t})},setDevice(e){s.default.dispatch(i.SET_DEVICE,{device:e})},resetDevice(){s.default.dispatch(i.SET_DEVICE,{device:null})}}},350:function(e,t,a){"use strict";var l,n=a(59),s=(l=n)&&l.__esModule?l:{default:l},i=a(45);e.exports={hideElements(){s.default.dispatch(i.HIDE_ELEMENTS)},showElements(e){s.default.dispatch(i.SHOW_ELEMENTS,{path:e})}}},355:function(e,t,a){"use strict";var l,n=a(59),s=(l=n)&&l.__esModule?l:{default:l},i=a(45);e.exports={hideLayouts(){s.default.dispatch(i.HIDE_LAYOUTS)},showLayouts(e){s.default.dispatch(i.SHOW_LAYOUTS,{path:e})}}},356:function(e,t,a){"use strict";var l,n;Object.defineProperty(t,"__esModule",{value:!0});u(a(2));var s=a(1),i=u(s),o=(u(a(24)),u(a(32))),r=u(a(46)),d=u(a(38));function u(e){return e&&e.__esModule?e:{default:e}}const c=o.default.TextArea;let p=(n=l=class extends s.Component{onChange(e){this.props.onChange(e.target.value)}getLabelMarkup(){let e=this.props.label;return i.default.createElement("p",{className:"qx-fb-field__label"},e," ",this.getHelpMarkup()," ")}getHelpMarkup(){let e=this.props.help;if(e)return i.default.createElement(r.default,{content:e,prefixCls:"qxui-popover",overlayClassName:"qxui-zi-l",placement:"right",popupStyle:{width:"300px"},getPopupContainer:()=>window.parent.document.body},i.default.createElement("i",{className:"qxuicon-question-circle qx-fb-field__help"}))}getResetMarkup(){return this.props.onlyBaseText?null:i.default.createElement(d.default,{title:"Reset to default",overlayClassName:"qxui-zi-l",placement:"left"},i.default.createElement("i",{className:"qxuicon-undo qx-fb-field__reset",onClick:this.props.onReset}))}render(){var e=this.props;e.help,e.label;let t=e.value;return i.default.createElement("div",{className:"qx-fb-field-textarea"},this.getLabelMarkup(),i.default.createElement(c,{rows:4,value:t,onChange:this.onChange.bind(this),prefixCls:"qxui-input"}),this.props.onReset&&!_.isEmpty(t)?this.getResetMarkup():null)}},l.propTypes={},l.defaultProps={},n);t.default=p},38:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e};t.default=function(e){return n.default.createElement(s.default,l({},e,{prefixCls:"qxui-tooltip"}),e.children)};var n=i(a(1)),s=i(a(138));function i(e){return e&&e.__esModule?e:{default:e}}},412:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addSectionNode=function(e,{index:t}){let a=(0,i.newSection)();if(null===t)return t=e.size,e.set(t,a);return(0,s.default)(e,t,a)},t.addRowNode=function(e,{path:t,index:a}){let l=(0,i.newRow)();if(null===a)return a=e.getIn(t).size,t=t.slice().concat([a]),e.setIn(t,l);let n=(0,s.default)(e.getIn(t),a,l);return e.setIn(t,n)},t.addColumnNode=function(e,{path:t,index:a}){let o=(0,i.newColumn)();if(o=o.set("size",(0,n.fromJS)({lg:1/3,md:1/3,sm:1/6,xs:1})),null===a)return a=e.getIn(t).size,t=t.slice().concat([a]),e.setIn(t,o);let r=(0,s.default)(e.getIn(t),a+1,o);if(r.size>12)return e;return r=r.map(e=>{let t=parseFloat(Number(100/r.size).toFixed(5)),a={desktop:t,tablet:t,phone:100};return e=e.set("width",(0,n.fromJS)(a)),jQuery("style#"+e.getIn(["form","advanced","identifier","1","value"])+"-flex").remove(),e.setIn(["form","general","layout_fields_group",1,"value"],(0,n.fromJS)(a))}),setTimeout(()=>{l.default.emit("RESET_COLUMN_WIDTH")},500),e.setIn(t,r)};var l=o(a(14)),n=a(22),s=o(a(104)),i=a(52);function o(e){return e&&e.__esModule?e:{default:e}}},414:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.map(e=>{let t={};t=e.toJS?e.toJS():e;let a=(0,i.default)(t);return(0,n.fromJS)(a)})};var l,n=a(22),s=a(415),i=(l=s)&&l.__esModule?l:{default:l}},415:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=r(a(157)),n=r(a(416)),s=r(a(824)),i=r(a(21)),o=r(a(298));function r(e){return e&&e.__esModule?e:{default:e}}function d(e){return e}function u(e){return(0,o.default)(e,d)}function c(e){let t={};return t[e.name]=e.value,t}function p(e,t){let a={};return e.name?a[e.name]=e.value:(0,i.default)(e)?a=(0,o.default)(e,e=>{let t={};return t[e.name]=e.value,t}):a[t]={},a}t.default=function(e){return(0,s.default)(e,function(e,t,a){let s=t.name;if((0,n.default)(a)&&(s=a),!s)return e;if(t.length||(t.name=s),"fields-group"===t.type&&(e[s]=t.value?t.value.map(c):t.map(c)),"group-repeater"===t.type)e[s]=t.value?t.value.map(u):t.map(u);else try{e[s]=(0,l.default)(t.value)?t.map(p):function(e){return e.value}(t)}catch(e){console.warn("Empty group data from: "+a)}return e},{})}},427:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l,n=a(104),s=(l=n)&&l.__esModule?l:{default:l};t.default=function(e,{from:t,to:a}){let l=a.slice(-1)[0];if(!e.hasIn(t))return e;let n=e.getIn(t),i=e.deleteIn(t),o=i.getIn(a.slice(0,-1));return o=(0,s.default)(o,l,n),i=i.setIn(a.slice(0,-1),o)}},431:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(a,l){return a.update(e,e=>t(e,l))}}},432:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.get("form")&&(e=e.get("form"));return e.map(t=>(function(e,t){return e.map(e=>(function e(t,a){let n=t.get("depends");"group-repeater"===t.get("type")&&(t=t.update("value",t=>t.map(t=>t.map(a=>e(a,t)))));"fields-group"===t.get("type")&&(t=t.update("value",t=>t.map(a=>e(a,t))));if(0===n.size)return t;let s=n.some((e,t)=>{let n=void 0;a.forEach(e=>"fields-group"==e.get("type")?e.get("value").forEach(a=>{if(a.get("name")===t)return n=e,!0}):e.get("name")===t?(n=e,!0):void 0);let s=n;if(s){if("*"===e)return!!s.get("value");if(_.startsWith(e,"extensions")){let t=e.split(":").pop().split(","),a=s.get("value");a.toJS&&(a=a.toJS());let l=a.url,n=a.media,o=void 0;if(a.state&&(o=a.state),o){if(!o.normal.properties.url)return;l=o.normal.properties.url.url,n=o.normal.properties.url.media}for(var i=0;i<t.length&&n;i++)if(_.includes(l,t[i].trim())||_.includes(n[n.type],t[i].trim()))return s.get("value")}if(l.List.isList(e))return e.toJS().includes(s.get("value"));if("fields-group"==s.get("type")){let t=!1;return s.get("value").forEach(a=>{let n=l.List.isList(a.get("value"))?a.get("value").toJS():a.get("value");_.isArray(n)?_.includes(n,e)&&(t=!0):a.get("value")===e&&(t=!0)}),t}return s.get("value")===e}});return t.set("hidden",!s)})(e,t))})(t,e.toList().flatten(1)))};var l=a(22)},433:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addRefsToGroupRepeaterControl=o,t.addRefToSimpleControl=r,t.addRefToControls=function(e){return e.map(d)};var l,n=a(289),s=(l=n)&&l.__esModule?l:{default:l};function i(){return s.default.randomId("ref_")}function o(e){let t,a=e.get("value");if(void 0===a.size)throw t=e.get("name")+" control is a group repeater but do not have any group of controls",new Error(t);return a=a.map(function(e){return e.map(function(e){return r(e)})}),e.set("value",a)}function r(e){return e.set("ref",i())}function d(e){let t=e.get("type");return e=e.set("ref",i()),"group-repeater"===t?o(e):r("input-repeater"===t?function(e){let t=e.get("value").map(t=>r(e.get("schema").set("value",t)));return e.set("controls",t)}(e):e)}},435:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,n=a(1),s=(l=n)&&l.__esModule?l:{default:l};a(900);t.default=class extends n.Component{render(){return s.default.createElement("div",null,this.props.pro?null:s.default.createElement("div",{className:"qx-fb-field-code qx-fb-gopro"},s.default.createElement("div",{className:"qx-fb-gopro__icon"},s.default.createElement("i",{className:"qxuicon-unlock"}),s.default.createElement("sup",{className:"qxui-label qxui-label-success"},"License")),s.default.createElement("p",null,"This features requires you to activate your license. Please insert your username and API key ",s.default.createElement("a",{target:"_blank",href:"administrator/index.php?option=com_quix&action=license"},"here")," to activate it.")))}}},45:function(e,t,a){"use strict";var l,n=a(821),s=(l=n)&&l.__esModule?l:{default:l};e.exports=(0,s.default)({REDO:null,UNDO:null,TIME_TRAVEL:null,IMPORT_NODES:null,FORCE_COLUMN_RESIZE:null,UPDATE_TITLE:null,ADD_ROW_NODE:null,ADD_COLUMN_NODE:null,ADD_SECTION_NODE:null,ADD_ELEMENT_NODE:null,CHANGE_COL_SIZE:null,DUPLICATE_NODE:null,COPY_NODE:null,PASTE_NODE:null,DELETE_NODE:null,MOVE_NODE:null,CHANGE_ROW_LAYOUT:null,SET_NODE_VISIBILITY:null,APPLY_NODE_FORM:null,SAVE_NODES:null,SET_OPTIONS:null,UPDATE_OPTIONS:null,HIDE_OPTIONS:null,SHOW_OPTIONS:null,HIDE_ELEMENTS:null,SHOW_ELEMENTS:null,SHOW_LAYOUTS:null,HIDE_LAYOUTS:null,SELECT_LAYOUT:null,SET_DEVICE:null,COPY_NODE_STYLE:null,PASTE_NODE_STYLE:null,DUPLICATE_COLUMN_NODE:null})},503:function(e,t,a){"use strict";var l,n,s;Object.defineProperty(t,"__esModule",{value:!0});var i=y(a(1156)),o=y(a(14)),r=a(52),d=y(a(0)),u=a(94),c=a(1),p=y(c),h=a(116),f=a(117),m=y(a(27)),g=a(33),v=y(a(24)),b=y(a(38)),E=y(a(520));function y(e){return e&&e.__esModule?e:{default:e}}let x=(0,u.DropTarget)(h.ROW_NODE,(0,f.dropTarget)(!0),f.dropCollect)((s=n=class extends c.Component{constructor(e){super(e),this.shouldComponentUpdate=m.default,this.handleAddRowClick=this.handleAddRowClick.bind(this),this.renderEmptySection=this.renderEmptySection.bind(this),this.renderRow=this.renderRow.bind(this),this.state={id:_.uniqueId("row-layout-id-"),placeholder:!1},this._mounted=!1}componentDidMount(){jQuery("#"+this.state.id).click(),this._mounted=!0,o.default.on("TOGGLE_PLACEHOLDER",e=>{this._mounted&&(this.props.path==e?this.state.placeholder||this.setState({placeholder:!0}):this.state.placeholder&&this.setState({placeholder:!1}))}),o.default.on("REMOVE_PLACEHOLDER",e=>{this._mounted&&this.setState({placeholder:!1})})}componentWillUnmount(){this._mounted=!1,o.default.removeListener("TOGGLE_PLACEHOLDER",e=>{}),o.default.removeListener("REMOVE_PLACEHOLDER",e=>{})}handleAddRowClick(e,t,a){return e=e.slice(),a||(0,g.addRowNode)(e,t),e.concat([t,"children"])}renderEmptySection(){return p.default.createElement("div",{className:"qx-fb-area-blank"},p.default.createElement(E.default,{trigger:"click",callback:this.handleAddRowClick.bind(this),callbackParams:{rowPath:this.props.path,index:0},button:[this.state.placeholder?p.default.createElement("div",{key:this.state.id+"placeholder",className:"qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-top-small qx-animation-fast"}):null,p.default.createElement(b.default,{key:this.state.id+"tooltip",title:"Add Columns"},p.default.createElement(v.default,{key:this.state.id+"button",id:this.state.id,type:"primary",shape:"circle"},p.default.createElement("i",{className:"qxuicon-plus"})))]}))}renderRow(e,t){var a=this.props;let l=a.moveSection,n=a.path,s=a.responsive,o=n.slice().concat([t]),d=this.props.device,u=!d||e.getIn(["visibility",d]),c=r.row.get("form"),h=r.row.get("thumb_file");return p.default.createElement(i.default,{hidePlusIcon:this.props.hidePlusIcon,thumb:h,elementPath:this.props.elementPath,device:d,schema:c,visible:u,key:t,moveSection:l,responsive:s,path:o,name:e.get("name"),children:e.get("children"),form:e.get("form"),index:t,rowSettings:this.props.rowSettings,callback:this.handleAddRowClick.bind(this),rowPath:this.props.path})}renderRows(e){return e.map(this.renderRow)}render(){var e=this.props;const t=e.children,a=e.connectDropTarget,l=0===t.size;return(e=>l?a(e):e)(p.default.createElement("div",{className:"qx-fb-rows"},l?this.renderEmptySection():this.renderRows(t)))}},n.propTypes={path:d.default.array.isRequired,children:d.default.object.isRequired,moveSection:d.default.func.isRequired},l=s))||l;t.default=x},52:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getElementSchema=t.nodes=t.column=t.section=t.row=void 0,t.generateNodeId=c,t.newRow=function(){let e=c(r.get("slug")),t=r.set("id",e).set("children",new n.List).update("form",s.default),a=t.getIn(["form","advanced","identifier"]).map((t,a)=>"id"==t.get("name")?t.set("value",e):"label"==t.get("name")?t.set("value",r.get("name")):t);return t=t.setIn(["form","advanced","identifier"],a)},t.newSection=function(){let e=c(d.get("slug")),t=d.set("id",e).set("children",(0,n.fromJS)([])).update("form",s.default),a=t.getIn(["form","advanced","identifier"]).map((t,a)=>"id"==t.get("name")?t.set("value",e):"label"==t.get("name")?t.set("value",d.get("name")):t);return t=t.setIn(["form","advanced","identifier"],a)},t.newColumn=function(e=0){let t=c(u.get("slug")),a=u.set("id",l.default.randomId("qx-column-")).set("children",new n.List).set("width",(0,n.fromJS)({lg:e,md:e,sm:50,xs:100})).update("form",s.default),i=a.getIn(["form","advanced","identifier"]).map((e,a)=>"id"==e.get("name")?e.set("value",t):"label"==e.get("name")?e.set("value",u.get("name")):e);return a=(a=(a=a.setIn(["form","advanced","identifier"],i)).setIn(["form","general","layout_fields_group",1,"value"],(0,n.fromJS)({desktop:parseFloat(Number(e).toFixed(2)),tablet:parseFloat(Number(e).toFixed(2)),phone:100,unit:"%"}))).set("width",(0,n.fromJS)({desktop:parseFloat(Number(e).toFixed(2)),tablet:parseFloat(Number(e).toFixed(2)),phone:100,unit:"%"}))},t.newElement=function(e){let t=c(e.get("slug")),a=(e=e.set("id",t).set("children",new n.List).update("form",s.default)).getIn(["form","advanced","identifier"]).map((a,l)=>"id"==a.get("name")?a.set("value",t):"label"==a.get("name")?a.set("value",e.get("name")):a);return e=e.setIn(["form","advanced","identifier"],a)},t.newMyElement=function(e){let t=c(e.get("slug")),a=e.getIn(["form","advanced","identifier",1,"value"]),l=(e=e.set("id",t)).getIn(["form","advanced","custom_css_group",0,"value","code"]),n=(e=e.setIn(["form","advanced","custom_css_group",0,"value","code"],(s=a,i=t,o=l,o.split(s).join(i)))).getIn(["form","advanced","identifier"]).map((a,l)=>"id"==a.get("name")?a.set("value",t):"label"==a.get("name")?a.set("value",e.get("name")):a);var s,i,o;return e=e.setIn(["form","advanced","identifier"],n)};var l=o(a(289)),n=a(22),s=o(a(414)),i=o(a(847));function o(e){return e&&e.__esModule?e:{default:e}}let r=t.row=(0,n.fromJS)(_.find(qx_nodes,{slug:"row"})),d=t.section=(0,n.fromJS)(_.find(qx_nodes,{slug:"section"})),u=t.column=(0,n.fromJS)(_.find(qx_elements,{slug:"column"}));t.nodes=(0,n.fromJS)(qx_nodes.concat(qx_elements));function c(e){return l.default.randomId(`qx-${e}-`,100)}t.getElementSchema=(0,i.default)(e=>(0,n.fromJS)(_.find(qx_elements,{slug:e}).form))},520:function(e,t,a){"use strict";var l;Object.defineProperty(t,"__esModule",{value:!0});var n=h(a(14)),s=h(a(1250)),i=h(a(0)),o=h(a(521)),r=a(1),d=h(r),u=h(a(67)),c=a(33),p=a(355);function h(e){return e&&e.__esModule?e:{default:e}}let f=(0,u.default)({visible:[["layouts"],e=>e.get("visible")],layouts:[["layouts"],e=>e.get("layouts")],path:[["layouts"],e=>e.get("path")]})(l=class extends r.Component{handleSelectLayout(e){var t=this.props.callbackParams;let a=t.rowPath,l=t.index,n=t.ignoreRowNode,s=this.props.callback(a,l,n);(0,c.changeRowLayout)(s,e),(0,p.hideLayouts)(),jQuery(".qxui-popover").addClass("qxui-popover  qxui-popover-placement-top  qxui-popover-hidden")}hideLayouts(){n.default.emit("LAYOUT_NOT_SELECTED",{path:this.props.path}),(0,p.hideLayouts)()}renderLayout(e,t){let a=e.map(e=>e.get(0)/e.get(1)).toJS();return d.default.createElement(s.default,{key:t,sizes:a,onSelect:this.handleSelectLayout.bind(this),layout:e})}render(){var e=this.props;e.visible;let t=e.layouts;return d.default.createElement(o.default,{trigger:this.props.trigger,button:this.props.button,bottom:!0,dismissible:!1,close:this.hideLayouts.bind(this),className:"qxui-popover--col-layout"},d.default.createElement("ul",{className:"qx-column-layouts clearfix"},t.map(this.renderLayout.bind(this))))}})||l;f.defaultProps={visible:i.default.bool.isRequired,layouts:i.default.object.isRequired},t.default=f},521:function(e,t,a){"use strict";var l,n;Object.defineProperty(t,"__esModule",{value:!0});var s=c(a(2)),i=a(1),o=c(i),r=c(a(27)),d=c(a(46)),u=c(a(74));function c(e){return e&&e.__esModule?e:{default:e}}let p=(n=l=class extends i.Component{constructor(...e){var t;return t=super(...e),this.shouldComponentUpdate=r.default,t}render(){var e=this.props;let t=e.id,a=e.title,l=e.children,n=e.footer,i=e.className,r=e.classes,c=(e.show,e.close),p=e.button,h=e.trigger,f=e.placement;const m=o.default.createElement(u.default,{key:"close",size:"large",icon:"close",onClick:c}," Close ");return n?n.push(m):n=m,r=(0,s.default)(i,r),o.default.createElement(d.default,{key:t,id:t,prefixCls:"qxui-popover",content:[l],title:a,trigger:h,placement:f,overlayClassName:r},p||null)}},l.defaultProps={style:{},className:"",show:!1},n);t.default=p},539:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=h(a(1)),n=h(a(0)),s=h(a(176)),i=h(a(1360)),o=h(a(1361)),r=h(a(1362)),d=h(a(1363)),u=h(a(1364)),c=h(a(2)),p=h(a(1366));function h(e){return e&&e.__esModule?e:{default:e}}function f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var a=Object.getOwnPropertyNames(t),l=0;l<a.length;l++){var n=a[l],s=Object.getOwnPropertyDescriptor(t,n);s&&s.configurable&&void 0===e[n]&&Object.defineProperty(e,n,s)}}(e,t))}function g(){}var v=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a));b.call(l);var n=void 0===a.alpha?a.defaultAlpha:Math.min(a.alpha,a.defaultAlpha),i=new s.default(a.color||a.defaultColor);return l.state={color:i,alpha:n},l}return m(t,e),t.prototype.componentDidMount=function(){this.props.onMount(this.ref)},t.prototype.componentWillReceiveProps=function(e){if(e.color){var t=new s.default(e.color);this.setState({color:t})}void 0!==e.alpha&&this.setState({alpha:e.alpha})},t.prototype.render=function(){var e,t=this,a=this.props,n=a.prefixCls,s=a.enableAlpha,p=this.state,h=p.color,m=p.alpha,g=(0,c.default)((f(e={},n+"-wrap",!0),f(e,n+"-wrap-has-alpha",s),e));return l.default.createElement("div",{ref:function(e){return t.ref=e},className:[n,this.props.className].join(" "),style:this.props.style,onFocus:this.onFocus,onBlur:this.onBlur,tabIndex:"0"},l.default.createElement("div",{className:n+"-inner"},l.default.createElement(i.default,{rootPrefixCls:n,color:h,onChange:this.handleChange}),l.default.createElement("div",{className:g},l.default.createElement("div",{className:n+"-wrap-ribbon"},l.default.createElement(r.default,{rootPrefixCls:n,color:h,onChange:this.handleChange})),s&&l.default.createElement("div",{className:n+"-wrap-alpha"},l.default.createElement(d.default,{rootPrefixCls:n,alpha:m,color:h,onChange:this.handleAlphaChange})),l.default.createElement("div",{className:n+"-wrap-preview"},l.default.createElement(o.default,{rootPrefixCls:n,alpha:m,onChange:this.handleChange,onInputClick:this.onSystemColorPickerOpen,color:h}))),l.default.createElement("div",{className:n+"-wrap",style:{height:40,marginTop:6}},l.default.createElement(u.default,{rootPrefixCls:n,color:h,alpha:m,onAlphaChange:this.handleAlphaChange,onChange:this.handleChange,mode:this.props.mode,enableAlpha:this.props.enableAlpha}))))},t}(l.default.Component),b=function(){var e=this;this.onSystemColorPickerOpen=function(t){"color"===t.target.type&&(e.systemColorPickerOpen=!0)},this.onFocus=function(){e._blurTimer?(clearTimeout(e._blurTimer),e._blurTimer=null):e.props.onFocus()},this.onBlur=function(){e._blurTimer&&clearTimeout(e._blurTimer),e._blurTimer=setTimeout(function(){e.systemColorPickerOpen?e.systemColorPickerOpen=!1:e.props.onBlur()},100)},this.handleAlphaChange=function(t){var a=e.state.color;a.alpha=t,e.setState({alpha:t,color:a}),e.props.onChange({color:a.toHexString(),alpha:t})},this.handleChange=function(t){var a=e.state.alpha;t.alpha=a,e.setState({color:t}),e.props.onChange({color:t.toHexString(),alpha:t.alpha})}};t.default=v,v.propTypes={alpha:n.default.number,className:n.default.string,color:p.default,defaultAlpha:n.default.number,defaultColor:p.default,enableAlpha:n.default.bool,mode:n.default.oneOf(["RGB","HSL","HSB"]),onBlur:n.default.func,onChange:n.default.func,onFocus:n.default.func,onMount:n.default.func,prefixCls:n.default.string,style:n.default.object},v.defaultProps={className:"",defaultAlpha:100,defaultColor:"#ff0000",enableAlpha:!0,mode:"RGB",onBlur:g,onChange:g,onFocus:g,onMount:g,prefixCls:"rc-color-picker-panel",style:{}},e.exports=t.default},541:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=o(a(2)),n=a(1),s=o(n),i=o(a(356));function o(e){return e&&e.__esModule?e:{default:e}}let r=class extends n.Component{constructor(e){super(e),this.state={code:"",modes:[{value:"javascript",label:"JavaScript"},{value:"css",label:"CSS"},{value:"html",label:"HTML"}]},this.onCodeChange=this.onCodeChange.bind(this)}onCodeChange(e){this.setState({code:e}),this.props.onChange({code:e,mode:this.props.value.mode?this.props.value.mode:"css"})}getLabelMarkup(){let e=this.props.label;return s.default.createElement("p",{className:"qx-fb-field__label"},e," ",this.getHelpMarkup()," ")}getHelpMarkup(){let e=this.props.help;if(e)return s.default.createElement(Popover,{content:e,prefixCls:"qxui-popover",overlayClassName:"qxui-zi-l",placement:"right",popupStyle:{width:"300px"}},s.default.createElement("i",{className:"qxuicon-question-circle qx-fb-field__help"}))}render(){var e=this.props;e.label;let t=e.help;return s.default.createElement("div",{className:"qx-fb-field-code"},this.getLabelMarkup(),s.default.createElement("div",{className:"input-field"},s.default.createElement(i.default,{rows:5,value:this.props.value.code,onChange:e=>this.onCodeChange(e),onReset:()=>this.onCodeChange("")}),s.default.createElement("p",{className:(0,l.default)("help",{hide:!t})},t)))}};r.propTypes={},r.defaultProps={},t.default=r},542:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=p(a(83)),n=p(a(95)),s=p(a(1403)),i=p(a(1404)),o=(p(a(2)),a(1)),r=p(o),d=p(a(543)),u=p(a(49)),c=p(a(118));function p(e){return e&&e.__esModule?e:{default:e}}const h=u.default.Option,f=["100","200","300","400","500","600","700","800","900"];let m=class extends o.Component{constructor(e){super(),this.state={value:e.value,expand:!1,fontFamilies:[],weights:[],family:null,weight:{label:"",value:"",clearable:!0}},this.handleChange=this.handleChange.bind(this),this.token=jQuery("#jform_token").attr("name")}componentWillMount(){if(localStorage.getItem("qx-fonts"))this.setState(JSON.parse(localStorage.getItem("qx-fonts")));else{let e=`index.php?option=com_quix&task=api.getWebFonts&${this.token}=1`;axios.get(e).then(e=>{let t=[],a={};e.data.items.forEach(e=>{t.push(e.family),a[e.family]=e.variants}),localStorage.setItem("qx-fonts",JSON.stringify({fontFamilies:t,weights:a})),this.setState({fontFamilies:t,weights:a})})}}componentWillReceiveProps(e){null!=e.value.family&&this.state.family!=e.value.family.value&&this.setState({family:e.value.family.value}),null==e.value.family&&this.props.onChange((0,n.default)(e.value,{weight:{label:"",value:"",clearable:!0}}))}handleChange(e){let t=(0,n.default)(this.props.value,e);this.setState({value:t}),this.props.onChange(t)}getValue(){return this.state.value}getFontWeights(e){let t=[];return(0,l.default)(e)?f.map(e=>({label:e,value:e,clearable:!0})):(this.state.weights[e]&&(t=this.state.weights[e].map(e=>({label:e,value:e,clearable:!0}))),t)}render(){var e=this.props;e.label;let t=e.value,a=(e.name,e.help,t.family),l=t.size,n=t.spacing,o=t.height,p=t.weight,f=t.transform,m=t.style,g=t.text_shadow,v=t.decoration;return r.default.createElement("div",{className:"qx-fb-field-typography"},r.default.createElement("div",{className:"qx-row"},r.default.createElement("div",{className:"qx-col-8"},r.default.createElement(i.default,{label:"Font",family:a,fontFamilies:this.state.fontFamilies,onChange:e=>this.handleChange({family:e})})),r.default.createElement("div",{className:"qx-col-4"},r.default.createElement("p",{className:"qx-fb-field__label"},"Weight"),r.default.createElement(u.default,{defaultValue:p?p.toString():"400",onChange:e=>this.handleChange({weight:e}),allowClear:!0,style:{width:"100%"},prefixCls:"qxui-select",getPopupContainer:()=>window.parent.document.body},this.getFontWeights(a).map((e,t)=>r.default.createElement(h,{key:t,value:e.value.toString()},e.label))))),r.default.createElement("div",{className:"qx-fb-field-typography__size"},r.default.createElement(c.default,{label:"Size",min:0,max:200,value:l,units:["px","em","rem"],default:this.props.default.size,onChange:e=>this.handleChange({size:e}),responsive:!0})),r.default.createElement("div",{className:"qx-row"},r.default.createElement("div",{className:"qx-col-4"},r.default.createElement("p",{className:"qx-fb-field__label"},"Transform"),r.default.createElement(u.default,{defaultValue:f.toString(),onChange:e=>this.handleChange({transform:e}),style:{width:"100%"},prefixCls:"qxui-select",getPopupContainer:()=>window.parent.document.body},r.default.createElement(h,{value:""},"None"),r.default.createElement(h,{value:"uppercase"},"Uppercase"),r.default.createElement(h,{value:"lowercase"},"Lowercase"),r.default.createElement(h,{value:"capitalize"},"Capitalize"))),r.default.createElement("div",{className:"qx-col-4"},r.default.createElement("p",{className:"qx-fb-field__label"},"Style"),r.default.createElement(u.default,{defaultValue:m.toString(),onChange:e=>this.handleChange({style:e}),style:{width:"100%"},prefixCls:"qxui-select",getPopupContainer:()=>window.parent.document.body},r.default.createElement(h,{value:""},"Normal"),r.default.createElement(h,{value:"italic"},"Italic"),r.default.createElement(h,{value:"oblique"},"Oblique"))),r.default.createElement("div",{className:"qx-col-4"},r.default.createElement("p",{className:"qx-fb-field__label"},"Decoration"),r.default.createElement(u.default,{defaultValue:v.toString(),onChange:e=>this.handleChange({decoration:e}),style:{width:"100%"},prefixCls:"qxui-select",getPopupContainer:()=>window.parent.document.body},r.default.createElement(h,{value:""},"None"),r.default.createElement(h,{value:"overline"},"Overline"),r.default.createElement(h,{value:"line-through"},"Line Through"),r.default.createElement(h,{value:"underline"},"Underline")))),r.default.createElement("div",{className:"qx-fb-field-typograpy__height"},r.default.createElement(c.default,{label:"Line Height",max:40,step:.1,value:o,units:["px","em","rem"],default:this.props.default.height,onChange:e=>this.handleChange({height:e}),responsive:!0})),r.default.createElement("div",{className:"qx-fb-field-typograpy__height"},r.default.createElement(c.default,{label:"Letter Spacing",min:-5,max:10,step:.1,value:n,units:["px","em","rem"],default:this.props.default.spacing,onChange:e=>this.handleChange({spacing:e}),responsive:!0})),r.default.createElement("div",{className:"qx-fb-field-typograpy__text_shadow"},r.default.createElement(d.default,{label:"Text Shadow",value:g||(this.props.default.text_shadow?this.props.default.text_shadow:s.default.text_shadow),default:this.props.default.text_shadow?this.props.default.text_shadow:s.default.text_shadow,onChange:e=>this.handleChange({text_shadow:e})})))}};m.propTypes={},m.defaultProps={},t.default=m},543:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(1),n=u(l),s=u(a(119)),i=u(a(24)),o=u(a(120)),r=u(a(118)),d=u(a(46));function u(e){return e&&e.__esModule?e:{default:e}}const c=[{label:"Outside",value:"outline"},{label:"Inset",value:"inset"}];t.default=class extends l.Component{constructor(e){super(e),this.state={visible:!1},this.onReset=this.onReset.bind(this),this.onChange=this.onChange.bind(this),this.getFields=this.getFields.bind(this),this.showPopover=this.showPopover.bind(this),this._mounted=!1}componentWillMount(){this._mounted=!0}componentWillUnmount(){this._mounted=!1}onChange(e){this.props.onChange(_.merge(this.props.value,e))}onReset(){this.props.onChange(_.merge(this.props.value,this.props.default))}showPopover(){this.setState({visible:!this.state.visible})}getFields(){var e=this.props.value;const t=e.color,a=e.blur,l=e.spread,i=e.position,d=e.horizontal,u=e.vertical,p=this.props.default;return n.default.createElement("div",null,n.default.createElement("div",{className:"qx-fb-field"},n.default.createElement(s.default,{onlyColorPicker:!0,addonAfter:"Select",label:"Color",value:t,onChange:e=>this.onChange({color:e})})),n.default.createElement("div",{className:"qx-fb-field"},n.default.createElement(r.default,{responsive:!1,reset:!1,label:"Horizontal",min:-100,units:["px"],value:d,onChange:e=>this.onChange({horizontal:e})})),n.default.createElement("div",{className:"qx-fb-field"},n.default.createElement(r.default,{responsive:!1,reset:!1,label:"Vertical",min:-100,units:["px"],value:u,onChange:e=>this.onChange({vertical:e})})),n.default.createElement("div",{className:"qx-fb-field"},n.default.createElement(r.default,{responsive:!1,reset:!1,label:"Blur",value:a,units:["px"],onChange:e=>this.onChange({blur:e})})),null!=l?n.default.createElement("div",{className:"qx-fb-field"},n.default.createElement(r.default,{responsive:!1,reset:!1,label:"Spread",value:l,units:["px"],onChange:e=>this.onChange({spread:e})})):null,null!=i?n.default.createElement("div",{className:"qx-fb-field"},n.default.createElement(o.default,{value:i,default:p.position,responsive:!1,label:"Position",options:c,onChange:e=>this.onChange({position:e}),onReset:e=>this.onChange({position:p.position})})):null)}render(){const e=!_.isEqual(this.props.default,this.props.value);return n.default.createElement("div",{className:"qx-d-flex qx-justify-content-between qx-align-items-center"},n.default.createElement("div",null,n.default.createElement("label",{className:"qx-fb-field__label qx-mb-0",htmlFor:"text_shadow"},this.props.label)),n.default.createElement("div",null,n.default.createElement(d.default,{prefixCls:"qxui-popover",overlayClassName:"qxui-zi-l",placement:"left",popupStyle:{width:"300px"},getPopupContainer:()=>window.parent.document.body,content:this.getFields(),trigger:"click",visible:this.state.visible},n.default.createElement(i.default,{className:e?"active":"",onClick:this.showPopover},n.default.createElement("i",{className:"qxuicon-pencil"})),e?n.default.createElement("i",{className:"qxuicon-undo qx-fb-field__reset qx-pr-3 qx-mt-2",onClick:this.onReset}):null)))}}},544:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=r(a(0)),n=a(1),s=r(n),i=r(a(545)),o=r(a(27));function r(e){return e&&e.__esModule?e:{default:e}}let d=class extends n.Component{constructor(e){super(e),this.shouldComponentUpdate=o.default,this.renderComponent=this.renderComponent.bind(this)}renderComponent(e,t){var a=this.props;let l=a.updater,n=a.path;return s.default.createElement(i.default,{key:e.get("ref")||Math.random(),updater:l,control:e,index:t,path:n.join(",")})}render(){let e=this.props.fields;return s.default.createElement("div",{className:"qxui-controls"},e.map(this.renderComponent))}};d.propTypes={updater:l.default.func.isRequired,path:l.default.array.isRequired},t.default=d},545:function(e,t,a){"use strict";var l,n;Object.defineProperty(t,"__esModule",{value:!0});var s=h(a(0)),i=h(a(546)),o=a(1),r=h(o),d=h(a(1470)),u=h(a(1473)),c=h(a(1479)),p=h(a(27));function h(e){return e&&e.__esModule?e:{default:e}}let f=(n=l=class extends o.Component{constructor(...e){var t;return t=super(...e),this.shouldComponentUpdate=p.default,t}render(){var e=this.props;let t=e.control,a=e.index,l=e.updater,n=e.path,s=t.get("ref"),o=t.get("type");n=n.split(",");let p=e=>{let t=n.concat([a,"value"]);l(t,e)};if("group-repeater"===o){let e=n.concat([a]);return r.default.createElement(d.default,{key:s,path:e,updater:l,control:t})}if("input-repeater"===o){let e=n.concat([a]);return r.default.createElement(u.default,{key:s,updater:l.bind(null,e),update:p,control:t})}if("fields-group"===o){let e=n.concat([a]);return r.default.createElement(c.default,{hidden:t.get("hidden"),key:s,updater:l,update:p,control:t,path:e})}return r.default.createElement(i.default,{hidden:t.get("hidden"),key:s,control:t,update:p})}},l.propTypes={control:s.default.object.isRequired,updater:s.default.func.isRequired,path:s.default.string.isRequired},n);t.default=f},546:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=o(a(1409)),s=a(1),i=o(s);function o(e){return e&&e.__esModule?e:{default:e}}let r=class extends s.Component{shouldComponentUpdate(e){return this.props.control!==e.control}render(){var e=this.props;let t=e.control,a=e.update;return t.get("hidden")?null:i.default.createElement(n.default,l({},this.props,{options:t.toJS(),update:a}))}};r.propTypes={},r.defaultProps={},t.default=r},548:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=_(a(232)),n=_(a(549)),s=_(a(233)),i=_(a(95)),o=_(a(14)),r=_(a(2)),d=a(1),u=_(d),c=_(a(234)),p=_(a(173)),h=_(a(24)),f=_(a(32)),m=_(a(527)),g=_(a(48)),v=_(a(46)),b=_(a(38));function _(e){return e&&e.__esModule?e:{default:e}}const E=p.default.Button,y=p.default.Group,x=f.default.Group,C=g.default.TabPane;let w=class extends d.Component{constructor(e){super(e),this.sync=this.sync.bind(this),this.phone=this.phone.bind(this),this.tablet=this.tablet.bind(this),this.tabOnClick=this.tabOnClick.bind(this),this.onUnitChange=this.onUnitChange.bind(this),this.onPhoneReset=this.onPhoneReset.bind(this),this.onResponsive=this.onResponsive.bind(this),this.handleChange=this.handleChange.bind(this),this.onTabletReset=this.onTabletReset.bind(this),this.renderSyncJsx=this.renderSyncJsx.bind(this),this.getUnitMarkup=this.getUnitMarkup.bind(this),this.getPlaceholder=this.getPlaceholder.bind(this),this.onDesktopReset=this.onDesktopReset.bind(this),this.renderDimensionsFields=this.renderDimensionsFields.bind(this),(0,c.default)(this),this.state={responsive:"desktop"!=this.getTabName(),valueFor:this.getTabName(),tab:this.getTabName(),sync:{desktop:!1,tablet:!1,phone:!1}}}componentDidMount(){let e=(0,i.default)(this.props.default,this.props.value);(0,s.default)(this.props.default,this.props.value)||this.props.onChange(e);let t={desktop:!1,tablet:!1,phone:!1};t.desktop=this.toggleSyncMode(e),this.props.responsive&&(t.tablet=this.toggleSyncMode(e.tablet),t.phone=this.toggleSyncMode(e.phone)),this.setState({sync:t}),this._mounted=!0,o.default.on("RESPONSIVE_TAB_OPENED",e=>{this._mounted&&this.setState({tab:e})})}componentWillMount(){o.default.setMaxListeners(0),o.default.removeListener("RESPONSIVE_TAB_OPENED",()=>{})}componentWillUnmount(){this._mounted=!1}getPlaceholder(e){return(0,n.default)(this.props.value[e])?this.props.value[e]:""}toggleSyncMode({top:e,bottom:t,right:a,left:l}){if(e==t&&t==a&&a==l)return!!(0,n.default)(e)}handleChange(e,t,a){let l={};if(t||0==t||(t=""),this.state.sync[e])switch(e){case"desktop":l={top:t,bottom:t,right:t,left:t};break;case"tablet":l={tablet:{top:t,bottom:t,right:t,left:t}};break;case"phone":l={phone:{top:t,bottom:t,right:t,left:t}}}else{let n={};switch(n[a]=t,e){case"desktop":l=n;break;case"tablet":l={tablet:(0,i.default)(this.props.value.tablet,n)};break;case"phone":l={phone:(0,i.default)(this.props.value.phone,n)}}}l=(0,i.default)({responsive_preview:!0},l),t=(0,i.default)(this.props.value,l),this.props.onChange(t)}onUnitChange(e){this.props.onChange((0,i.default)(this.props.value,{unit:e}))}onDesktopReset(){this.props.onChange((0,i.default)(this.props.value,{top:"",bottom:"",right:"",left:""})),this.setState({reset:!0})}onTabletReset(){this.props.onChange((0,i.default)(this.props.value,{tablet:{top:"",bottom:"",right:"",left:""}})),this.setState({reset:!0})}onPhoneReset(){this.props.onChange((0,i.default)(this.props.value,{phone:{top:"",bottom:"",right:"",left:""}})),this.setState({reset:!0})}onResponsive(){this.setState({responsive:!this.state.responsive,tab:this.state.tab})}tabOnClick(e){this.setState({tab:e}),o.default.emit("RESPONSIVE_TAB_OPENED",e)}sync(e){let t={};t[e]=!this.state.sync[e],this.setState({sync:(0,i.default)(this.state.sync,t)})}renderSyncJsx(e){let t=this.state.sync[e];return u.default.createElement(b.default,{title:"Link values together",overlayClassName:"qxui-zi-l",placement:"bottom"},u.default.createElement(h.default,{type:t?"primary":"",onClick:this.sync.bind(this,e),style:{width:"8%",padding:0}},u.default.createElement("i",{className:t?"qxuicon-link":"qxuicon-unlink"})))}renderDimensionsFields(e,t,a){let l=e.top,n=e.right,s=e.bottom,i=e.left,o="Top",r="Bottom",d="Right",c="Left";return"desktop"!=a&&(o=this.getPlaceholder("top"),r=this.getPlaceholder("bottom"),d=this.getPlaceholder("right"),c=this.getPlaceholder("left")),u.default.createElement("div",null,u.default.createElement(x,{compact:!0,prefixCls:"qxui-input-group"},void 0===l?null:u.default.createElement(m.default,{prefixCls:"qxui-input-number",placeholder:o,value:l,style:{width:"23%"},onChange:e=>this.handleChange(a,e,"top")}),void 0===n?null:u.default.createElement(m.default,{prefixCls:"qxui-input-number",placeholder:d,value:n,style:{width:"23%"},onChange:e=>this.handleChange(a,e,"right")}),void 0===s?null:u.default.createElement(m.default,{prefixCls:"qxui-input-number",placeholder:r,value:s,style:{width:"23%"},onChange:e=>this.handleChange(a,e,"bottom")}),void 0===i?null:u.default.createElement(m.default,{prefixCls:"qxui-input-number",placeholder:c,value:i,style:{width:"23%"},onChange:e=>this.handleChange(a,e,"left")}),this.renderSyncJsx(a)),this.getResetMarkup(a))}desktop(e){return this.renderDimensionsFields(this.props.value,e,"desktop")}tablet(e){return this.renderDimensionsFields(this.props.value.tablet,e,"tablet")}phone(e){return this.renderDimensionsFields(this.props.value.phone,e,"phone")}getResponsiveTogglePreview(){return u.default.createElement("i",{onClick:this.onResponsive,className:(0,r.default)("qx-fb-field__responsive",{"qxuicon-times":this.state.responsive,"qxuicon-desktop":!this.state.responsive})})}getUnitMarkup(){var e=this.props;let t=e.units,a=e.value;return t=t||["%","px"],u.default.createElement(y,{prefixCls:"qxui-radio-group",onChange:e=>this.onUnitChange(e.target.value),value:a.unit},t.map((e,t)=>u.default.createElement(E,{key:t,prefixCls:"qxui-radio-button",value:e},e)))}getLabelMarkup(){let e=this.props.label;return u.default.createElement("div",{className:"qx-fb-field-label-group"},u.default.createElement("div",{className:"qx-fb-field__label"},e," ",this.getHelpMarkup()," ",this.getUnitMarkup()))}getHelpMarkup(){let e=this.props.help;if(e)return u.default.createElement(v.default,{content:e,prefixCls:"qxui-popover",overlayClassName:"qxui-zi-l",placement:"right",popupStyle:{width:"300px"},getPopupContainer:()=>window.parent.document.body},u.default.createElement("i",{className:"qxuicon-question-circle qx-fb-field__help"}))}getResetMarkup(e){const t=this.props.default;var a=this.props.value;const n=a.top,i=a.bottom,o=a.left,r=a.right,d=a.tablet,c=a.phone;let p=!1;switch(e){case"tablet":p=!(0,s.default)(t.tablet,d);break;case"phone":p=!(0,s.default)(t.phone,c);break;default:p=t.top!=n||t.bottom!=i||t.left!=o||t.right!=r}return p?u.default.createElement(b.default,{title:"Reset to default",overlayClassName:"qxui-zi-l",placement:"left",onClick:this["on"+(0,l.default)(e)+"Reset"]},u.default.createElement("i",{className:"qxuicon-undo qx-fb-field__reset"})):null}render(){var e=this.props;e.label;let t=e.value,a=(t.top,t.left,t.bottom,t.right,t.responsive),l=(t.desktop,t.tablet,t.phone,null),n=null,s=null;return a&&(l=this.getResponsiveTogglePreview(),n=this.tablet(l),s=this.phone(l)),this.state.responsive&&0!=this.props.responsive?u.default.createElement("div",{className:"qx-fb-field-dimensions qx-fb-field--responsive"},this.getLabelMarkup(),this.getResponsiveTogglePreview(),u.default.createElement(g.default,{activeKey:this.state.tab,defaultActiveKey:"desktop",onChange:this.tabOnClick,prefixCls:"qxui-tabs"},u.default.createElement(C,{tab:u.default.createElement("i",{className:"qxuicon-desktop"}),key:"desktop"},this.desktop(l)),u.default.createElement(C,{tab:u.default.createElement("i",{className:"qxuicon-tablet"}),key:"tablet"},n),u.default.createElement(C,{tab:u.default.createElement("i",{className:"qxuicon-mobile"}),key:"phone"},s))):u.default.createElement("div",{className:"qx-fb-field-dimensions"},this.getLabelMarkup(),this.desktop(l),this.props.responsive?this.getResponsiveTogglePreview():null)}};w.propTypes={},w.defaultProps={responsive:!0},t.default=w},56:function(e,t,a){"use strict";var l,n;Object.defineProperty(t,"__esModule",{value:!0});var s=c(a(2)),i=a(1),o=c(i),r=c(a(27)),d=c(a(163)),u=c(a(24));function c(e){return e&&e.__esModule?e:{default:e}}let p=(n=l=class extends i.Component{constructor(...e){var t;return t=super(...e),this.shouldComponentUpdate=r.default,this.state={id:Math.random()},t}componentDidMount(){}render(){var e=this.props;let t=e.title,a=(e.bottom,e.children),l=e.className,n=e.classes,i=e.show,r=e.style,c=e.footer,p=e.close,h=e.width,f=e.closable,m=e.onCancel;const g=o.default.createElement(u.default,{key:"close",size:"large",icon:"close",onClick:p},"Cancel");return c?c.push(g):c=g,n=(0,s.default)(l,n),o.default.createElement(d.default,{width:h||500,visible:!!i,wrapClassName:n,title:t,style:r,footer:1==f?null:c,onCancel:1==f?m:()=>jQuery("body").addClass("qx-settings-fixed-left"),closable:1==f,getContainer:()=>(setTimeout(()=>{window.parent.jQuery(".qxui-modal-header").bind("mousedown",()=>{window.parent.jQuery(".qxui-modal").draggable({disabled:!1})}),window.parent.jQuery(".qxui-modal-header").bind("mouseup",()=>{window.parent.jQuery(".qxui-modal").draggable({disabled:!0})})},1),window.parent.document.body),zIndex:5,mask:!1,maskClosable:!1,prefixCls:"qxui-modal"},i?a:null)}},l.propTypes={},l.defaultProps={style:{},className:"",show:!1,bottom:!1,dismissible:!0},n);t.default=p},59:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(134),n=d(a(820)),s=d(a(822)),i=d(a(881)),o=d(a(882)),r=d(a(893));function d(e){return e&&e.__esModule?e:{default:e}}const u=new l.Reactor({});u.registerStores({nodes:s.default,options:o.default,elements:r.default,layouts:i.default,meta:n.default}),t.default=u},61:function(e,t,a){"use strict";var l,n;Object.defineProperty(t,"__esModule",{value:!0});u(a(2));var s=a(1),i=u(s),o=u(a(32)),r=u(a(46)),d=u(a(38));function u(e){return e&&e.__esModule?e:{default:e}}let c=(n=l=class extends s.Component{constructor(e){super(e),this.onChange=this.onChange.bind(this),this.getResetMarkup=this.getResetMarkup.bind(this),this.getHelpMarkup=this.getHelpMarkup.bind(this)}componentDidMount(){1==this.props.autoFocus&&setTimeout(()=>{this.refs[this.props.id].focus()},500)}onChange(e){(0,this.props.onChange)(e.target.value,e)}getLabelMarkup(){let e=this.props.label;return this.props.onlyBaseText?null:i.default.createElement("p",{className:"qx-fb-field__label"},e," ",this.getHelpMarkup()," ")}getHelpMarkup(){let e=this.props.help;return this.props.onlyBaseText?null:e?i.default.createElement(r.default,{content:e,prefixCls:"qxui-popover",overlayClassName:"qxui-zi-l",placement:"right",popupStyle:{width:"300px"},getPopupContainer:()=>window.parent.document.body},i.default.createElement("i",{className:"qxuicon-question-circle qx-fb-field__help"})):void 0}getResetMarkup(){if(this.props.onlyBaseText)return null;return!_.isEqual(this.props.default,this.props.value)?i.default.createElement(d.default,{title:"Reset to default",overlayClassName:"qxui-zi-l",placement:"left"},i.default.createElement("i",{className:"qxuicon-undo qx-fb-field__reset",onClick:this.props.onReset})):null}render(){var e=this.props;e.help,e.label;let t=e.value,a=e.placeholder,l=e.onClick,n=(e.onlyBaseText,e.style),s=e.id,r=e.addonBefore,d=e.addonAfter,u=e.disabled;return i.default.createElement("div",{className:"qx-fb-field-text",style:n},this.getLabelMarkup(),i.default.createElement(o.default,{ref:s||"",id:s||"",placeholder:a||"",value:t,onChange:this.onChange,onClick:l||function(){},prefixCls:"qxui-input",addonBefore:r,addonAfter:d,disabled:u}),this.props.onReset?this.getResetMarkup():null)}},l.propTypes={},l.defaultProps={},n);c.Group=o.default.Group,c.Search=o.default.Search,t.default=c},67:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=s(a(59)),n=s(a(896));function s(e){return e&&e.__esModule?e:{default:e}}t.default=n.default.bind(null,l.default)},687:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e};t.default=function(e){return class extends n.Component{shouldComponentUpdate(e,t){return(0,i.default)(this,e,t)}render(){return s.default.createElement(e,l({},this.props,this.state))}}};var n=a(1),s=o(n),i=o(a(1477));function o(e){return e&&e.__esModule?e:{default:e}}},704:function(e,t,a){e.exports=a(705)},705:function(e,t,a){"use strict";var l=u(a(65)),n=u(a(14)),s=u(a(1)),i=(a(22),u(a(724))),o=u(a(1152)),r=a(9),d=u(a(76));function u(e){return e&&e.__esModule?e:{default:e}}a(1535),a(1536),a(1538),a(1539),a(1542),a(1543),a(1544),a(1545),window.reactor=window.reactor.default;let c=document.getElementById("qx-fb-mount"),p=window.parent.document.getElementById("qx-fb-frame-toolbar");window.needPasteOption={element:!1,column:!1,row:!1,section:!1},window.autoLayoutPopover=!1,d.default.get("qx-template-tab")||d.default.set("qx-template-tab","Sections"),d.default.get("qx-device")||d.default.set("qx-device","desktop"),d.default.remove("qx-section-template"),d.default.remove("qx-page-template"),localStorage.removeItem("joomla_module_options");const h="index.php?option=com_quix&task=api.captchePublicKey&"+jQuery("#jform_token").attr("name")+"="+jQuery("#jform_token").val();l.default.get(h).then(e=>{d.default.set("captcha-public-key",e.data.data),window.joomla_captcha_public_key=e.data.data,window.joomla_captcha_first_loaded=!0}),window.parent.window.loadQuixComponentBuilder=(()=>{(0,r.render)(s.default.createElement(i.default,null),p),(0,r.render)(s.default.createElement(o.default,null),c),setTimeout(()=>{window.parent.jQuery("#loaderMessage").html("Preparing Assets"),window.parent.jQuery(".preloader").css("opacity","0.8"),window.parent.jQuery(window).load(function(){setTimeout(()=>{window.parent.jQuery(".preloader").hide(),_.isNull(document.getElementById("jform_template_type"))||["editor","section","page","article","header","footer","mainbody"].includes(document.getElementById("jform_template_type").value)&&0==window.quix_initial_nodes_size&&n.default.emit("SHOW_TEMPLATE_MODAL",{path:null,tab:"Sections"})},3e3)}),setTimeout(()=>{window.parent.jQuery(".preloader").hide()},15e3)},500)}),window.parent.reactor=reactor,window.parent.window.onload=function(){_.isEmpty(jQuery("#jform_params_style").val())||loadGlobalStyles(JSON.parse(jQuery("#jform_params_style").val())),setTimeout(()=>window.autoLayoutPopover=!0,100)}},724:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l,n=O(a(70)),s=O(a(157)),i=O(a(83)),o=O(a(271)),r=O(a(14)),d=O(a(26)),u=a(288),c=a(1),p=O(c),h=O(a(67)),f=O(a(106)),m=O(a(299)),g=a(33),v=a(137),b=O(a(2)),_=O(a(435)),E=O(a(308)),y=(O(a(163)),O(a(61))),x=O(a(24)),C=O(a(38)),w=O(a(203)),S=O(a(441)),N=O(a(937));O(a(107));function O(e){return e&&e.__esModule?e:{default:e}}var q=a(443).SnippetPreview,k=a(443).App;const T=a(313),P=x.default.Group;a(1148),a(1150);const M=window.parent.QuixBuilderType,I={0:"text-danger",1:"text-success",2:"text-mute"},j={0:"qxuicon-times-circle",1:"qxuicon-check-circle",2:"qxuicon-archive"};let R=(0,h.default)({qid:[["meta"],e=>e.get("qid")],elements:[["elements"],e=>e],device:[["nodes"],e=>e.get("device")],responsive:[["nodes"],e=>e.get("responsive")],nodes:[["nodes"],e=>e.get("nodes")],NEED_IMAGE_OPTIMIZATION:[["meta"],e=>e.get("NEED_IMAGE_OPTIMIZATION")]})(l=class extends c.Component{constructor(e){super(e),this.state={title:"",loading:!1,device:"desktop",iconLoading:!1,outputType:"html",visibleSeoModal:!1,app:{},i18n:"",focusKeyword:"",loadingSeoResult:!1,seoScore:0,is_pro_user:!1},this.onChange=this.onChange.bind(this),this.editQuixPage=this.editQuixPage.bind(this),this.savePageAjax=this.savePageAjax.bind(this),this.saveAsTemplate=this.saveAsTemplate.bind(this),this.getSaveToolbar=this.getSaveToolbar.bind(this),this.getDeviceToolbar=this.getDeviceToolbar.bind(this),this.handleMenuSelect=this.handleMenuSelect.bind(this),this.changeIframeWidth=this.changeIframeWidth.bind(this),this.getPageNavToolbar=this.getPageNavToolbar.bind(this),this.changeOutputFrame=this.changeOutputFrame.bind(this),this.getRedoUndoToolbar=this.getRedoUndoToolbar.bind(this),this.editQuixCollection=this.editQuixCollection.bind(this),this.presentingSeoResult=this.presentingSeoResult.bind(this),this.openImageOptimizationResultModal=this.openImageOptimizationResultModal.bind(this),this.openImageOptimizationOptionsModal=this.openImageOptimizationOptionsModal.bind(this)}componentDidMount(){this.setState({device:window.parent.getResponsiveDeviceCookie(),focusKeyword:document.getElementById("jform_metadata_focus_keywords").value,seoScore:document.getElementById("jform_metadata_seo_score").value?document.getElementById("jform_metadata_seo_score").value:0}),r.default.on("RESPONSIVE_TAB_OPENED",e=>{"phone"==e&&(e="mobile");const t={target:{value:e}};this.changeIframeWidth(t,!0)}),r.default.on("SAVE_TEMPLATE",e=>this.saveAsTemplate(e)),r.default.on("RELOAD_SEO_SCORE",()=>this.presentingSeoResult()),r.default.on("SEO_KEYWORD_UPDATED",e=>{this.setState({focusKeyword:e}),document.getElementById("jform_metadata_focus_keywords").value=e}),axios.get("index.php?option=com_quix&task=api.validation").then(e=>this.setState({is_pro_user:e.data.success}))}openImageOptimizationOptionsModal(){reactor.dispatch("OPEN_IMAGE_OPTIMIZATION_OPTIONS_MODAL")}handleMenuSelect(e){if("pagetemplate"==e.key)reactor.dispatch("OPEN_PRESETS_LAYOUT_SCREEN",{path:null,category:"layout"});else if("exportnimport"==e.key)reactor.dispatch("OPEN_EXPORT_IMPORT");else if("saveascollection"==e.key){let e=window.getQuixPageData();reactor.dispatch("OPEN_SAVE_AS_COLLECTION",{data:e})}else if("seo"==e.key)reactor.dispatch("OPEN_SEO");else if("page"==e.key)reactor.dispatch("OPEN_PAGEMODAL");else if("menu"==e.key){0==document.getElementById("jform_id").value?d.default.warning("Please save the page first! then create menu link."):reactor.dispatch("OPEN_LINK_PAGE_MODAL")}}changeIframeWidth(e,t){if("mobile"==e.target.value||"tablet"==e.target.value||"desktop"==e.target.value)switch(window.parent.updateResponsiveDeviceCookie(e.target.value),window.parent.updateBodyDeviceClass(e.target.value),e.target.value){case"mobile":this.setState({device:"mobile"}),r.default.emit("IFRAME_WIDTH_CHANGED",{device:"xs"}),!t&&(0,g.setDevice)("sm");break;case"tablet":this.setState({device:"tablet"}),r.default.emit("IFRAME_WIDTH_CHANGED",{device:"md"}),!t&&(0,g.setDevice)("md");break;case"desktop":this.setState({device:"desktop"}),r.default.emit("IFRAME_WIDTH_CHANGED",{device:"lg"}),!t&&(0,g.setDevice)("lg")}}changeOutputFrame(e){let t=confirm("This will reload the builder, make sure you have saved the changes"),a=new URL(window.parent.location.href).searchParams.get("output");var l="html";if(1==t){"html"==a?l="component":"component"==a&&(l="html");var n=new URL(window.parent.location.href);n.searchParams.set("output",l),window.parent.location.href=n.href}}savePageAjax(e){let t=document.getElementById("jform_title_hidden").value;if(!t)return void d.default.error("Page title can't be empty");if(!(0,o.default)(document.getElementById("jform_template_type"))&&["article","header","footer","mainbody"].includes(document.getElementById("jform_template_type").value)&&(0,i.default)(document.getElementById("jform_conditions").value))return void reactor.dispatch("OPEN_JOOMLA_LAYOUTS_MODAL");window.parent.jQuery(".savePage i").removeClass("anticon-save").addClass("anticon-spin anticon-loading");let a="page"==M?"page.apply":"collection.apply";if(jQuery('input[name="task"]').val(a),"page"==M){var l=this.props;let e=l.nodes,t=l.qid;(0,u.savePage)(e,t)}"collection"==M&&this.saveAsTemplate(t,jQuery("#jform_template_type").val())}closePage(e){let t="page"==M?"page.cancel":"collection.cancel";window.parent.Joomla.submitform(t)}addPage(e){let t=quix.url+"/index.php?option=com_quix&task=page.add";window.parent.location=t}addCollection(e){let t=quix.url+"/index.php?option=com_quix&task=collection.add";window.parent.location=t}editQuixPage(e){}editQuixCollection(e){}onChange(e){this.setState({title:e}),document.getElementById("jform_title_hidden").value=e,window.PageChanged=!0}getCookie(e){var t=("; "+document.cookie).split("; "+e+"=");if(2==t.length)return t.pop().split(";").shift()}showTemplateSaveModal(){r.default.emit("SHOW_TEMPLATE_SAVE_MODAL")}saveAsTemplate(e,t){let a=reactor.evaluate(["nodes","nodes"]);a=a.map(f.default).toJS();let l=t?jQuery("#jform_id").val():"0";const n={type:t=t||"layout",data:a};(0,s.default)(t)||"section"!=t||(n.data=a[0]),document.getElementById("jform_data").value=JSON.stringify(n);let i=jQuery("#jform_token").attr("name"),o=new FormData;o.set("jform[data]",JSON.stringify(n)),o.set("jform[title]",e),o.set("jform[builder]","frontend"),o.set("jform[type]",t),o.set("jform[state]","1"),o.set("jform[id]",l),o.set("id",l),o.set("type","collection"),o.set("jform[conditions]",document.getElementById("jform_conditions").value),o.set("jform[params][image_optimized]",document.getElementById("jform_params_image_optimized").value),o.set("jform[params][enabled_image_optimization]",document.getElementById("jform_params_enabled_image_optimization").value),o.set("jform[params][enabled_webp_support]",document.getElementById("jform_params_enabled_webp_support").value),o.set("jform[params][codecss]",document.getElementById("jform_params_codecss").value),o.set("jform[params][codejs]",document.getElementById("jform_params_codejs").value),o.set("jform[params][style]",document.getElementById("jform_params_style").value),o.set("jform[metadata][title]",document.getElementById("jform_metadata_title").value),o.set("jform[metadata][desc]",document.getElementById("jform_metadata_desc").value),o.set("jform[metadata][seo_score]",document.getElementById("jform_metadata_seo_score").value),o.set("jform[metadata][focus_keywords]",document.getElementById("jform_metadata_focus_keywords").value),o.set("jform[state]",document.getElementById("jform_state").value),o.set("jform[access]",document.getElementById("jform_access").value),o.set("jform[language]",document.getElementById("jform_language").value),o.set(i,1),axios({method:"post",url:"index.php?option=com_quix&task=collection.save",data:o,config:{headers:{"Content-Type":"multipart/form-data"}}}).then(e=>{window.parent.jQuery(".savePage i").removeClass("anticon-loading").removeClass("anticon-spin").addClass("anticon-save");let t=e.data;"object"==typeof t?t.success?(window.PageChanged=!1,reactor.dispatch("SAVED_NODES"),d.default.success("Template saved"),setTimeout(function(){(0,u.reloadPreview)(!1)},1e3)):d.default.warning(t.message):d.default.error(t)})}updateSchema(){let e=reactor.evaluate(["nodes","nodes"]).map(e=>(0,f.default)(e));reactor.dispatch("SET_NODES",{nodes:(0,v.nodesUnserializer)(e)}),d.default.success("Schema Updated"),jQuery("#jform_builder_version").val(QUIX_VERSION)}presentingSeoResult(){if(this.setState({visibleSeoModal:!0,loadingSeoResult:!0}),!this.state.is_pro_user)return;let e={title:document.getElementById("jform_metadata_title").value,description:document.getElementById("jform_metadata_desc").value,keyword:document.getElementById("jform_metadata_focus_keywords").value};var t=jQuery("#qx-fb-mount").html();(0,i.default)(this.state.app)?setTimeout(()=>{let a=new T({domain:"js-text-analysis",locale_data:{"js-text-analysis":{"":{}}}}),l=new q({i18n:a,data:{title:e.title?e.title:"Quix SEO title of this page.",metaDesc:e.description?e.description:"Your Quix SEO meta description will show here.",urlPath:QuixPageAlias||"quix-seo-page"},baseURL:QUIX_ROOT_URL,previewMode:"mobile",targetElement:document.getElementById("snippet")}),n=new k({snippetPreview:l,targets:{output:"output"},callbacks:{getData:()=>({keyword:e.keyword,text:t,titleWidth:e.title.length})}});n.refresh(),this.setState({app:n,i18n:a}),setTimeout(()=>{var e=this.state.app.seoAssessor.calculateOverallScore();this.setState({seoScore:e}),document.getElementById("jform_metadata_seo_score").value=Math.max(0,e)},2e3),setTimeout(()=>this.setState({loadingSeoResult:!1}),700)},2e3):setTimeout(()=>{this.state.app.snippetPreview.data=(0,n.default)(this.state.app.snippetPreview.data,{title:e.title?e.title:"Quix SEO title of this page.",metaDesc:e.description?e.description:"Your Quix SEO meta description will show here.",urlPath:QuixPageAlias||"quix-seo-page"}),this.state.app.callbacks={getData:()=>({titleWidth:e.title.length,keyword:e.keyword,text:t})},this.state.app.refresh(),setTimeout(()=>{var e=this.state.app.seoAssessor.calculateOverallScore();this.setState({seoScore:e}),document.getElementById("jform_metadata_seo_score").value=Math.max(0,e)},2e3),setTimeout(()=>this.setState({loadingSeoResult:!1}),700)},2e3)}getDeviceToolbar(e){return p.default.createElement("div",{className:"qx-fb-toolbar__devices"},p.default.createElement(P,{prefixCls:"qxui-btn-group"},p.default.createElement(C.default,{title:"Desktop",getTooltipContainer:()=>window.parent.document.body},p.default.createElement(x.default,{className:"desktop"==this.getCookie("qx-device")?"active":"",value:"desktop",onClick:this.changeIframeWidth},p.default.createElement("i",{className:"qxuicon-desktop"}))),p.default.createElement(C.default,{title:"Tablet",getTooltipContainer:()=>window.parent.document.body},p.default.createElement(x.default,{className:"tablet"==this.getCookie("qx-device")?"active":"",value:"tablet",onClick:this.changeIframeWidth},p.default.createElement("i",{className:"qxuicon-tablet"}))),p.default.createElement(C.default,{title:"Mobile",getTooltipContainer:()=>window.parent.document.body},p.default.createElement(x.default,{className:"mobile"==this.getCookie("qx-device")?"active":"",value:"mobile",onClick:this.changeIframeWidth},p.default.createElement("i",{className:"qxuicon-mobile"}))),p.default.createElement(C.default,{title:"Toggle Distraction Free View",getTooltipContainer:()=>window.parent.document.body},p.default.createElement(x.default,{value:e||"html",onClick:this.changeOutputFrame},p.default.createElement("i",{className:"qxuicon-expand"})))))}openImageOptimizationResultModal(){(0,i.default)(window.parent.document.getElementById("jform_id").value)?d.default.error("You can't optimize images without saving your page"):reactor.dispatch("OPEN_IMAGE_OPTIMIZATION_RESULT_MODAL")}getRedoUndoToolbar(){return p.default.createElement("div",{className:"qx-fb-toolbar__undo-redo"},p.default.createElement(P,{prefixCls:"qxui-btn-group"},p.default.createElement(x.default,{disabled:!m.default.canUndo(),key:"undo",onClick:()=>reactor.dispatch("UNDO"),title:"Undo"},p.default.createElement("i",{className:"qxuicon-arrow-left"})),p.default.createElement(x.default,{disabled:!m.default.canRedo(),key:"redo",onClick:()=>reactor.dispatch("REDO"),title:"Redo"},p.default.createElement("i",{className:"qxuicon-arrow-right"}))))}getSaveToolbar(e){let t=(0,b.default)("qxuicon-images preview",{red:this.props.NEED_IMAGE_OPTIMIZATION,green:!this.props.NEED_IMAGE_OPTIMIZATION});return p.default.createElement("div",{className:"qx-fb-toolbar__save"},p.default.createElement(C.default,{title:"QuixRank",getTooltipContainer:()=>window.parent.document.body},p.default.createElement(x.default,{onClick:this.presentingSeoResult.bind(this),style:{margin:"0 10px 0 0"}},p.default.createElement(S.default,{status:"active",percent:parseInt(this.state.seoScore),prefixCls:"qxui-progress"}))),p.default.createElement(C.default,{title:"Optimize Image",getTooltipContainer:()=>window.parent.document.body},p.default.createElement(x.default,{style:{margin:"0 10px 0 0"},value:"optimize-image",onClick:this.openImageOptimizationResultModal},p.default.createElement("i",{className:t,key:"optimize-image"}))),p.default.createElement(C.default,{title:"Page Preview",getTooltipContainer:()=>window.parent.document.body},p.default.createElement(x.default,{style:{margin:"0 10px 0 0"},value:"preview",onClick:u.reloadPreview},p.default.createElement("i",{className:"qxuicon-eye preview",key:"preview"}))),p.default.createElement(P,{prefixCls:"qxui-btn-group",className:"qxui-btn-group--save"},p.default.createElement(x.default,{type:"primary",key:"save",className:"savePage",onClick:this.savePageAjax},p.default.createElement("i",{className:"qxuicon-save"}),"Save"),0!=this.props.nodes.size?p.default.createElement(w.default,{overlay:e,prefixCls:"qxui-dropdown",getPopupContainer:()=>window.parent.document.body,placement:"bottomRight"},p.default.createElement(x.default,null,p.default.createElement("i",{className:"qxuicon-angle-down"}))):null))}getPageNavToolbar(e,t,a,l,n,s){let i=!1;return(0,o.default)(document.getElementById("jform_template_type"))||(i="editor"==document.getElementById("jform_template_type").value),p.default.createElement("div",{className:"qx-fb-toolbar__pagenav qxui-btn-group"},p.default.createElement(y.default,{name:"jform[title]",placeholder:"Page title",value:e,disabled:1==i,id:"jform_title",onlyBaseText:!0,onChange:this.onChange,addonAfter:t,style:{position:"relative",marginRight:"-1px"}}),0==i?p.default.createElement(w.default,{overlay:"collection"==M?a:l,prefixCls:"qxui-dropdown",getPopupContainer:()=>window.parent.document.body,placement:"bottomRight"},p.default.createElement(x.default,null,p.default.createElement("i",{className:"qxuicon-angle-down qx-m-0"}))):null,p.default.createElement(C.default,{title:"Create New Page",getTooltipContainer:()=>window.parent.document.body},p.default.createElement(x.default,{className:"collection"==M?"hide":"",value:"add",onClick:"page"==M?this.addPage:this.addCollection},p.default.createElement("i",{className:"qxuicon-plus"}))),this.settingsDropdown(M,n,s))}settingsDropdown(e,t,a){return p.default.createElement(w.default,{overlay:"collection"==e?t:a,prefixCls:"toolber-settings-dropdown qxui-dropdown",getPopupContainer:()=>window.parent.document.body,placement:"bottomCenter"},p.default.createElement(x.default,null,p.default.createElement("i",{className:"qxuicon-cog"})," Settings"))}render(){var e=this.props;let t=e.outputType,a=e.title;a=document.getElementById("jform_title_hidden").value,t=new URL(window.parent.location.href).searchParams.get("output");let l=window.parent.QuixPageList,n=window.parent.QuixCollectionList;const s=p.default.createElement(E.default,{prefixCls:"qxui-menu",onClick:this.editQuixPage,className:"qx-fb-toolbar__pagelist"},l.length?l.map(e=>{let t=quix.url+"/index.php?option=com_quix&task=page.edit&id="+e.id;return p.default.createElement(E.default.Item,{key:e.id},p.default.createElement("a",{href:t},e.title," ",p.default.createElement("i",{className:[j[e.state],I[e.state],"pull-right"].join(" ")})))}):p.default.createElement(E.default.Item,{key:"0"},"Page list empty")),i=p.default.createElement(E.default,{prefixCls:"qxui-menu",onClick:this.editQuixCollection,className:"qx-fb-toolbar__pagelist"},n.length?n.map(e=>{let t=quix.url+"/index.php?option=com_quix&task=collection.edit&id="+e.id;return p.default.createElement(E.default.Item,{key:e.id},p.default.createElement("a",{href:t},e.title," ",p.default.createElement("span",{className:"label label-default"},e.type),p.default.createElement("i",{className:[j[e.state],I[e.state],"pull-right"].join(" ")})))}):p.default.createElement(E.default.Item,{key:"0"},"Library list empty")),d=document.getElementById("jform_state").value,u=p.default.createElement("i",{className:[j[d],I[d]].join(" "),style:{position:"absolute",zIndex:"1",right:"5px",top:"10px"}}),c=p.default.createElement(E.default,{prefixCls:"qxui-menu",onClick:this.handleMenuSelect},p.default.createElement(E.default.Item,{key:"page"},p.default.createElement("i",{className:"qxuicon-window-alt"})," Page Settings"),p.default.createElement(E.default.Item,{key:"seo"},p.default.createElement("i",{className:"qxuicon-binoculars"})," Seo Settings"),p.default.createElement(E.default.Item,{key:"menu"},p.default.createElement("i",{className:"qxuicon-link"})," Link Page To Menu")),h=p.default.createElement(E.default,{prefixCls:"qxui-menu",onClick:this.handleMenuSelect},p.default.createElement(E.default.Item,{key:"page"},p.default.createElement("i",{className:"qxuicon-window-alt"})," Options"),p.default.createElement(E.default.Item,{key:"seo"},p.default.createElement("i",{className:"qxuicon-binoculars"})," Seo Settings"));let f=null;(0,o.default)(document.getElementById("jform_template_type"))||["article","header","footer","mainbody"].includes(document.getElementById("jform_template_type").value)&&(f=p.default.createElement(E.default.Item,{onClick:()=>reactor.dispatch("OPEN_JOOMLA_LAYOUTS_MODAL"),key:"0"},"Publish Settings"));const m=p.default.createElement(E.default,null,p.default.createElement(E.default.Item,{onClick:this.showTemplateSaveModal.bind(this),key:"0"},"Save as Template"),f,p.default.createElement(E.default.Item,{onClick:this.updateSchema.bind(this),key:"1"},p.default.createElement(C.default,{placement:"bottom",title:"Warning: Only use for old pages to migrate to latest.",getTooltipContainer:()=>window.parent.document.body},"Update Schema")));let g=p.default.createElement("div",null,p.default.createElement("p",{className:"qx-fb-field__label"},"Preview"),p.default.createElement("div",{id:"snippet"}),p.default.createElement("p",{className:"qx-fb-field__label"},"SEO Assesment"),p.default.createElement("p",{id:"output"}),p.default.createElement("button",{className:"seo-snippet qxui-drawer-close seo-snippet-reload",onClick:this.presentingSeoResult.bind(this)},p.default.createElement("span",{className:"seo-snippet qxui-drawer-close-x seo-snippet-icon"},p.default.createElement(C.default,{title:"Re-Check",getTooltipContainer:()=>window.parent.document.body},p.default.createElement("i",{className:"qxuicon-undo"})))),p.default.createElement("div",{className:this.state.loadingSeoResult?"preloader":"preloader hide"},p.default.createElement("div",{className:"wrap"},p.default.createElement("div",{className:"ball"}," "),p.default.createElement("div",{className:"ball"}," "),p.default.createElement("div",{className:"ball"}," "),p.default.createElement("div",{className:"ball"}," ")))),v=p.default.createElement(y.default,{label:"SEO Focus Keyword",placeholder:"Write your keyword & Re-Check",value:this.state.focusKeyword,onChange:e=>{this.setState({focusKeyword:e}),window.PageChanged=!0,r.default.emit("SEO_KEYWORD_UPDATED",e)},onReset:e=>{this.setState({focusKeyword:""}),window.PageChanged=!0,r.default.emit("SEO_KEYWORD_UPDATED","")}});return p.default.createElement("div",{className:"qx-fb-toolbar"},p.default.createElement("div",{className:"qx-fb-toolbar__logo qxui-btn-group"},p.default.createElement(C.default,{title:"Close Page",getTooltipContainer:()=>window.parent.document.body},p.default.createElement(x.default,{value:"close",onClick:this.closePage},p.default.createElement("i",{className:"qxuicon-reply-all"})))),this.getPageNavToolbar(a,u,i,s,h,c),this.getDeviceToolbar(t),this.getRedoUndoToolbar(),this.getSaveToolbar(m),p.default.createElement(N.default,{title:this.state.is_pro_user?v:null,id:"quix-seo-snippet",placement:"right",closable:!0,width:400,onClose:()=>this.setState({visibleSeoModal:!1}),visible:this.state.visibleSeoModal,maskClosable:!1,prefixCls:"seo-snippet qxui-drawer",getModalContainer:()=>window.parent.document.body,style:{overflow:"auto",height:"calc(100% - 55px)",paddingBottom:"55px"}},this.state.is_pro_user?g:p.default.createElement(_.default,{pro:this.state.is_pro_user})))}})||l;t.default=R},819:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return new Promise(function(a,n){let s=e?`${l}&id=${e}`:l;jQuery.ajax({data:t,url:s,type:"POST",success:function(e){try{return(e=JSON.parse(e)).success?a(e):n(e)}catch(t){return n(e)}},error:function(e,t,a){return n(a)}})})};let l=quix.api},820:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l,n=a(83),s=(l=n)&&l.__esModule?l:{default:l},i=a(134);a(45);let o=quix.id,r=quix.url;let d=jQuery(".app-mount").width(),u=d/12;function c(e){return e.preview=function(e,t){let a=`${r}/index.php?option=com_quix&view=${e}&id=${t}`,l=jQuery("#jform_Itemid").val();return l&&(a=`${a}&Itemid=${l}`),a=`${a}&preview=true`}("collection",e.id),"string"==typeof e.data&&(e.data=JSON.parse(e.data)),e}let p=quix.collections.map(c),h=quix.presets,f=p.concat(h),m=(0,i.toImmutable)({url:r,qid:o,grid:12,col:u,blocks:JSON.parse(quix.blocks),presetsScreen:{collections:{section:f.filter(e=>"section"===e.type),layout:f.filter(e=>"layout"===e.type)},visible:!1},presetsLayoutScreen:{collections:{layout:f.filter(e=>"layout"===e.type)},visible:!1},saveCollectionScreen:{visible:!1,data:null,category:null},exportImportScreen:{visible:!1},NEED_IMAGE_OPTIMIZATION:!!(0,s.default)(document.getElementById("jform_params_image_optimized").value)||!Boolean(document.getElementById("jform_params_image_optimized").value)});t.default=(0,i.Store)({getInitialState:()=>m,initialize(){this.on("SET_CONTAINER_WIDTH",(e,{width:t})=>e.mergeDeep({col:t/12})),this.on("OPEN_PRESETS_SCREEN",(e,{path:t,category:a})=>e.mergeDeep({presetsScreen:{visible:!0,path:t,category:a}})),this.on("OPEN_PRESETS_LAYOUT_SCREEN",(e,{path:t,category:a})=>e.mergeDeep({presetsLayoutScreen:{visible:!0,path:t,category:a}})),this.on("OPEN_SAVE_AS_COLLECTION",(e,{data:t})=>e.setIn(["saveCollectionScreen","visible"],!0).setIn(["saveCollectionScreen","data"],t)),this.on("CLOSE_SAVE_AS_COLLECTION",e=>e.setIn(["saveCollectionScreen","visible"],!1)),this.on("OPEN_EXPORT_IMPORT",e=>e.setIn(["exportImportScreen","visible"],!0)),this.on("CLOSE_EXPORT_IMPORT",e=>e.setIn(["exportImportScreen","visible"],!1)),this.on("OPEN_SEO",e=>e.setIn(["seoScreen","visible"],!0)),this.on("CLOSE_SEO",e=>e.setIn(["seoScreen","visible"],!1)),this.on("OPEN_IMAGE_OPTIMIZATION_RESULT_MODAL",e=>(window.parent.jQuery(".qxui-btn.qxui-btn-default.qxui-btn-lg").removeClass("disabled"),window.parent.jQuery(".qxui-btn.qxui-btn-primary.qxui-btn-lg").removeClass("disabled"),e.setIn(["imageOptimizationModal","visible"],!0))),this.on("CLOSE_IMAGE_OPTIMIZATION_RESULT_MODAL",e=>e.setIn(["imageOptimizationModal","visible"],!1)),this.on("CLOSE_JOOMLA_LAYOUTS_MODAL",e=>e.setIn(["joomla-layouts","visible"],!1)),this.on("OPEN_JOOMLA_LAYOUTS_MODAL",e=>e.setIn(["joomla-layouts","visible"],!0)),this.on("NEED_IMAGE_OPTIMIZATION",e=>(document.getElementById("jform_params_image_optimized").value=!1,e.setIn(["NEED_IMAGE_OPTIMIZATION"],!0))),this.on("OPEN_IMAGE_OPTIMIZATION_OPTIONS_MODAL",e=>e.setIn(["image_optimization_options","visible"],!0)),this.on("CLOSE_IMAGE_OPTIMIZATION_OPTIONS_MODAL",e=>e.setIn(["image_optimization_options","visible"],!1)),this.on("NO_NEED_IMAGE_OPTIMIZATION",e=>(document.getElementById("jform_params_image_optimized").value=!0,e.setIn(["NEED_IMAGE_OPTIMIZATION"],!1))),this.on("OPEN_PAGEMODAL",e=>e.setIn(["pageModal","visible"],!0)),this.on("CLOSE_PAGEMODAL",e=>e.setIn(["pageModal","visible"],!1)),this.on("OPEN_LINK_PAGE_MODAL",e=>e.setIn(["linkMenuModal","visible"],!0)),this.on("CLOSE_LINK_PAGE_MODAL",e=>e.setIn(["linkMenuModal","visible"],!1)),this.on("UPDATE_COLLECTIONS",(e,{items:t})=>{let a=t.map(c),l=quix.presets,n=a.concat(l),s=(0,i.toImmutable)({section:n.filter(e=>"section"===e.type),layout:n.filter(e=>"layout"===e.type)});return e.setIn(["presetsScreen","collections"],s)}),this.on("HIDE_PRESETS_SCREEN",e=>e.setIn(["presetsScreen","visible"],!1)),this.on("HIDE_PRESETS_LAYOUT_SCREEN",e=>e.setIn(["presetsLayoutScreen","visible"],!1)),this.on("UPDATE_QID",(e,{qid:t})=>e.set("qid",t))}})},822:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(134),n=M(a(823)),s=M(a(848)),i=M(a(104)),o=M(a(427)),r=M(a(849)),d=M(a(850)),u=M(a(851)),c=M(a(852)),p=M(a(853)),h=M(a(854)),f=M(a(855)),m=M(a(856)),g=M(a(857)),v=M(a(299)),b=a(858),E=M(b),y=M(a(859)),x=M(a(860)),C=M(a(861)),w=M(a(875)),S=M(a(876)),N=M(a(877)),O=M(a(878)),q=M(a(879)),k=M(a(880)),T=a(412),P=a(45);function M(e){return e&&e.__esModule?e:{default:e}}function I(e,{responsive:t}){return t||(e=e.set("device","lg")),e.set("responsive",t)}t.default=(0,l.Store)({getInitialState:()=>v.default.push(n.default),initialize(){this.on(P.REDO,e=>v.default.redo()),this.on(P.UNDO,e=>v.default.undo()),this.on(P.SET_DEVICE,(0,k.default)(w.default)),this.on(P.SET_NODE_VISIBILITY,(0,k.default)((0,N.default)(O.default))),this.on(P.UPDATE_TITLE,(0,k.default)((0,N.default)(f.default))),this.on(P.DUPLICATE_NODE,(0,k.default)((0,N.default)(E.default))),this.on(P.COPY_NODE,(0,k.default)((0,N.default)(s.default))),this.on(P.PASTE_NODE,(0,k.default)((0,N.default)(r.default))),this.on(P.MOVE_NODE,(0,k.default)((0,N.default)(o.default))),this.on(P.COPY_NODE_STYLE,(0,k.default)((0,N.default)(u.default))),this.on(P.PASTE_NODE_STYLE,(0,k.default)((0,N.default)(c.default))),this.on(P.FORCE_COLUMN_RESIZE,(0,k.default)((0,N.default)(m.default))),this.on(P.ADD_ROW_NODE,(0,k.default)((0,N.default)(T.addRowNode))),this.on(P.ADD_SECTION_NODE,(0,k.default)((0,N.default)(T.addSectionNode))),this.on(P.ADD_COLUMN_NODE,(0,k.default)((0,N.default)(T.addColumnNode))),this.on(P.DUPLICATE_COLUMN_NODE,(0,k.default)((0,N.default)(b.duplicateColumnNode))),this.on(P.ADD_ELEMENT_NODE,(0,k.default)((0,N.default)(x.default))),this.on(P.DELETE_NODE,(0,k.default)((0,N.default)(p.default))),this.on(P.CHANGE_COL_SIZE,(0,k.default)((0,N.default)(S.default))),this.on(P.CHANGE_ROW_LAYOUT,(0,k.default)((0,N.default)(C.default))),this.on("WITHDRAW_ROW_LAYOUT",(0,k.default)((0,N.default)(q.default))),this.on(P.APPLY_NODE_FORM,(0,k.default)((0,N.default)(y.default))),this.on(P.IMPORT_NODES,(0,k.default)((0,N.default)(g.default))),this.on("APPEND_PRESET",(0,k.default)((0,N.default)((e,{path:t})=>e))),this.on("PREPEND_PRESET",(0,k.default)((0,N.default)((e,{path:t})=>e))),this.on("REPLACE_PRESET",(0,k.default)((0,N.default)(e=>e))),this.on("SET_NODES",(0,k.default)((0,N.default)((e,{nodes:t})=>t))),this.on("INSERT_NODE",(0,k.default)((0,N.default)((e,{nodes:t,path:a})=>{if(_.isArray(a)){let l=a.slice().pop();return(0,i.default)(e,l+1,t)}return e.concat([t])}))),this.on("INSERT_NODES",(0,k.default)((0,N.default)((e,{nodes:t,path:a})=>{let l=null;return _.isArray(a)&&(l=a.slice().pop()),t.map(t=>{null!=l?(l+=1,e=(0,i.default)(e,l,t)):(e=e.concat([t]),l+=1)}),e}))),this.on("RESPONSIVE_MODE",(0,k.default)(I)),this.on("SAVED_NODES",d.default),this.on("UPDATE_COLUMN_WIDTH",h.default)}})},823:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(22),n=a(412),s=a(137);let i,o=(0,l.fromJS)({}),r=jQuery("#jform_data").val();r?((r=JSON.parse(r)).type=r.type||"",r.data=r.data||[],window.quix_data_type=r.type.toLowerCase(),"section"==r.type.toLowerCase()?i=(0,s.nodesUnserializer)((0,l.fromJS)([r.data])):"layout"==r.type.toLowerCase()||"editor"==r.type.toLowerCase()||"mainbody"==r.type.toLowerCase()||"article"==r.type.toLowerCase()||"footer"==r.type.toLowerCase()||"header"==r.type.toLowerCase()?i=(0,s.nodesUnserializer)((0,l.fromJS)(r.data)):(i=(0,l.fromJS)(r),i=(0,s.nodesUnserializer)(i))):(i=(0,n.addSectionNode)((0,l.fromJS)([]),{})).size=0,window.quix_initial_nodes_size=i.size,o=o.set("nodes",i).set("saved",i).set("responsive",!1).set("device","lg"),t.default=o},848:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,{path:t}){return window.quixElementNodes=e,window.quixElementPath=t,e};var l,n=a(14);(l=n)&&l.__esModule,a(52)},849:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,{path:t}){let a=null;a=window.quixElementPath;let n=t.slice(0,-1),s=t.slice().pop(),o=e.getIn(n),r=e.getIn(a);return r=i(r),o=(0,l.default)(o,s+1,r),e.setIn(n,o)};s(a(14));var l=s(a(104)),n=a(52);function s(e){return e&&e.__esModule?e:{default:e}}function i(e){let t=(0,n.generateNodeId)(e.get("slug"));return(e=(e=e.set("id",t)).setIn(["form","advanced","identifier","1","value"],t)).has("children")&&(e=e.update("children",e=>e.map(i))),e}},850:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.set("saved",e.get("nodes"))}},851:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,{slug:t,path:a,form:l}){return window.qx_element_style_copy={slug:t,path:a,styles:l.styles,advanced:l.advanced},e}},852:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,{path:t}){let a=e.getIn(t.concat(["form","advanced","identifier"])),l=e.getIn(t.concat(["form","advanced","custom_css_group"]));return e=(e=(e=(e=e.setIn(t.concat(["form","styles"]),(0,n.fromJS)(window.qx_element_style_copy.styles))).setIn(t.concat(["form","advanced"]),(0,n.fromJS)(window.qx_element_style_copy.advanced))).setIn(t.concat(["form","advanced","identifier"]),a)).setIn(t.concat(["form","advanced","custom_css_group"]),l),i.default.emit("FETCH_ELEMENT",e.getIn(t.concat(["form"]))),e};var l,n=a(22),s=a(14),i=(l=s)&&l.__esModule?l:{default:l}},853:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,{path:t}){let a=e.getIn(t);if(!a)return e;const l=a.get("slug");let n=e.deleteIn(t);if("column"===l){const e=t.slice(0,-1);let a=n.getIn(e);a=a.map(e=>{if("column"===e.get("slug")){e.toJS();let t=parseFloat(Number(100/a.size).toFixed(5)),l={desktop:t,tablet:t,phone:100};return e=e.set("width",(0,i.fromJS)(l)),jQuery("style#"+e.getIn(["form","advanced","identifier","1","value"])).remove(),jQuery("style#"+e.getIn(["form","advanced","identifier","1","value"])+"-flex").remove(),e.setIn(["form","general","layout_fields_group",1,"value"],(0,i.fromJS)(l))}return e}),n=n.setIn(e,a),"column"===l&&setTimeout(()=>{s.default.emit("RESET_COLUMN_WIDTH")},500)}return n};var l,n=a(14),s=(l=n)&&l.__esModule?l:{default:l},i=a(22)},854:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(22);t.default=((e,{device:t,id:a,path:n,totalIncreased:s,callback:i,skipTotalIncreased:o})=>{let r=_.clone(n),d=r.pop(),u=r.concat(d),c=r.concat(d+1),p=_.clone(u),h=_.clone(c);u.unshift("nodes"),c.unshift("nodes"),e.getIn(c)||(c=r.concat(d-1),h=_.clone(c),c.unshift("nodes"));let f=parseFloat(Number(e.getIn(u.concat(["form","general","layout_fields_group",1,"value",t]))).toFixed(5)),m=parseFloat(Number(e.getIn(c.concat(["form","general","layout_fields_group",1,"value",t]))).toFixed(5)),g=e.getIn(u.concat(["form","general","layout_fields_group",1,"value","unit"])),v=e.getIn(c.concat(["form","general","layout_fields_group",1,"value","unit"]));parseFloat(Number(f+m).toFixed(5));if(s=parseFloat(Number(s).toFixed(5)),o)if(f==s){let a=parseFloat(Number(e.getIn(u.concat(["width",t]))).toFixed(5));f=s,"phone"!=t&&(s<a?m+=a-s:m-=s-a)}else"phone"!=t&&(s<f?m+=f-s:m-=s-f),f=s;else if(s>=f){let e=m-(s-f);e>10&&(f=s,m=e)}else m+=f-s,f=s;Object.assign({},Assets),e.getIn(c.concat(["form","advanced","identifier",1,"value"]));return i&&i(a,p,e.getIn(c.concat(["form","advanced","identifier",1,"value"])),h),e=(e=e.updateIn(u,e=>{let a={};a[t]=parseFloat(Number(f).toFixed(5)),a.unit=g;let n=e.getIn(["form","general","layout_fields_group",1,"value"]).merge(a);return(e=e.set("width",(0,l.fromJS)(n))).setIn(["form","general","layout_fields_group",1,"value"],n)})).updateIn(c,e=>{let a={};a[t]=parseFloat(Number(m).toFixed(5)),a.unit=v;let n=e.getIn(["form","general","layout_fields_group",1,"value"]).merge(a);return(e=e.set("width",(0,l.fromJS)(n))).setIn(["form","general","layout_fields_group",1,"value"],n)})})},855:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,{path:t,title:a}){return t=t.slice().concat(["form","advanced","label"]),e.setIn(t,a)}},856:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,{path:t,size:a}){return e.getIn(t)?e=(e=e.setIn(t.concat("width"),(0,s.fromJS)({desktop:a,tablet:a,phone:100,unit:"%"}))).setIn(t.concat(["form","general","layout_fields_group",1,"value"]),(0,s.fromJS)({desktop:a,tablet:a,phone:100,unit:"%"})):e};var l,n=a(14),s=((l=n)&&l.__esModule,a(22))},857:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,{layout:t,index:a}){if(null===a)return i(t);let l=e.slice(0,a),n=e.slice(a);return l.concat(t.map(i)).concat(n)};a(22);var l,n=a(104),s=((l=n)&&l.__esModule,a(52));function i(e){let t=(0,s.generateNodeId)(e.get("slug"));return(e=(e=e.set("id",t)).setIn(["form","advanced","id"],t)).has("children")&&(e=e.update("children",e=>e.map(i))),e}},858:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=d,t.duplicateColumnNode=function(e,{path:t}){e=d(e,{path:t});let a=t;a.pop();let s=e.getIn(a);if(s.size>12)return e;return s=s.map(e=>{e.toJS();let t=parseFloat(Number(100/s.size).toFixed(5)),a={desktop:t,tablet:t,phone:100};return e=e.set("width",(0,n.fromJS)(a)),jQuery("style#"+e.getIn(["form","advanced","identifier","1","value"])).remove(),jQuery("style#"+e.getIn(["form","advanced","identifier","1","value"])+"-flex").remove(),e.setIn(["form","general","layout_fields_group",1,"value"],(0,n.fromJS)(a))}),setTimeout(()=>{l.default.emit("RESET_COLUMN_WIDTH")},500),e.setIn(a,s)};var l=o(a(14)),n=a(22),s=o(a(104)),i=a(52);function o(e){return e&&e.__esModule?e:{default:e}}function r(e){let t=(0,i.generateNodeId)(e.get("slug"));return(e=(e=e.set("id",t)).setIn(["form","advanced","identifier","1","value"],t)).has("children")&&(e=e.update("children",e=>e.map(r))),e}function d(e,{path:t}){let a=t.slice(0,-1),l=t.slice().pop(),n=e.getIn(a),i=e.getIn(t);return i=r(i),n=(0,s.default)(n,Number(l)+1,i),e.setIn(a,n)}},859:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,{path:t,form:a}){let l=e.setIn(t.slice().concat(["form"]),a),n=a.getIn(["advanced","identifier",0,"value"]),i=a.getIn(["advanced","identifier",1,"value"]).indexOf("column");"Row"==n?s.default.emit("FETCH_ROW",a):"Section"==n?s.default.emit("FETCH_SECTION",a):-1!=i?s.default.emit("FETCH_COLUMN",a):s.default.emit("FETCH_ELEMENT",a);return l};var l,n=a(14),s=(l=n)&&l.__esModule?l:{default:l}},860:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,{path:t,element:a}){return e.setIn(t,a)}},861:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=o(a(862)),n=o(a(872));t.default=function(e,{path:t,layout:a}){let o,r=e.getIn(t),d=a.length;if(r.size>d){o=r.slice(0,d);let e=function(e){return e.map(e=>e.get("children")).flatten(1)}(r.slice(d)),t=[o.size-1,"children"],a=r.getIn(t).concat(e);o=o.setIn(t,a)}else if(r.size<d){let e=d-r.size,t=(0,s.fromJS)((0,n.default)(0,e).map(e=>(0,i.newColumn)(100*a[e])));o=r.concat(t)}else o=r;1===(o=o.map((e,t)=>{let n=a[t],i=(0,l.default)()(["lg","md","sm","xs"]).reduce((e,t)=>e.set(t,n),(0,s.fromJS)({}));return i=i.set("sm",.5).set("xs",1),e.set("size",i)})).size&&(o=o.setIn([0,"size","sm"],1));return e.setIn(t,o)};var s=a(22),i=a(52);function o(e){return e&&e.__esModule?e:{default:e}}},875:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,{device:t}){return e.set("device",t)}},876:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,{path:t,size:a,device:l}){return a/=12,t=t.slice().concat(["size",l]),e.setIn(t,a)}},877:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.default)("nodes",e)};var l,n=a(431),s=(l=n)&&l.__esModule?l:{default:l}},878:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,{path:t,device:a,visibility:l}){if(!a)return e;return t=t.slice().concat(["visibility",a]),e.setIn(t,l)}},879:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,{path:t,children:a}){0==e.getIn(t).size&&(4==t.length?(t.pop(),t.pop(),e=e.setIn(t,(0,l.fromJS)(a))):e=e.setIn(t,(0,l.fromJS)(a)));return e};var l=a(22);a(52)},88:function(e,t,a){"use strict";var l,n=a(59),s=(l=n)&&l.__esModule?l:{default:l},i=a(45);e.exports={setOptions(e,t,a,l,n){s.default.dispatch(i.SET_OPTIONS,{settings:t,schema:a,path:l,name:e,thumb:n})},updateOptions(e,t,a,l){s.default.dispatch(i.UPDATE_OPTIONS,{root:e,value:t,path:a,form:l})},hideOptions(){s.default.dispatch(i.HIDE_OPTIONS)},showOptions(){s.default.dispatch(i.SHOW_OPTIONS)}}},880:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,a){let l=e(t,a);return s.default.push(l)}};var l,n=a(299),s=(l=n)&&l.__esModule?l:{default:l}},881:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(134),n=a(22),s=a(45);let i=(0,n.fromJS)({visible:null,path:null,layouts:[[[1,1]],[[1,2],[1,2]],[[1,3],[1,3],[1,3]],[[1,4],[1,4],[1,4],[1,4]],[[2,3],[1,3]],[[1,3],[2,3]],[[1,4],[3,4]],[[3,4],[1,4]],[[1,2],[1,4],[1,4]],[[1,4],[1,4],[1,2]],[[1,4],[1,2],[1,4]],[[1,5],[1,5],[1,5],[1,5],[1,5]]]});t.default=(0,l.Store)({getInitialState:()=>i,initialize(){this.on(s.HIDE_LAYOUTS,e=>e.set("visible",!1)),this.on(s.SHOW_LAYOUTS,(e,{path:t})=>e.set("visible",!0).set("path",t))}})},882:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=u(a(427)),n=a(134),s=u(a(883)),i=u(a(884)),o=a(433),r=u(a(885)),d=a(45);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,{settings:t,schema:a,name:l,path:n,thumb:s}){let i=(0,r.default)(t,a).map(o.addRefToControls);return e.set("initialForm",i).set("form",i).set("thumb",s).set("title",l).set("path",n)}t.default=(0,n.Store)({getInitialState:()=>(0,n.toImmutable)({title:null,visible:null,form:null,path:null}),initialize(){this.on(d.HIDE_OPTIONS,e=>e.set("visible",!1)),this.on(d.SHOW_OPTIONS,e=>e.set("visible",!0)),this.on(d.SET_OPTIONS,c),this.on(d.UPDATE_OPTIONS,(0,i.default)(s.default)),this.on("MOVE_REPEAT_GROUP",(0,i.default)(l.default))}})},883:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,{root:t,value:a,path:l,option:s}){return e=e.setIn(t,a),e=(0,i.default)(e),(0,n.saveForm)(t,e,!1),e};var l,n=a(288),s=a(432),i=(l=s)&&l.__esModule?l:{default:l}},884:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.default)("form",e)};var l,n=a(431),s=(l=n)&&l.__esModule?l:{default:l}},885:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e=t.map((t,a)=>(0,l.fromJS)((0,n.default)(e.get(a),t))),(0,s.default)(e)};var l=a(22),n=i(a(886)),s=i(a(432));function i(e){return e&&e.__esModule?e:{default:e}}},886:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e&&e.size?t.map(t=>{let a;return"group-repeater"===t.get("type")||"fields-group"===t.get("type")?(0,n.default)(t,e):(a=e.get(t.get("name")),(0,l.default)(t,a))}):t};a(22);var l=s(a(887)),n=s(a(892));function s(e){return e&&e.__esModule?e:{default:e}}},887:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=s(a(162)),n=s(a(21));function s(e){return e&&e.__esModule?e:{default:e}}function i(e){return Number(e)==e?Number(e):e}t.default=function(e,t){return e.get("name"),"select"===e.get("type")&&(t=function(e,t){return!0===e.get("multiple")?(0,n.default)(t)?t.map(i):t:i(t)}(e,t)),typeof e.get("value")==typeof t?e.set("value",t):(0,l.default)(["number","string"],typeof e.get("value"))&&(0,l.default)(["number","string"],typeof t)?e.set("value",t):e}},892:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let a=e.get("name"),l=e.get("type"),n=t.get(a),s=e.get("schema");if(n&&0===n.size)return e.set("value",[]);let i=[];return i="fields-group"==l?s.map((e,l)=>{if(t.getIn([a])){let l=_.find(t.getIn([a]).toJS(),{name:e.get("name")});if(l)return e.set("value",l.value)}return e}):n?n.map(e=>s.map((t,a)=>t.set("value",e.getIn([a,"value"])))):e.get("value"),e.set("value",i)}},893:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(134),n=a(45);let s=(new Date).getTime(),i=(0,l.toImmutable)(qx_elements).map(e=>e.set("last_used",s));function o(e){return e.sortBy(e=>e.get("name"))}function r(e,{slug:t,last_used:a}){let l=e.get("list").findIndex(e=>e.get("slug")===t);return e=e.setIn(["list",l,"last_used"],a)}t.default=(0,l.Store)({getInitialState:()=>(0,l.toImmutable)({path:null,visible:!1,list:o(i)}),initialize(){this.on(n.HIDE_ELEMENTS,e=>e.set("visible",!1).set("path",null)),this.on(n.SHOW_ELEMENTS,(e,{path:t})=>e.set("visible",!0).set("path",t)),this.on("UPDATE_RECENT_USED_ELEMENT_TIMESTAMP",r)}})},894:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,l){document.getElementById("jform_id").value=e,document.getElementById("return_url").value=t,window.parent.document.getElementById("jform_id").value=e,window.parent.document.getElementById("jform_return").value=t,history&&history.pushState?window.parent.history.pushState(null,null,a):window.parent.location.href=a}},895:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e=e.map(s.default),document.getElementById("jform_data").value=JSON.stringify(e),jQuery("#adminForm").serializeArray()};var l,n=a(106),s=(l=n)&&l.__esModule?l:{default:l}},896:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e};t.default=function(e,t){return function(a){return(0,s.default)({mixins:[e.ReactMixin],getDataBindings:()=>t,render(){return n.default.createElement(a,l({},this.props,this.state))}})}};var n=i(a(1)),s=i(a(307));function i(e){return e&&e.__esModule?e:{default:e}}},900:function(e,t,a){var l=a(901);"string"==typeof l&&(l=[[e.i,l,""]]);a(34)(l,{});l.locals&&(e.exports=l.locals)},901:function(e,t,a){(e.exports=a(31)(!1)).push([e.i,".qx-fb-gopro__icon {\n    margin-bottom: 30px;\n    margin-top: 50px;\n}\n.proActivationModal .qxui-modal-body {\n    display: flex;\n    align-items: center;\n}",""])},972:function(e,t){}});